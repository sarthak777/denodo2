# ####################################### 
# Generated by Solution Manager Deployment on 2019-06-25 17:54:41.826
# Generated with Denodo Platform 7.0 update 20190312.

# #######################################
# USER CREATION
# #######################################
DROP USER IF EXISTS cward19;

CREATE USER cward19
LDAP (
    DATASOURCE labs_db_basics.ds_active_directory
    USERNAME 'cn'
) NOCHECK
 '';

DROP USER IF EXISTS ss;

CREATE USER ss 'U4Ie5Zt6DITSmE/SjU3b4mMP/GB9D4EE8s+EqgtPGtfEhakGFknwOUX4n/7dQzHd5Yjmv30Yb2f23Jamsb4CFDf/n85Eqf5J'  ENCRYPTED SHA512  '';

DROP USER IF EXISTS test_user;

CREATE USER test_user 'J1J7NOkyhelhmwBqRSZGCn1nsckcWaPjucbQwshvZoB85nxjSJrp4b2YqnN6IDwdHNQxuEKl7cyRnEPqfIYz5E3fmhgW02h0'  ENCRYPTED SHA512  '';

# #######################################
# ROLE CREATION
# #######################################
DROP ROLE IF EXISTS "Accounting";

CREATE ROLE "Accounting";

DROP ROLE IF EXISTS "Administration";

CREATE ROLE "Administration";

DROP ROLE IF EXISTS "Marketing";

CREATE ROLE "Marketing";

DROP ROLE IF EXISTS "Public Relations";

CREATE ROLE "Public Relations";

DROP ROLE IF EXISTS "Purchasing";

CREATE ROLE "Purchasing";

DROP ROLE IF EXISTS "Sales";

CREATE ROLE "Sales";

DROP ROLE IF EXISTS "Shipping";

CREATE ROLE "Shipping";

DROP ROLE IF EXISTS "data analyst";

CREATE ROLE "data analyst";

DROP ROLE IF EXISTS director;

CREATE ROLE director;

DROP ROLE IF EXISTS executive;

CREATE ROLE executive;

DROP ROLE IF EXISTS finance;

CREATE ROLE finance;

DROP ROLE IF EXISTS "human resources";

CREATE ROLE "human resources";

DROP ROLE IF EXISTS it;

CREATE ROLE it;

DROP ROLE IF EXISTS "sp test";

CREATE ROLE "sp test" '';

DROP ROLE IF EXISTS test;

CREATE ROLE test '';

DROP ROLE IF EXISTS test_role;

CREATE ROLE test_role '';

# #######################################
# I18N MAPS
# #######################################
CONNECT DATABASE admin;

DROP MAP i18n IF EXISTS us_pst_tableau CASCADE;

CREATE MAP i18n us_pst_tableau (
    'country' = 'US'
    'currency' = 'US DOLLAR'
    'currencydecimalposition' = '2'
    'currencydecimalseparator' = ''
    'currencygroupseparator' = ''
    'currencysymbol' = ''
    'datepattern' = 'yyyy-MM-dd HH:mm:ss'
    'doubledecimalposition' = '2'
    'doubledecimalseparator' = ''
    'doublegroupseparator' = ''
    'language' = 'en'
    'moneypattern' = '###,###,###.##'
    'timepattern' = 'DAY'
    'timezone' = 'PST8PDT'
);

CLOSE;

# #######################################
# CONFIGURATION PROPERTIES
# #######################################

CONNECT DATABASE admin;

SET 'com.denodo.security.file.privilege.generalaccess' = '*';

SET 'com.denodo.vdb.cache.cacheMaintainerPeriodInSecs' = '21600';

SET 'com.denodo.vdb.cache.cacheMaintenance' = 'ON';

SET 'com.denodo.vdb.cache.cacheStatus' = 'ON';

SET 'com.denodo.vdb.cache.i18nCode' = 'au_cst';

SET 'com.denodo.vdb.cache.jdbc.cacheDataSourceName' = 'vdpcachedatasource';

SET 'com.denodo.vdb.cache.jdbc.cacheDatabaseDataSourceName' = 'admin';

SET 'com.denodo.vdb.cache.jdbc.customCacheDataSourceName' = 'customvdpcachedatasource';

SET 'com.denodo.vdb.cache.jdbc.derbyCachePort' = '1527';

SET 'com.denodo.vdb.cache.jdbc.derbyCacheRemoteAccess' = 'OFF';

SET 'com.denodo.vdb.cache.jdbc.serverCacheDataSource' = '"zz_test"."SQL"';

SET 'com.denodo.vdb.cache.timeToLiveInSecs' = '-1';

SET 'com.denodo.vdb.catalog.database.identifiersCharset' = 'unicode';

SET 'com.denodo.vdb.catalog.user.User.checkViewRestrictionAlways' = 'true';

SET 'com.denodo.vdb.catalog.user.User.enableCheckViewRestrictionAlways' = 'true';

SET 'com.denodo.vdb.engine.RowQueueSizeInMB' = '10';

SET 'com.denodo.vdb.engine.resource.queryMemoryLimit' = '200';

SET 'com.denodo.vdb.engine.session.restriction.ResourceManagerEngine.resourceManagerStatus' = 'OFF';

SET 'com.denodo.vdb.engine.swap.SwapManager.maxBlockSizeInKB' = '200';

SET 'com.denodo.vdb.engine.swap.SwapManager.swappingResultMaxSizeInMB' = '50';

SET 'com.denodo.vdb.engine.swap.SwapManager.swappingStatus' = 'ON';

SET 'com.denodo.vdb.engine.wrapper.raw.ldap.LDAPAccess.LDAPDefaultPageSize' = '1000';

SET 'com.denodo.vdb.interpreter.execution.SelectAction.costoptimization' = 'true';

SET 'com.denodo.vdb.interpreter.execution.SelectAction.dataMovement' = 'true';

SET 'com.denodo.vdb.interpreter.execution.SelectAction.simplify' = 'true';

SET 'com.denodo.vdb.interpreter.execution.processor.VDBActionProcessor.concurrentQueriesLimit' = 'ON';

SET 'com.denodo.vdb.interpreter.execution.processor.VDBActionProcessor.maxConcurrentQueries' = '100';

SET 'com.denodo.vdb.interpreter.execution.processor.VDBActionProcessor.maxWaitingQueries' = '500';

SET 'com.denodo.vdb.interpreter.execution.processor.VDBActionProcessor.waitingQueriesLimit' = 'OFF';

SET 'com.denodo.vdb.misc.I18nParametersManager.i18nDefault' = 'de_euro';

SET 'com.denodo.vdb.proxy.proxyHost' = '';

SET 'com.denodo.vdb.proxy.proxyPacUri' = '';

SET 'com.denodo.vdb.proxy.proxyPassword' = '';

SET 'com.denodo.vdb.proxy.proxyPort' = '';

SET 'com.denodo.vdb.proxy.proxyStatus' = 'OFF';

SET 'com.denodo.vdb.proxy.proxyUser' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.JSONDatabaseName' = 'labs_db_basics';

SET 'com.denodo.vdb.security.OauthAuthenticator.JSONDatasourceName' = 'ds_sales';

SET 'com.denodo.vdb.security.OauthAuthenticator.accessTokenVariableName' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.algorithmName' = 'HS256';

SET 'com.denodo.vdb.security.OauthAuthenticator.checkjwtIdEnable' = 'true';

SET 'com.denodo.vdb.security.OauthAuthenticator.jwkURL' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.jwtAudience' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.jwtIssuer' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.scopeField' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.subField' = '';

SET 'com.denodo.vdb.security.OauthAuthenticator.useJWT' = 'true';

SET 'com.denodo.vdb.security.OauthAuthenticator.useOAuth2' = 'false';

SET 'com.denodo.vdb.security.allowLDAPAdministratorsToAssignPrivileges' = 'true';

SET 'com.denodo.vdb.util.tablemanagement.sql.insertion.HdfsInsertWorker.parquet.compression' = 'snappy';

SET 'com.denodo.vdb.vdbinterface.server.VDBManagerImpl.factoryPort' = '59997';

SET 'com.denodo.vdb.vdbinterface.server.VDBManagerImpl.odbcPort' = '59996';

SET 'com.denodo.vdb.vdbinterface.server.VDBManagerImpl.registryPort' = '59999';

SET 'com.denodo.vdb.vdbinterface.server.VDBManagerImpl.registryURL' = 'localhost';

SET 'com.denodo.vdb.vdbinterface.server.VDBManagerImpl.shutdownPort' = '59998';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.encryptedPassword' = 'true';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.environment' = 'dev';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.includeAlwaysDependentGlobalElements' = 'false';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.localRepositoriesHome' = 'C:/Softwares/denodo platform/work/vdp/repository';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.password' = 'jhWnv1NvoT2FE/lP9WAo1+1pEJVRFFCyz8zIsKEWPv1MS0Neuw2X3/qUvlUddK41sMUzAn65Cthm/mRflEAtbYz5G1UzmtSfQFMo2oYNgeXa9bH9zeSbiupNYxx3mKPU';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.properties.branch' = 'sa';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.system' = 'git';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.url' = 'https://github.com/sarthak777/denodo.git';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.useUserAndPassword' = 'true';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.useVCS' = 'true';

SET 'com.denodo.vdb.vdbinterface.server.vcs.VCSConfigurationManager.user' = 'sarthak777';

SET 'com.denodo.vdp.catalog.exportMigrationCompatibility' = 'true';

SET 'com.denodo.vdp.catalog.exportMigrationCompatibility.migrateDataTypes' = 'true';

SET 'com.denodo.wsgenerator.restfulws.timezone' = 'GMT';

SET 'java.env.DENODO_OPTS_START' = '-mx2048m -XX:NewRatio=4';

SET 'java.env.DENODO_OPTS_STOP' = '';

SET 'queryOptimization.parallelProcessing.customDataSource.dataSourceName' = 'spark';

SET 'queryOptimization.parallelProcessing.customDataSource.databaseName' = 'big_data';

SET 'queryOptimization.parallelProcessing.dataSource' = 'custom';

SET 'queryOptimization.parallelProcessing.enabled' = 'false';

SET 'storedProcedures.defaultChunkSize' = '100';

SET 'storedProcedures.defaultChunkTimeout' = '80000';

SET 'storedProcedures.defaultQueryTimeout' = '80000';

SET 'userAgent' = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.10';

WEBCONTAINER SET 'com.denodo.tomcat.http.port' = '59090';

WEBCONTAINER SET 'com.denodo.tomcat.jmx.port' = '59098';

WEBCONTAINER SET 'com.denodo.tomcat.jmx.rmi.port' = '59097';

WEBCONTAINER SET 'com.denodo.tomcat.shutdown.port' = '59099';

WEBCONTAINER SET 'java.env.DENODO_OPTS_START' = '-Xmx1024m -Dorg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true -Dorg.apache.catalina.connector.CoyoteAdapter.ALLOW_BACKSLASH=true';

UPDATE SCRIPTS;

CLOSE;


# 0 ====================================================================

# #######################################
# DATABASE of denodo_training
# #######################################
DROP DATABASE IF EXISTS denodo_training;

CREATE DATABASE denodo_training '';

CONNECT DATABASE denodo_training;

# #######################################
# FOLDERS of denodo_training
# #######################################
CREATE OR REPLACE FOLDER '/01 - data sources' ;

CHOWN admin FOLDER '/01 - data sources';

CREATE OR REPLACE FOLDER '/02 - base views' ;

CHOWN admin FOLDER '/02 - base views';

CREATE OR REPLACE FOLDER '/03 - derived views' ;

CHOWN admin FOLDER '/03 - derived views';

# #######################################
# LISTENERS JMS of denodo_training
# #######################################
# No listeners jms in database denodo_training
# #######################################
# DATASOURCES of denodo_training
# #######################################
DROP DATASOURCE DF IF EXISTS ds_connections CASCADE;

CREATE DATASOURCE DF ds_connections
    FOLDER = '/01 - data sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Denodo/shared/vdp/df' FILENAMEPATTERN = '(.*)\.log'
    TUPLEPATTERN = '\[(.+)Z\]\t([0-9\.]+)\t([a-zA-Z ]+)\t([^,]+),([0-2]+) \(Apache-Coyote/1.1: (.+)\) size:(.+)'
    ENDOFLINEDELIMITER = '\n'
    HEADER = FALSE;

CHOWN admin DATASOURCE DF ds_connections LASTMODIFICATIONUSER admin;

DROP DATASOURCE DF IF EXISTS ds_connections_date CASCADE;

CREATE DATASOURCE DF ds_connections_date
    FOLDER = '/01 - data sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Denodo/shared/vdp/df/^DateRange("yyyy/MM/dd",@start_date,@end_date,"yyyyMMdd").log'
    TUPLEPATTERN = '\[(.+)Z\]\t([0-9\.]+)\t([a-zA-Z ]+)\t([^,]+),([0-2]+) \(Apache-Coyote/1.1: (.+)\) size:(.+)'
    ENDOFLINEDELIMITER = '\n'
    HEADER = FALSE;

CHOWN admin DATASOURCE DF ds_connections_date LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS ds_support_site CASCADE;

CREATE DATASOURCE JDBC ds_support_site
    FOLDER = '/01 - data sources'
    DRIVERCLASSNAME = 'oracle.jdbc.OracleDriver'
    DATABASEURI = 'jdbc:oracle:thin:@localhost:1521:xe'
    USERNAME = 'incident_cc'
    USERPASSWORD = 'XkfCW1KVoqq1FgWB0zktoUxN3NfoauUKA9xIwJE7bbQiq0NRm6ztfBAEUWHCmTZ/ef6cI3xDY7q+5NzjxGPVuchJmYLAXCYMXb91CgQWfDxzh89ObFnqEihikW9UA0ff' ENCRYPTED
    CLASSPATH = 'oracle-11g'
    DATABASENAME = 'oracle'
    DATABASEVERSION = '11g'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'SELECT COUNT(*) FROM SYS.DUAL'
    INITIALSIZE = 4
    MAXIDLE = 0
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 0
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = 0
    NUMTESTPEREVICTION = 0
    MINEVICTABLETIME = 0
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 0
    INITIALCAPACITYPS = 0
    PROPERTIES ('includeSynonyms'='true')
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    SOURCECONFIGURATION (
        delegateprojectsubquery = false,
        delegateaggregatefunctionslist = (avg, count, max, min, stdev, stdevp, sum, var, varp),
        delegatescalarfunctionslist = (abs, acos, addday, addhour, addminute, addmonth, addsecond, addweek, addyear, ascii, asin, atan, atan2, case, cast, ceil, char, coalesce, concat, cos, cot, current_date, degrees, div, exp, firstdayofmonth, firstdayofweek, floor, formatdate, getday, getdayofweek, getdayofyear, getdaysbetween, gethour, getmicrosecond, getmillisecond, getminute, getmonth, getmonthsbetween, getnanosecond, getquarter, getsecond, gettimeinmillis, getweek, getyear, instr, lastdayofmonth, lastdayofweek, len, ln, log, lower, ltrim, max, min, mod, mult, nextweekday, now, nullif, pi, position, pow, power, previousweekday, radians, regexp, removeaccents, repeat, replace, round, rtrim, sign, sin, sql_trim, sqrt, substr, substring, subtract, sum, tan, textcat, textconstant, to_date, to_interval_day_second, to_interval_year_month, to_localdate, to_timestamp, to_timestamptz, trim, trunc, upper, xmlquery, xpath)
    );

CHOWN admin DATASOURCE JDBC ds_support_site LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS ds_web_orders CASCADE;

CREATE DATASOURCE JDBC ds_web_orders
    FOLDER = '/01 - data sources'
    DRIVERCLASSNAME = 'oracle.jdbc.OracleDriver'
    DATABASEURI = 'jdbc:oracle:thin:@localhost:1521:xe'
    USERNAME = 'website_sys'
    USERPASSWORD = 'gs8z3Bq7ntxpS0S3MHOa9u9QKPlizyt5IScqixWhkeTHssqe948F13jBC8nBlZK4d9dd+2AEPngUEjlMqP4CV8oSmTg23B3BsKTzS+Epfa9K8h6fE0aJnJl9iRTyRzUg' ENCRYPTED
    CLASSPATH = 'oracle-11g'
    DATABASENAME = 'oracle'
    DATABASEVERSION = '11g'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'SELECT COUNT(*) FROM SYS.DUAL'
    INITIALSIZE = 4
    MAXIDLE = 0
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 0
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = 0
    NUMTESTPEREVICTION = 0
    MINEVICTABLETIME = 0
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 0
    INITIALCAPACITYPS = 0
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    SOURCECONFIGURATION (
        delegateprojectsubquery = false,
        delegateaggregatefunctionslist = (avg, count, max, min, stdev, stdevp, sum, var, varp),
        delegatescalarfunctionslist = (abs, acos, addday, addhour, addminute, addmonth, addsecond, addweek, addyear, ascii, asin, atan, atan2, case, cast, ceil, char, coalesce, concat, cos, cot, current_date, degrees, div, exp, firstdayofmonth, firstdayofweek, floor, formatdate, getday, getdayofweek, getdayofyear, getdaysbetween, gethour, getmillisecond, getminute, getmonth, getmonthsbetween, getquarter, getsecond, gettimeinmillis, getweek, getyear, instr, lastdayofmonth, lastdayofweek, len, ln, log, lower, ltrim, max, min, mod, mult, nextweekday, now, nullif, pi, position, pow, power, previousweekday, radians, regexp, removeaccents, repeat, replace, round, rtrim, sign, sin, sql_trim, sqrt, substr, substring, subtract, sum, tan, textcat, textconstant, to_date, to_interval_day_second, to_interval_year_month, to_localdate, to_timestamp, to_timestamptz, trim, trunc, upper, xmlquery, xpath)
    );

CHOWN admin DATASOURCE JDBC ds_web_orders LASTMODIFICATIONUSER admin;

DROP DATASOURCE ODBC IF EXISTS ds_call_center CASCADE;

CREATE DATASOURCE ODBC ds_call_center
    FOLDER = '/01 - data sources'
    DSN = 'sarthak_dsn'
    USERNAME = 'phone'
    USERPASSWORD = 'RQRIJIOtwiqRh5FHsLhNmsf5mGNp/1qu45T+GkycKsYLBJ47ex2EzeBvoPR5749NebZGHs0kKbRHajPxLCA8WJudsNMA8gDUkD0bKgGFCEiJsvrfQ2PdWuxxfLBeVhc2' ENCRYPTED
    CLASSPATH = 'jdbc-odbc'
    DATABASENAME = 'ACCESS'
    DATABASEVERSION = '04.00.0000'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 0
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 0
    EXHAUSTEDACTION = 1
    TESTONBORROW = false
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8;

CHOWN admin DATASOURCE ODBC ds_call_center LASTMODIFICATIONUSER admin;

DROP DATASOURCE WS IF EXISTS ds_product CASCADE;

CREATE DATASOURCE WS ds_product
    FOLDER = '/01 - data sources'
    WSDLURI = 'http://localhost:8082/services/products-ws?wsdl'
    MAXCONNECTIONS 50
    CONNECTIONPOOLTIMEOUT 0
    AUTHENTICATION WSS BASIC( 
      USER 'product'
      PASSWORD 'i6XpViGafIYRtT97iTMf5INgHxAWTIbzXIRP+IMXL0BLiNnNV+ne2t0BrO2TWZP0B0YThzYX2YRuXkNF3CYT0NXH7y5CE8QqilmmWA0q3DiWTeZiuVXhELrwt75938BO' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE WS ds_product LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE denodo_training
  CHARSET UNICODE;

ALTER DATABASE denodo_training
  CACHE OFF (
    MAINTAINERPERIOD 21600
    TIMETOLIVE 3600
    DATASOURCE vdpcachedatasource DATABASE admin
  );

# #######################################
# WRAPPERS of denodo_training
# #######################################
DROP WRAPPER DF IF EXISTS ds_conn_events CASCADE;

CREATE WRAPPER DF ds_conn_events
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_connections
    OUTPUTSCHEMA (
        event_date = 'Column0' (OPT),
        source_ip = 'Column1' (OPT),
        device = 'Column2' (OPT),
        path = 'Column3' (OPT),
        http_code = 'Column4' (OPT),
        content_type = 'Column5' (OPT),
        size = 'Column6' (OPT)
    );

CHOWN admin WRAPPER DF ds_conn_events LASTMODIFICATIONUSER admin;

DROP WRAPPER DF IF EXISTS ds_connections_date CASCADE;

CREATE WRAPPER DF ds_connections_date
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_connections_date
    OUTPUTSCHEMA (
        end_date = 'end_date' (OBL) (DEFAULTVALUE='2016/01/02') EXTERN,
        start_date = 'start_date' (OBL) (DEFAULTVALUE='2016/01/01') EXTERN,
        event_date = 'Column0' (OPT),
        source_ip = 'Column1' (OPT),
        device = 'Column2' (OPT),
        path = 'Column3' (OPT),
        http_code = 'Column4' (OPT),
        content_type = 'Column5' (OPT),
        size = 'Column6' (OPT)
    );

CHOWN admin WRAPPER DF ds_connections_date LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_support_get_all_service_request CASCADE;

CREATE WRAPPER JDBC bv_support_get_all_service_request
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_support_site
    PACKAGENAME='PKG_SUPPORT_DB' 
    PROCEDURENAME='PR_GET_ALL_SERVICE_REQUEST' 
    OUTPUTSCHEMA (
        customer_code = 'CUSTOMER_CODE' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        case_closed_date = 'CASE_CLOSED_DATE' :'java.time.LocalDateTime' (sourcetypedecimals='6', sourcetypesize='0', sourcetypeid='93', sourcetypename='TIMESTAMP')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        customer_ip = 'CUSTOMER_IP' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='100', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        customer_phone = 'CUSTOMER_PHONE' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        status_description = 'STATUS_DESCRIPTION' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='200', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        agent_code = 'AGENT_CODE' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        agent_id = 'AGENT_ID' :'java.math.BigDecimal' (sourcetypeid='2', sourcetypename='NUMBER')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        sr_date = 'SR_DATE' :'java.time.LocalDateTime' (sourcetypedecimals='6', sourcetypesize='0', sourcetypeid='93', sourcetypename='TIMESTAMP')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        customer_name = 'CUSTOMER_NAME' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='50', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        customer_job_title = 'CUSTOMER_JOB_TITLE' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='50', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        case_summary = 'CASE_SUMMARY' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='2000', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        agent_name = 'AGENT_NAME' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='100', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        status_code = 'STATUS_CODE' :'java.math.BigDecimal' (sourcetypedecimals='0', sourcetypesize='38', sourcetypeid='2', sourcetypename='NUMBER')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        sr_description = 'SR_DESCRIPTION' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='2000', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        case_creation_date = 'CASE_CREATION_DATE' :'java.time.LocalDateTime' (sourcetypedecimals='6', sourcetypesize='0', sourcetypeid='93', sourcetypename='TIMESTAMP')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        customer_address = 'CUSTOMER_ADDRESS' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='100', sourcetypeid='12', sourcetypename='VARCHAR2')  NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD',
        global_case_id = 'GLOBAL_CASE_ID' :'java.math.BigDecimal' (sourcetypeid='2', sourcetypename='NUMBER')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=4 FROMFLATTEN='O_RECORD'
    );

CHOWN admin WRAPPER JDBC bv_support_get_all_service_request LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_support_get_service_request_by_id CASCADE;

CREATE WRAPPER JDBC bv_support_get_service_request_by_id
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_support_site
    PACKAGENAME='PKG_SUPPORT_DB' 
    PROCEDURENAME='PR_GET_SERVICE_REQUEST_BY_ID' 
    OUTPUTSCHEMA (
        i_case_id = 'I_CASE_ID' :'java.math.BigDecimal' (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypesize='22')  NOT NULL NOT SORTABLE PARAMINDEX=1 PARAMTYPE=1,
        o_sr_date = 'O_SR_DATE' :'java.sql.Timestamp' (sourcetyperadix='10', sourcetypename='TIMESTAMP', sourcetypeid='93', sourcetypesize='6')  NOT NULL NOT SORTABLE PARAMINDEX=2 PARAMTYPE=4,
        o_sr_description = 'O_SR_DESCRIPTION' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=3 PARAMTYPE=4,
        o_customer_ip = 'O_CUSTOMER_IP' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=4 PARAMTYPE=4,
        o_global_case_id = 'O_GLOBAL_CASE_ID' :'java.math.BigDecimal' (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypesize='22')  NOT NULL NOT SORTABLE PARAMINDEX=5 PARAMTYPE=4,
        o_case_creation_date = 'O_CASE_CREATION_DATE' :'java.sql.Timestamp' (sourcetyperadix='10', sourcetypename='TIMESTAMP', sourcetypeid='93', sourcetypesize='6')  NOT NULL NOT SORTABLE PARAMINDEX=6 PARAMTYPE=4,
        o_case_closed_date = 'O_CASE_CLOSED_DATE' :'java.sql.Timestamp' (sourcetyperadix='10', sourcetypename='TIMESTAMP', sourcetypeid='93', sourcetypesize='6')  NOT NULL NOT SORTABLE PARAMINDEX=7 PARAMTYPE=4,
        o_case_summary = 'O_CASE_SUMMARY' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=8 PARAMTYPE=4,
        o_status_code = 'O_STATUS_CODE' :'java.math.BigDecimal' (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypesize='22')  NOT NULL NOT SORTABLE PARAMINDEX=9 PARAMTYPE=4,
        o_status_description = 'O_STATUS_DESCRIPTION' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=10 PARAMTYPE=4,
        o_customer_code = 'O_CUSTOMER_CODE' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=11 PARAMTYPE=4,
        o_customer_name = 'O_CUSTOMER_NAME' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=12 PARAMTYPE=4,
        o_customer_address = 'O_CUSTOMER_ADDRESS' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=13 PARAMTYPE=4,
        o_customer_phone = 'O_CUSTOMER_PHONE' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=14 PARAMTYPE=4,
        o_customer_job_title = 'O_CUSTOMER_JOB_TITLE' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=15 PARAMTYPE=4,
        o_agent_id = 'O_AGENT_ID' :'java.math.BigDecimal' (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypesize='22')  NOT NULL NOT SORTABLE PARAMINDEX=16 PARAMTYPE=4,
        o_agent_code = 'O_AGENT_CODE' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=17 PARAMTYPE=4,
        o_agent_name = 'O_AGENT_NAME' :'java.lang.String' (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12')  NOT NULL NOT SORTABLE PARAMINDEX=18 PARAMTYPE=4
    );

CHOWN admin WRAPPER JDBC bv_support_get_service_request_by_id LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_customer CASCADE;

CREATE WRAPPER JDBC bv_wo_customer
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SCHEMANAME='WEBSITE_SYS' 
    RELATIONNAME='CUSTOMER' 
    OUTPUTSCHEMA (
        id = 'ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        customer_code_internal = 'CUSTOMER_CODE_INTERNAL' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  NOT NULL SORTABLE,
        first_name = 'FIRST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='50')  NOT NULL SORTABLE,
        last_name = 'LAST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='100')  SORTABLE,
        email = 'EMAIL' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='50')  NOT NULL SORTABLE,
        phone = 'PHONE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        main_address = 'MAIN_ADDRESS' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='200')  SORTABLE,
        main_postcode = 'MAIN_POSTCODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        main_country = 'MAIN_COUNTRY' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='100')  SORTABLE,
        registered_date = 'REGISTERED_DATE' :'java.sql.Timestamp' (OPT) (sourcetyperadix='10', sourcetypename='TIMESTAMP(6)', sourcetypeid='93', sourcetypedecimals='6', sourcetypesize='11')  NOT NULL SORTABLE
    )
    CONSTRAINT 'CUSTOMER_PK' PRIMARY KEY ( 'ID' , 'CUSTOMER_CODE_INTERNAL' )
    INDEX 'CUSTOMER_PK' CLUSTER UNIQUE PRIMARY ( 'ID' , 'CUSTOMER_CODE_INTERNAL' );

CHOWN admin WRAPPER JDBC bv_wo_customer LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_distance_from_storage CASCADE;

CREATE WRAPPER JDBC bv_wo_distance_from_storage
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SQLSENTENCE='select
     LATITUDE as lat_storage, LONGITUDE as lon_storage,
     ID as storage_id,
     (NVL(6387.7,0) * ACOS((sin(NVL(@lat_input,0) / 57.29577951) *
     SIN(NVL(LATITUDE,0) / 57.29577951)) + (COS(NVL(@lat_input,0) / 57.29577951) *
     COS(NVL(LATITUDE,0) / 57.29577951) * COS(NVL(LONGITUDE,0) / 57.29577951 -
     NVL(@lon_input,0) / 57.29577951)))) as distance
from
     STORAGES
order by
     distance asc'   
    OUTPUTSCHEMA (
        lat_storage = 'LAT_STORAGE' :'java.math.BigDecimal' (sourcetypename='NUMBER', sourcetypeid='2', sourcetypedecimals='10', sourcetypesize='20')  SORTABLE NOT UPDATEABLE,
        lon_storage = 'LON_STORAGE' :'java.math.BigDecimal' (sourcetypename='NUMBER', sourcetypeid='2', sourcetypedecimals='10', sourcetypesize='20')  SORTABLE NOT UPDATEABLE,
        storage_id = 'STORAGE_ID' :'java.lang.Integer' (sourcetypename='NUMBER', sourcetypeid='2')  NOT NULL SORTABLE NOT UPDATEABLE,
        distance = 'DISTANCE' :'java.lang.Integer' (sourcetypename='NUMBER', sourcetypeid='2', sourcetypedecimals='0')  SORTABLE NOT UPDATEABLE,
        lat_input = 'LAT_INPUT' :'java.lang.String' (OBL) (DEFAULTVALUE='0')  EXTERN SORTABLE,
        lon_input = 'LON_INPUT' :'java.lang.String' (OBL) (DEFAULTVALUE='0')  EXTERN SORTABLE
    );

CHOWN admin WRAPPER JDBC bv_wo_distance_from_storage LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_order_item CASCADE;

CREATE WRAPPER JDBC bv_wo_order_item
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SCHEMANAME='WEBSITE_SYS' 
    RELATIONNAME='ORDER_ITEM' 
    OUTPUTSCHEMA (
        id = 'ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        order_id = 'ORDER_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        product_id = 'PRODUCT_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE
    )
    CONSTRAINT 'ORDER_ITEM_PK' PRIMARY KEY ( 'ID' )
    INDEX 'ORDER_ITEM_PK' CLUSTER UNIQUE PRIMARY ( 'ID' );

CHOWN admin WRAPPER JDBC bv_wo_order_item LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_orders CASCADE;

CREATE WRAPPER JDBC bv_wo_orders
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SCHEMANAME='WEBSITE_SYS' 
    RELATIONNAME='ORDERS' 
    OUTPUTSCHEMA (
        id = 'ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        customer_code = 'CUSTOMER_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  NOT NULL SORTABLE,
        status = 'STATUS' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  NOT NULL SORTABLE,
        date_placed = 'DATE_PLACED' :'java.sql.Timestamp' (OPT) (sourcetyperadix='10', sourcetypename='TIMESTAMP(6)', sourcetypeid='93', sourcetypedecimals='6', sourcetypesize='11')  SORTABLE,
        date_delivered = 'DATE_DELIVERED' :'java.sql.Timestamp' (OPT) (sourcetyperadix='10', sourcetypename='TIMESTAMP(6)', sourcetypeid='93', sourcetypedecimals='6', sourcetypesize='11')  SORTABLE,
        date_closed = 'DATE_CLOSED' :'java.sql.Timestamp' (OPT) (sourcetyperadix='10', sourcetypename='TIMESTAMP(6)', sourcetypeid='93', sourcetypedecimals='6', sourcetypesize='11')  SORTABLE
    )
    CONSTRAINT 'ORDERS_PK' PRIMARY KEY ( 'ID' )
    INDEX 'ORDERS_PK' CLUSTER UNIQUE PRIMARY ( 'ID' );

CHOWN admin WRAPPER JDBC bv_wo_orders LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_stock CASCADE;

CREATE WRAPPER JDBC bv_wo_stock
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SCHEMANAME='WEBSITE_SYS' 
    RELATIONNAME='STOCK' 
    OUTPUTSCHEMA (
        id = 'ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        product_id = 'PRODUCT_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        distribution_code = 'DISTRIBUTION_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='100')  NOT NULL SORTABLE,
        storage_id = 'STORAGE_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE
    )
    CONSTRAINT 'STOCK_PK' PRIMARY KEY ( 'ID' )
    INDEX 'STOCK_PK' CLUSTER UNIQUE PRIMARY ( 'ID' );

CHOWN admin WRAPPER JDBC bv_wo_stock LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_wo_storages CASCADE;

CREATE WRAPPER JDBC bv_wo_storages
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_web_orders
    SCHEMANAME='WEBSITE_SYS' 
    RELATIONNAME='STORAGES' 
    OUTPUTSCHEMA (
        id = 'ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        address = 'ADDRESS' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='150')  SORTABLE,
        city = 'CITY' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
        postal_code = 'POSTAL_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        country = 'COUNTRY' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='70')  SORTABLE,
        country_code = 'COUNTRY_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        latitude = 'LATITUDE' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='10', sourcetypesize='20')  SORTABLE,
        longitude = 'LONGITUDE' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='10', sourcetypesize='20')  SORTABLE
    )
    CONSTRAINT 'STORAGES_PK' PRIMARY KEY ( 'ID' )
    INDEX 'STORAGES_PK' CLUSTER UNIQUE PRIMARY ( 'ID' );

CHOWN admin WRAPPER JDBC bv_wo_storages LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS countries CASCADE;

CREATE WRAPPER JDBC countries
    FOLDER = '/01 - data sources'
    DATASOURCENAME=ds_support_site
    SCHEMANAME='HR' 
    RELATIONNAME='COUNTRIES' 
    OUTPUTSCHEMA (
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypesize='2', sourcetypeid='1', sourcetypename='CHAR')  NOT NULL SORTABLE,
        country_name = 'COUNTRY_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypesize='40', sourcetypeid='12', sourcetypename='VARCHAR2')  SORTABLE,
        region_id = 'REGION_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypeid='3', sourcetypename='NUMBER')  SORTABLE
    )
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'COUNTRY_ID' )
    CONSTRAINT 'COUNTR_REG_FK' FOREIGN KEY ( 'REGION_ID' ) 
    REFERENCES 'HR'.'REGIONS'( 'REGION_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'COUNTRY_C_ID_PK' CLUSTER UNIQUE PRIMARY ( 'COUNTRY_ID' );

CHOWN admin WRAPPER JDBC countries LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS oracle CASCADE;

CREATE WRAPPER JDBC oracle
    FOLDER = '/01 - data sources'
    DATASOURCENAME=ds_support_site
    SCHEMANAME='SARTHAK' 
    RELATIONNAME='SA' 
    OUTPUTSCHEMA (
        "DATE_INT" = 'DATE_INT' :'java.math.BigDecimal' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='38', sourcetypeid='3', sourcetypename='NUMBER')  SORTABLE
    );

CHOWN admin WRAPPER JDBC oracle LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_agent CASCADE;

CREATE WRAPPER ODBC bv_cc_agent
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking'  ESCAPE
    RELATIONNAME='agent' 
    OUTPUTSCHEMA (
    agent_id = 'agent_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    agent_code = 'agent_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
    agent_name = 'agent_name' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='150')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_agent LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_case_definition CASCADE;

CREATE WRAPPER ODBC bv_cc_case_definition
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking' 
    RELATIONNAME='case_definition' 
    OUTPUTSCHEMA (
    case_id = 'case_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    date_raised = 'date_raised' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    date_closed = 'date_closed' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    case_status = 'case_status' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    case_summary = 'case_summary' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    case_comments = 'case_comments' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_case_definition LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_customer CASCADE;

CREATE WRAPPER ODBC bv_cc_customer
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking'  ESCAPE
    RELATIONNAME='customer' 
    OUTPUTSCHEMA (
    customer_id = 'customer_id' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='COUNTER')  NOT NULL NOT SORTABLE,
    customer_name = 'customer_name' :'java.lang.String' (OPT) (sourcetypesize='150', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    customer_address = 'customer_address' :'java.lang.String' (OPT) (sourcetypesize='250', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    phone_number = 'phone_number' :'java.lang.String' (OPT) (sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    job_title = 'job_title' :'java.lang.String' (OPT) (sourcetypesize='50', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypesize='250', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_customer LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_problem CASCADE;

CREATE WRAPPER ODBC bv_cc_problem
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking'  ESCAPE
    RELATIONNAME='problem' 
    OUTPUTSCHEMA (
    problem_code = 'problem_code' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='COUNTER')  NOT NULL NOT SORTABLE,
    problem_description = 'problem_description' :'java.lang.String' (OPT) (sourcetypesize='250', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_problem LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_service_call CASCADE;

CREATE WRAPPER ODBC bv_cc_service_call
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking'  ESCAPE
    RELATIONNAME='service_call' 
    OUTPUTSCHEMA (
    call_id = 'call_id' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='COUNTER')  NOT NULL NOT SORTABLE,
    location_id = 'location_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    problem_code = 'problem_code' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    status_code = 'status_code' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    date_ticket_issued = 'date_ticket_issued' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='0', sourcetypesize='19', sourcetypeid='93', sourcetypename='DATETIME')  NOT SORTABLE,
    date_call_received = 'date_call_received' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='0', sourcetypesize='19', sourcetypeid='93', sourcetypename='DATETIME')  NOT SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypesize='250', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    caller_phone = 'caller_phone' :'java.lang.String' (OPT) (sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    case_id = 'case_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    agent_id = 'agent_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypesize='30', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_service_call LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_service_location CASCADE;

CREATE WRAPPER ODBC bv_cc_service_location
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking' 
    RELATIONNAME='service_location' 
    OUTPUTSCHEMA (
    id = 'id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    location_id = 'location_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    customer_id = 'customer_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    business_name = 'business_name' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
    service_location = 'service_location' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_service_location LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_status_code CASCADE;

CREATE WRAPPER ODBC bv_cc_status_code
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_call_center
    SCHEMANAME='calltracking' 
    RELATIONNAME='status_code' 
    OUTPUTSCHEMA (
    code_id = 'code_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    code_description = 'code_description' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_status_code LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product CASCADE;

CREATE WRAPPER WS bv_product
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProductDetails'
    INPUTMESSAGE='getAllProductDetails'
    OUTPUTMESSAGE='getAllProductDetailsResponse'
    TUPLEROOT='/Envelope/Body/getAllProductDetailsResponse/product/productDetails/productDetail'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    code='Envelope.Body.getAllProductDetailsResponse.product.code',
    description='Envelope.Body.getAllProductDetailsResponse.product.description',
    warnings='Envelope.Body.getAllProductDetailsResponse.product.warnings',
    numresults='Envelope.Body.getAllProductDetailsResponse.product.numResults',
    productid='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productId',
    productname='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productName',
    productprice='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productPrice',
    category = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.category': REGISTER OF (
        categoryid='categoryId',
        categoryname='categoryName'
    ),
    characteristics = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.characteristics': REGISTER OF (
        characteristic_dimensions='characteristic_dimensions',
        characteristic_weight='characteristic_weight',
        characteristic_details='characteristic_details',
        characteristic_color='characteristic_color'
    ),
    accessories = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.accessories': ARRAY OF (
        productdata = 'accessories': REGISTER OF (
            productid='productId',
            productname='productName',
            productprice='productPrice'
        )
    )
    );

CHOWN admin WRAPPER WS bv_product LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_by_category CASCADE;

CREATE WRAPPER WS bv_product_by_category
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductsByCategory'
    INPUTMESSAGE='getProductsByCategory'
    OUTPUTMESSAGE='getProductsByCategoryResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    return = '$$': REGISTER OF (
        products = 'products': ARRAY OF (
            productdata = 'ProductData': REGISTER OF (
                productid='productId',
                productname='productName',
                productprice='productPrice'
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_by_category LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_by_category1 CASCADE;

CREATE WRAPPER WS bv_product_by_category1
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductsByCategory'
    INPUTMESSAGE='getProductsByCategory'
    OUTPUTMESSAGE='getProductsByCategoryResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    return = '$$': REGISTER OF (
        products = 'products': ARRAY OF (
            productdata = 'ProductData': REGISTER OF (
                productid='productId',
                productname='productName',
                productprice='productPrice'
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_by_category1 LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_categories CASCADE;

CREATE WRAPPER WS bv_product_categories
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllCategories'
    INPUTMESSAGE='getAllCategories'
    OUTPUTMESSAGE='getAllCategoriesResponse'
    TUPLEROOT='/Envelope/Body/getAllCategoriesResponse'
    FROMEXAMPLE
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        mode='mode' (OBL)
    ),
    categories = 'Envelope.Body.getAllCategoriesResponse.categories': REGISTER OF (
        category = 'category': ARRAY OF (
            category = 'category': REGISTER OF (
                categoryid='categoryId',
                categoryname='categoryName'
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_categories LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_details CASCADE;

CREATE WRAPPER WS bv_product_details
    FOLDER = '/02 - base views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProductDetails'
    INPUTMESSAGE='getAllProductDetails'
    OUTPUTMESSAGE='getAllProductDetailsResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    return = '$$': REGISTER OF (
        product = 'product': REGISTER OF (
            code='code',
            description='description',
            warnings='warnings',
            numresults='numResults',
            productdetails = 'productDetails': ARRAY OF (
                productdetaildata = 'ProductDetailData': REGISTER OF (
                    productid='productId',
                    productname='productName',
                    productprice='productPrice',
                    category = 'category': REGISTER OF (
                        categoryid='categoryId',
                        categoryname='categoryName'
                    ),
                    characteristics = 'characteristics': REGISTER OF (
                        characteristic_dimensions='characteristic_dimensions',
                        characteristic_weight='characteristic_weight',
                        characteristic_details='characteristic_details',
                        characteristic_color='characteristic_color'
                    ),
                    accessories = 'accessories': ARRAY OF (
                        productdata = 'ProductData': REGISTER OF (
                            productid='productId',
                            productname='productName',
                            productprice='productPrice'
                        )
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_details LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS getproductdetailsbycategory CASCADE;

CREATE WRAPPER WS getproductdetailsbycategory
    FOLDER = '/01 - data sources'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductDetailsByCategory'
    INPUTMESSAGE='getProductDetailsByCategory'
    OUTPUTMESSAGE='getProductDetailsByCategoryResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    return = '$$': REGISTER OF (
        productdetails = 'productDetails': ARRAY OF (
            productdetaildata = 'ProductDetailData': REGISTER OF (
                productid='productId',
                productname='productName',
                productprice='productPrice',
                category = 'category': REGISTER OF (
                    categoryid='categoryId',
                    categoryname='categoryName'
                ),
                characteristics = 'characteristics': REGISTER OF (
                    characteristic_dimensions='characteristic_dimensions',
                    characteristic_weight='characteristic_weight',
                    characteristic_details='characteristic_details',
                    characteristic_color='characteristic_color'
                ),
                accessories = 'accessories': ARRAY OF (
                    productdata = 'ProductData': REGISTER OF (
                        productid='productId',
                        productname='productName',
                        productprice='productPrice'
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER WS getproductdetailsbycategory LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of denodo_training
# #######################################
# No stored procedures in database denodo_training
# #######################################
# TYPES of denodo_training
# #######################################
DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_register AS REGISTER OF (custompermissions:text);

DROP TYPE IF EXISTS _procedure_catalog_permissions_restriction_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_restriction_register AS REGISTER OF (sensitivefields:text, condition:text, action:text);

DROP TYPE IF EXISTS bv_product_accessories_productdata CASCADE;

CREATE TYPE bv_product_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS bv_product_by_category_parameters CASCADE;

CREATE TYPE bv_product_by_category_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS bv_product_by_category_return_products_productdata CASCADE;

CREATE TYPE bv_product_by_category_return_products_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS bv_product_category CASCADE;

CREATE TYPE bv_product_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS bv_product_characteristics CASCADE;

CREATE TYPE bv_product_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails_productdetaildata_accessories_productdata CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails_productdetaildata_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails_productdetaildata_category CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails_productdetaildata_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails_productdetaildata_characteristics CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails_productdetaildata_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getallcategories_categories_category_category CASCADE;

CREATE TYPE getallcategories_categories_category_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallcategories_parameters CASCADE;

CREATE TYPE getallcategories_parameters AS REGISTER OF (mode:text);

DROP TYPE IF EXISTS getallproductdetails_accessories_productdata CASCADE;

CREATE TYPE getallproductdetails_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getallproductdetails_category CASCADE;

CREATE TYPE getallproductdetails_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallproductdetails_characteristics CASCADE;

CREATE TYPE getallproductdetails_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_category CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_characteristics CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_parameters CASCADE;

CREATE TYPE getproductdetailsbycategory_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_category CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getproductsbycategory_parameters CASCADE;

CREATE TYPE getproductsbycategory_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS getproductsbycategory_return_products_productdata CASCADE;

CREATE TYPE getproductsbycategory_return_products_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_array AS ARRAY OF _procedure_catalog_permissions_custompermissions_register;

DROP TYPE IF EXISTS _procedure_catalog_permissions_rowpermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_rowpermissions_array AS ARRAY OF _procedure_catalog_permissions_restriction_register;

DROP TYPE IF EXISTS bv_product_accessories CASCADE;

CREATE TYPE bv_product_accessories AS ARRAY OF bv_product_accessories_productdata;

DROP TYPE IF EXISTS bv_product_by_category_return_products CASCADE;

CREATE TYPE bv_product_by_category_return_products AS ARRAY OF bv_product_by_category_return_products_productdata;

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails_productdetaildata_accessories CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails_productdetaildata_accessories AS ARRAY OF bv_product_details_return_product_productdetails_productdetaildata_accessories_productdata;

DROP TYPE IF EXISTS getallcategories_categories_category CASCADE;

CREATE TYPE getallcategories_categories_category AS ARRAY OF getallcategories_categories_category_category;

DROP TYPE IF EXISTS getallproductdetails_accessories CASCADE;

CREATE TYPE getallproductdetails_accessories AS ARRAY OF getallproductdetails_accessories_productdata;

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_accessories CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_accessories AS ARRAY OF getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata;

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_accessories CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_accessories AS ARRAY OF getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata;

DROP TYPE IF EXISTS getproductsbycategory_return_products CASCADE;

CREATE TYPE getproductsbycategory_return_products AS ARRAY OF getproductsbycategory_return_products_productdata;

DROP TYPE IF EXISTS bv_product_by_category_return CASCADE;

CREATE TYPE bv_product_by_category_return AS REGISTER OF (products:bv_product_by_category_return_products);

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails_productdetaildata CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails_productdetaildata AS REGISTER OF (productid:int, productname:text, productprice:float, category:bv_product_details_return_product_productdetails_productdetaildata_category, characteristics:bv_product_details_return_product_productdetails_productdetaildata_characteristics, accessories:bv_product_details_return_product_productdetails_productdetaildata_accessories);

DROP TYPE IF EXISTS getallcategories_categories CASCADE;

CREATE TYPE getallcategories_categories AS REGISTER OF (category:getallcategories_categories_category);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata AS REGISTER OF (productid:int, productname:text, productprice:float, category:getallproductdetails_return_product_productdetails_productdetaildata_category, characteristics:getallproductdetails_return_product_productdetails_productdetaildata_characteristics, accessories:getallproductdetails_return_product_productdetails_productdetaildata_accessories);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata AS REGISTER OF (productid:int, productname:text, productprice:float, category:getproductdetailsbycategory_return_productdetails_productdetaildata_category, characteristics:getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics, accessories:getproductdetailsbycategory_return_productdetails_productdetaildata_accessories);

DROP TYPE IF EXISTS getproductsbycategory_return CASCADE;

CREATE TYPE getproductsbycategory_return AS REGISTER OF (products:getproductsbycategory_return_products);

DROP TYPE IF EXISTS bv_product_details_return_product_productdetails CASCADE;

CREATE TYPE bv_product_details_return_product_productdetails AS ARRAY OF bv_product_details_return_product_productdetails_productdetaildata;

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails AS ARRAY OF getallproductdetails_return_product_productdetails_productdetaildata;

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails AS ARRAY OF getproductdetailsbycategory_return_productdetails_productdetaildata;

DROP TYPE IF EXISTS bv_product_details_return_product CASCADE;

CREATE TYPE bv_product_details_return_product AS REGISTER OF (code:text, description:text, warnings:text, numresults:text, productdetails:bv_product_details_return_product_productdetails);

DROP TYPE IF EXISTS getallproductdetails_return_product CASCADE;

CREATE TYPE getallproductdetails_return_product AS REGISTER OF (code:text, description:text, warnings:text, numresults:text, productdetails:getallproductdetails_return_product_productdetails);

DROP TYPE IF EXISTS getproductdetailsbycategory_return CASCADE;

CREATE TYPE getproductdetailsbycategory_return AS REGISTER OF (productdetails:getproductdetailsbycategory_return_productdetails);

DROP TYPE IF EXISTS bv_product_details_return CASCADE;

CREATE TYPE bv_product_details_return AS REGISTER OF (product:bv_product_details_return_product);

DROP TYPE IF EXISTS getallproductdetails_return CASCADE;

CREATE TYPE getallproductdetails_return AS REGISTER OF (product:getallproductdetails_return_product);

# #######################################
# MAPS of denodo_training
# #######################################
# No maps in database denodo_training
# #######################################
# BASE VIEWS of denodo_training
# #######################################
DROP VIEW IF EXISTS bv_cc_agent CASCADE;

CREATE TABLE bv_cc_agent I18N au_cst (
        agent_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        agent_code:text (sourcetypesize = '20', sourcetypeid = '12'), 
        agent_name:text (sourcetypesize = '150', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_agent(
        I18N au_cst
        CONSTRAINTS (
             ADD agent_id (any) OPT ANY
             ADD agent_code (any) OPT ANY
             ADD agent_name (any) OPT ANY
        )
        OUTPUTLIST (agent_code, agent_id, agent_name
        )
        WRAPPER (odbc bv_cc_agent)
    );

CHOWN admin VIEW bv_cc_agent LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_case_definition CASCADE;

CREATE TABLE bv_cc_case_definition I18N us_pst (
        case_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        date_raised:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        date_closed:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        case_status:long (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '3'), 
        case_summary:text (sourcetypesize = '250', sourcetypeid = '12'), 
        case_comments:text (sourcetypesize = '250', sourcetypeid = '12'), 
        customer_code:text (sourcetypesize = '20', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_case_definition(
        I18N us_pst
        CONSTRAINTS (
             ADD case_id (any) OPT ANY
             ADD date_raised (any) OPT ANY
             ADD date_closed (any) OPT ANY
             ADD case_status (any) OPT ANY
             ADD case_summary (any) OPT ANY
             ADD case_comments (any) OPT ANY
             ADD customer_code (any) OPT ANY
        )
        OUTPUTLIST (case_comments, case_id, case_status, case_summary, customer_code, date_closed, date_raised
        )
        WRAPPER (odbc bv_cc_case_definition)
    );

CHOWN admin VIEW bv_cc_case_definition LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_customer CASCADE;

CREATE TABLE bv_cc_customer I18N au_cst (
        customer_id:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        customer_name:text (sourcetypesize = '150', sourcetypeid = '12'), 
        customer_address:text (sourcetypesize = '250', sourcetypeid = '12'), 
        phone_number:text (sourcetypesize = '20', sourcetypeid = '12'), 
        customer_code:text (sourcetypesize = '20', sourcetypeid = '12'), 
        job_title:text (sourcetypesize = '50', sourcetypeid = '12'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_customer(
        I18N au_cst
        CONSTRAINTS (
             ADD customer_id (any) OPT ANY
             ADD customer_name (any) OPT ANY
             ADD customer_address (any) OPT ANY
             ADD phone_number (any) OPT ANY
             ADD customer_code (any) OPT ANY
             ADD job_title (any) OPT ANY
             ADD other_details (any) OPT ANY
        )
        OUTPUTLIST (customer_address, customer_code, customer_id, customer_name, job_title, other_details, phone_number
        )
        WRAPPER (odbc bv_cc_customer)
    );

CHOWN admin VIEW bv_cc_customer LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_problem CASCADE;

CREATE TABLE bv_cc_problem I18N au_cst (
        problem_code:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        problem_description:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_problem(
        I18N au_cst
        CONSTRAINTS (
             ADD problem_code (any) OPT ANY
             ADD problem_description (any) OPT ANY
        )
        OUTPUTLIST (problem_code, problem_description
        )
        WRAPPER (odbc bv_cc_problem)
    );

CHOWN admin VIEW bv_cc_problem LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_service_call CASCADE;

CREATE TABLE bv_cc_service_call I18N au_cst (
        call_id:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        location_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        problem_code:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        status_code:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        date_ticket_issued:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        date_call_received:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12'), 
        caller_phone:text (sourcetypesize = '20', sourcetypeid = '12'), 
        case_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        agent_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        customer_code:text (sourcetypesize = '30', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_service_call(
        I18N au_cst
        CONSTRAINTS (
             ADD call_id (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD problem_code (any) OPT ANY
             ADD status_code (any) OPT ANY
             ADD date_ticket_issued (any) OPT ANY
             ADD date_call_received (any) OPT ANY
             ADD other_details (any) OPT ANY
             ADD caller_phone (any) OPT ANY
             ADD case_id (any) OPT ANY
             ADD agent_id (any) OPT ANY
             ADD customer_code (any) OPT ANY
        )
        OUTPUTLIST (agent_id, call_id, caller_phone, case_id, customer_code, date_call_received, date_ticket_issued, location_id, other_details, problem_code, status_code
        )
        WRAPPER (odbc bv_cc_service_call)
    );

CHOWN admin VIEW bv_cc_service_call LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_service_location CASCADE;

CREATE TABLE bv_cc_service_location I18N us_pst (
        id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        location_id:long (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '3'), 
        customer_id:long (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '3'), 
        business_name:text (sourcetypesize = '50', sourcetypeid = '12'), 
        service_location:text (sourcetypesize = '50', sourcetypeid = '12'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_service_location(
        I18N us_pst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD customer_id (any) OPT ANY
             ADD business_name (any) OPT ANY
             ADD service_location (any) OPT ANY
             ADD other_details (any) OPT ANY
        )
        OUTPUTLIST (business_name, customer_id, id, location_id, other_details, service_location
        )
        WRAPPER (odbc bv_cc_service_location)
    );

CHOWN admin VIEW bv_cc_service_location LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_status_code CASCADE;

CREATE TABLE bv_cc_status_code I18N us_pst (
        code_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        code_description:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    PRIMARY KEY ( 'code_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_status_code(
        I18N us_pst
        CONSTRAINTS (
             ADD code_id (any) OPT ANY
             ADD code_description (any) OPT ANY
        )
        OUTPUTLIST (code_description, code_id
        )
        WRAPPER (odbc bv_cc_status_code)
    );

CHOWN admin VIEW bv_cc_status_code LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product CASCADE;

CREATE TABLE bv_product I18N au_cst (
        code:text, 
        description:text, 
        warnings:text, 
        numresults:text, 
        productid:int, 
        productname:text, 
        productprice:float, 
        category:bv_product_category, 
        characteristics:bv_product_characteristics, 
        accessories:bv_product_accessories
    )
    FOLDER = '/02 - base views'
    PRIMARY KEY ( 'productid' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product(
        I18N au_cst
        CONSTRAINTS (
             ADD code NOS ZERO ()
             ADD description NOS ZERO ()
             ADD warnings NOS ZERO ()
             ADD numresults NOS ZERO ()
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
             ADD category NOS ZERO ()
             ADD category.categoryid NOS ZERO ()
             ADD category.categoryname NOS ZERO ()
             ADD characteristics NOS ZERO ()
             ADD characteristics.characteristic_dimensions NOS ZERO ()
             ADD characteristics.characteristic_weight NOS ZERO ()
             ADD characteristics.characteristic_details NOS ZERO ()
             ADD characteristics.characteristic_color NOS ZERO ()
             ADD accessories NOS ZERO ()
             ADD accessories NOS ZERO ()
             ADD accessories.productid NOS ZERO ()
             ADD accessories.productname NOS ZERO ()
             ADD accessories.productprice NOS ZERO ()
        )
        OUTPUTLIST (accessories, category, characteristics, code, description, numresults, productid, productname, productprice, warnings
        )
        WRAPPER (ws bv_product)
    );

CHOWN admin VIEW bv_product LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product_by_category CASCADE;

CREATE TABLE bv_product_by_category I18N au_cst (
        parameters:bv_product_by_category_parameters, 
        return:bv_product_by_category_return
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product_by_category(
        I18N au_cst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD parameters.categoryname (=) OBL ONE
             ADD return NOS ZERO ()
             ADD return.products NOS ZERO ()
             ADD return.products NOS ZERO ()
             ADD return.products.productid NOS ZERO ()
             ADD return.products.productname NOS ZERO ()
             ADD return.products.productprice NOS ZERO ()
        )
        OUTPUTLIST (parameters, return
        )
        WRAPPER (ws bv_product_by_category)
    );

CHOWN admin VIEW bv_product_by_category LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product_categories CASCADE;

CREATE TABLE bv_product_categories I18N us_pst (
        parameters:getallcategories_parameters, 
        categories:getallcategories_categories
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product_categories(
        I18N us_pst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD parameters.mode (=) OBL ONE
             ADD categories NOS ZERO ()
             ADD categories.category NOS ZERO ()
             ADD categories.category NOS ZERO ()
             ADD categories.category.categoryid NOS ZERO ()
             ADD categories.category.categoryname NOS ZERO ()
        )
        OUTPUTLIST (categories, parameters
        )
        WRAPPER (ws bv_product_categories)
    );

CHOWN admin VIEW bv_product_categories LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product_details CASCADE;

CREATE TABLE bv_product_details I18N au_cst (
        return:bv_product_details_return
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product_details(
        I18N au_cst
        CONSTRAINTS (
             ADD return NOS ZERO ()
             ADD return.product NOS ZERO ()
             ADD return.product.code NOS ZERO ()
             ADD return.product.description NOS ZERO ()
             ADD return.product.warnings NOS ZERO ()
             ADD return.product.numresults NOS ZERO ()
             ADD return.product.productdetails NOS ZERO ()
             ADD return.product.productdetails NOS ZERO ()
             ADD return.product.productdetails.productid NOS ZERO ()
             ADD return.product.productdetails.productname NOS ZERO ()
             ADD return.product.productdetails.productprice NOS ZERO ()
             ADD return.product.productdetails.category NOS ZERO ()
             ADD return.product.productdetails.category.categoryid NOS ZERO ()
             ADD return.product.productdetails.category.categoryname NOS ZERO ()
             ADD return.product.productdetails.characteristics NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_dimensions NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_weight NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_details NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_color NOS ZERO ()
             ADD return.product.productdetails.accessories NOS ZERO ()
             ADD return.product.productdetails.accessories NOS ZERO ()
             ADD return.product.productdetails.accessories.productid NOS ZERO ()
             ADD return.product.productdetails.accessories.productname NOS ZERO ()
             ADD return.product.productdetails.accessories.productprice NOS ZERO ()
        )
        OUTPUTLIST (return
        )
        WRAPPER (ws bv_product_details)
    );

CHOWN admin VIEW bv_product_details LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_support_get_all_service_request CASCADE;

CREATE TABLE bv_support_get_all_service_request I18N au_cst (
        customer_code:text (sourcetypedecimals = '0', sourcetypesize = '20', sourcetypeid = '12'), 
        case_closed_date:date (sourcetypedecimals = '6', sourcetypesize = '0', sourcetypeid = '93'), 
        customer_ip:text (sourcetypedecimals = '0', sourcetypesize = '100', sourcetypeid = '12'), 
        customer_phone:text (sourcetypedecimals = '0', sourcetypesize = '20', sourcetypeid = '12'), 
        status_description:text (sourcetypedecimals = '0', sourcetypesize = '200', sourcetypeid = '12'), 
        agent_code:text (sourcetypedecimals = '0', sourcetypesize = '20', sourcetypeid = '12'), 
        agent_id:decimal (sourcetypeid = '3'), 
        sr_date:date (sourcetypedecimals = '6', sourcetypesize = '0', sourcetypeid = '93'), 
        customer_name:text (sourcetypedecimals = '0', sourcetypesize = '50', sourcetypeid = '12'), 
        customer_job_title:text (sourcetypedecimals = '0', sourcetypesize = '50', sourcetypeid = '12'), 
        case_summary:text (sourcetypedecimals = '0', sourcetypesize = '2000', sourcetypeid = '12'), 
        agent_name:text (sourcetypedecimals = '0', sourcetypesize = '100', sourcetypeid = '12'), 
        status_code:decimal (sourcetypedecimals = '0', sourcetypesize = '38', sourcetypeid = '3'), 
        sr_description:text (sourcetypedecimals = '0', sourcetypesize = '2000', sourcetypeid = '12'), 
        case_creation_date:date (sourcetypedecimals = '6', sourcetypesize = '0', sourcetypeid = '93'), 
        customer_address:text (sourcetypedecimals = '0', sourcetypesize = '100', sourcetypeid = '12'), 
        global_case_id:decimal (sourcetypeid = '3')
    )
    FOLDER = '/02 - base views'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_support_get_all_service_request(
        I18N au_cst
        CONSTRAINTS (
             ADD customer_code NOS ZERO ()
             ADD case_closed_date NOS ZERO ()
             ADD customer_ip NOS ZERO ()
             ADD customer_phone NOS ZERO ()
             ADD status_description NOS ZERO ()
             ADD agent_code NOS ZERO ()
             ADD agent_id NOS ZERO ()
             ADD sr_date NOS ZERO ()
             ADD customer_name NOS ZERO ()
             ADD customer_job_title NOS ZERO ()
             ADD case_summary NOS ZERO ()
             ADD agent_name NOS ZERO ()
             ADD status_code NOS ZERO ()
             ADD sr_description NOS ZERO ()
             ADD case_creation_date NOS ZERO ()
             ADD customer_address NOS ZERO ()
             ADD global_case_id NOS ZERO ()
        )
        OUTPUTLIST (agent_code, agent_id, agent_name, case_closed_date, case_creation_date, case_summary, customer_address, customer_code, customer_ip, customer_job_title, customer_name, customer_phone, global_case_id, sr_date, sr_description, status_code, status_description
        )
        WRAPPER (jdbc bv_support_get_all_service_request)
    );

CHOWN admin VIEW bv_support_get_all_service_request LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_support_get_service_request_by_id CASCADE;

CREATE TABLE bv_support_get_service_request_by_id I18N us_pst (
        i_case_id:decimal (sourcetyperadix = '10', sourcetypesize = '22', sourcetypeid = '3'), 
        o_sr_date:date (sourcetyperadix = '10', sourcetypesize = '6', sourcetypeid = '93'), 
        o_sr_description:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_ip:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_global_case_id:decimal (sourcetyperadix = '10', sourcetypesize = '22', sourcetypeid = '3'), 
        o_case_creation_date:date (sourcetyperadix = '10', sourcetypesize = '6', sourcetypeid = '93'), 
        o_case_closed_date:date (sourcetyperadix = '10', sourcetypesize = '6', sourcetypeid = '93'), 
        o_case_summary:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_status_code:decimal (sourcetyperadix = '10', sourcetypesize = '22', sourcetypeid = '3'), 
        o_status_description:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_code:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_name:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_address:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_phone:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_customer_job_title:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_agent_id:decimal (sourcetyperadix = '10', sourcetypesize = '22', sourcetypeid = '3'), 
        o_agent_code:text (sourcetyperadix = '10', sourcetypeid = '12'), 
        o_agent_name:text (sourcetyperadix = '10', sourcetypeid = '12')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_support_get_service_request_by_id(
        I18N us_pst
        CONSTRAINTS (
             ADD i_case_id (=,is null) OBL ONE
             ADD o_sr_date NOS ZERO ()
             ADD o_sr_description NOS ZERO ()
             ADD o_customer_ip NOS ZERO ()
             ADD o_global_case_id NOS ZERO ()
             ADD o_case_creation_date NOS ZERO ()
             ADD o_case_closed_date NOS ZERO ()
             ADD o_case_summary NOS ZERO ()
             ADD o_status_code NOS ZERO ()
             ADD o_status_description NOS ZERO ()
             ADD o_customer_code NOS ZERO ()
             ADD o_customer_name NOS ZERO ()
             ADD o_customer_address NOS ZERO ()
             ADD o_customer_phone NOS ZERO ()
             ADD o_customer_job_title NOS ZERO ()
             ADD o_agent_id NOS ZERO ()
             ADD o_agent_code NOS ZERO ()
             ADD o_agent_name NOS ZERO ()
        )
        OUTPUTLIST (i_case_id, o_agent_code, o_agent_id, o_agent_name, o_case_closed_date, o_case_creation_date, o_case_summary, o_customer_address, o_customer_code, o_customer_ip, o_customer_job_title, o_customer_name, o_customer_phone, o_global_case_id, o_sr_date, o_sr_description, o_status_code, o_status_description
        )
        WRAPPER (jdbc bv_support_get_service_request_by_id)
    );

CHOWN admin VIEW bv_support_get_service_request_by_id LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_customer CASCADE;

CREATE TABLE bv_wo_customer I18N us_pst (
        id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        customer_code_internal:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        first_name:text (sourcetyperadix = '10', sourcetypesize = '50', sourcetypeid = '12'), 
        last_name:text (sourcetyperadix = '10', sourcetypesize = '100', sourcetypeid = '12'), 
        email:text (sourcetyperadix = '10', sourcetypesize = '50', sourcetypeid = '12'), 
        phone:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        main_address:text (sourcetyperadix = '10', sourcetypesize = '200', sourcetypeid = '12'), 
        main_postcode:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        main_country:text (sourcetyperadix = '10', sourcetypesize = '100', sourcetypeid = '12'), 
        registered_date:date (sourcetyperadix = '10', sourcetypedecimals = '6', sourcetypesize = '11', sourcetypeid = '93')
    )
    FOLDER = '/02 - base views'
    CONSTRAINT 'CUSTOMER_PK' PRIMARY KEY ( 'id' , 'customer_code_internal' )
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_customer(
        I18N us_pst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD customer_code_internal (any) OPT ANY
             ADD first_name (any) OPT ANY
             ADD last_name (any) OPT ANY
             ADD email (any) OPT ANY
             ADD phone (any) OPT ANY
             ADD main_address (any) OPT ANY
             ADD main_postcode (any) OPT ANY
             ADD main_country (any) OPT ANY
             ADD registered_date (any) OPT ANY
        )
        OUTPUTLIST (customer_code_internal, email, first_name, id, last_name, main_address, main_country, main_postcode, phone, registered_date
        )
        WRAPPER (jdbc bv_wo_customer)
    )
    SMART_THEN_ATSOURCE_THROUGH_VDP;

CHOWN admin VIEW bv_wo_customer LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_distance_from_storage CASCADE;

CREATE TABLE bv_wo_distance_from_storage I18N us_pst (
        lat_storage:decimal (sourcetypedecimals = '10', sourcetypesize = '20', sourcetypeid = '3'), 
        lon_storage:decimal (sourcetypedecimals = '10', sourcetypesize = '20', sourcetypeid = '3'), 
        storage_id:int (sourcetypeid = '3'), 
        distance:decimal (sourcetypeid = '3', sourcetypedecimals = '0'), 
        lat_input:text (defaultvalue = '0'), 
        lon_input:text (defaultvalue = '0')
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_distance_from_storage(
        I18N us_pst
        CONSTRAINTS (
             ADD lat_storage NOS ZERO ()
             ADD lon_storage NOS ZERO ()
             ADD storage_id NOS ZERO ()
             ADD distance NOS ZERO ()
             ADD lat_input (=) OBL ONE
             ADD lon_input (=) OBL ONE
        )
        OUTPUTLIST (distance, lat_storage, lon_storage, storage_id
        )
        WRAPPER (jdbc bv_wo_distance_from_storage)
    );

CHOWN admin VIEW bv_wo_distance_from_storage LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_order_item CASCADE;

CREATE TABLE bv_wo_order_item I18N us_pst (
        id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        order_id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        product_id:decimal (sourcetyperadix = '10', sourcetypeid = '3')
    )
    FOLDER = '/02 - base views'
    CONSTRAINT 'ORDER_ITEM_PK' PRIMARY KEY ( 'id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_order_item(
        I18N us_pst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD order_id (any) OPT ANY
             ADD product_id (any) OPT ANY
        )
        OUTPUTLIST (id, order_id, product_id
        )
        WRAPPER (jdbc bv_wo_order_item)
    )
    SMART_THEN_ATSOURCE_THROUGH_VDP;

CHOWN admin VIEW bv_wo_order_item LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_orders CASCADE;

CREATE TABLE bv_wo_orders I18N us_pst (
        id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        customer_code:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        status:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        date_placed:date (sourcetyperadix = '10', sourcetypedecimals = '6', sourcetypesize = '11', sourcetypeid = '93'), 
        date_delivered:date (sourcetyperadix = '10', sourcetypedecimals = '6', sourcetypesize = '11', sourcetypeid = '93'), 
        date_closed:date (sourcetyperadix = '10', sourcetypedecimals = '6', sourcetypesize = '11', sourcetypeid = '93')
    )
    FOLDER = '/02 - base views'
    CONSTRAINT 'ORDERS_PK' PRIMARY KEY ( 'id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_orders(
        I18N us_pst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD customer_code (any) OPT ANY
             ADD status (any) OPT ANY
             ADD date_placed (any) OPT ANY
             ADD date_delivered (any) OPT ANY
             ADD date_closed (any) OPT ANY
        )
        OUTPUTLIST (customer_code, date_closed, date_delivered, date_placed, id, status
        )
        WRAPPER (jdbc bv_wo_orders)
    )
    SMART_THEN_ATSOURCE_THROUGH_VDP;

CHOWN admin VIEW bv_wo_orders LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_stock CASCADE;

CREATE TABLE bv_wo_stock I18N au_cst (
        id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        product_id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        distribution_code:text (sourcetyperadix = '10', sourcetypesize = '100', sourcetypeid = '12'), 
        storage_id:decimal (sourcetyperadix = '10', sourcetypeid = '3')
    )
    FOLDER = '/02 - base views'
    PRIMARY KEY ( 'id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_stock(
        I18N au_cst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD product_id (any) OPT ANY
             ADD distribution_code (any) OPT ANY
             ADD storage_id (any) OPT ANY
        )
        OUTPUTLIST (distribution_code, id, product_id, storage_id
        )
        WRAPPER (jdbc bv_wo_stock)
    );

CHOWN admin VIEW bv_wo_stock LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_wo_storages CASCADE;

CREATE TABLE bv_wo_storages I18N au_cst (
        id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        address:text (sourcetyperadix = '10', sourcetypesize = '150', sourcetypeid = '12'), 
        city:text (sourcetyperadix = '10', sourcetypesize = '50', sourcetypeid = '12'), 
        postal_code:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        country:text (sourcetyperadix = '10', sourcetypesize = '70', sourcetypeid = '12'), 
        country_code:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        latitude:decimal (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '20', sourcetypeid = '3'), 
        longitude:decimal (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '20', sourcetypeid = '3')
    )
    FOLDER = '/02 - base views'
    PRIMARY KEY ( 'id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_wo_storages(
        I18N au_cst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD address (any) OPT ANY
             ADD city (any) OPT ANY
             ADD postal_code (any) OPT ANY
             ADD country (any) OPT ANY
             ADD country_code (any) OPT ANY
             ADD latitude (any) OPT ANY
             ADD longitude (any) OPT ANY
        )
        OUTPUTLIST (address, city, country, country_code, id, latitude, longitude, postal_code
        )
        WRAPPER (jdbc bv_wo_storages)
    );

CHOWN admin VIEW bv_wo_storages LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS countries CASCADE;

CREATE TABLE countries I18N au_cst (
        country_id:text (sourcetyperadix = '10', sourcetypesize = '2', sourcetypeid = '1'), 
        country_name:text (sourcetyperadix = '10', sourcetypesize = '40', sourcetypeid = '12'), 
        region_id:decimal (sourcetyperadix = '10', sourcetypeid = '3')
    )
    FOLDER = '/01 - data sources'
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'country_id' )
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD countries(
        I18N au_cst
        CONSTRAINTS (
             ADD country_id (any) OPT ANY
             ADD country_name (any) OPT ANY
             ADD region_id (any) OPT ANY
        )
        OUTPUTLIST (country_id, country_name, region_id
        )
        WRAPPER (jdbc countries)
    )
    SMART_ONLY;

CHOWN admin VIEW countries LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_conn_events CASCADE;

CREATE TABLE ds_conn_events I18N us_pst (
        event_date:text, 
        source_ip:text, 
        device:text, 
        path:text, 
        http_code:text, 
        content_type:text, 
        size:text
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_conn_events(
        I18N us_pst
        CONSTRAINTS (
             ADD event_date (=,in) OPT ANY
             ADD source_ip (=,in) OPT ANY
             ADD device (=,in) OPT ANY
             ADD path (=,in) OPT ANY
             ADD http_code (=,in) OPT ANY
             ADD content_type (=,in) OPT ANY
             ADD size (=,in) OPT ANY
        )
        OUTPUTLIST (content_type, device, event_date, http_code, path, size, source_ip
        )
        WRAPPER (df ds_conn_events)
    );

CHOWN admin VIEW ds_conn_events LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_conn_events_by_date CASCADE;

CREATE TABLE ds_conn_events_by_date I18N us_pst (
        end_date:text (defaultvalue = '2016/01/02'), 
        start_date:text (defaultvalue = '2016/01/01'), 
        event_date:text, 
        source_ip:text, 
        device:text, 
        path:text, 
        http_code:text, 
        content_type:text, 
        size:text
    )
    FOLDER = '/02 - base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_connections_date(
        I18N us_pst
        CONSTRAINTS (
             ADD end_date (=) OBL ONE
             ADD start_date (=) OBL ONE
             ADD event_date (=,in) OPT ANY
             ADD source_ip (=,in) OPT ANY
             ADD device (=,in) OPT ANY
             ADD path (=,in) OPT ANY
             ADD http_code (=,in) OPT ANY
             ADD content_type (=,in) OPT ANY
             ADD size (=,in) OPT ANY
        )
        OUTPUTLIST (content_type, device, event_date, http_code, path, size, source_ip
        )
        WRAPPER (df ds_connections_date)
    );

CHOWN admin VIEW ds_conn_events_by_date LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS getproductdetailsbycategory CASCADE;

CREATE TABLE getproductdetailsbycategory I18N au_cst (
        parameters:getproductdetailsbycategory_parameters, 
        return:getproductdetailsbycategory_return
    )
    FOLDER = '/01 - data sources'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD getproductdetailsbycategory(
        I18N au_cst
        CONSTRAINTS (
             ADD return NOS ZERO ()
             ADD return.productdetails NOS ZERO ()
             ADD return.productdetails.productid NOS ZERO ()
             ADD return.productdetails.productname NOS ZERO ()
             ADD return.productdetails.productprice NOS ZERO ()
             ADD return.productdetails.category NOS ZERO ()
             ADD return.productdetails.category.categoryid NOS ZERO ()
             ADD return.productdetails.category.categoryname NOS ZERO ()
             ADD return.productdetails.characteristics NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_dimensions NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_weight NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_details NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_color NOS ZERO ()
             ADD return.productdetails.accessories NOS ZERO ()
             ADD return.productdetails.accessories NOS ZERO ()
             ADD return.productdetails.accessories.productid NOS ZERO ()
             ADD return.productdetails.accessories.productname NOS ZERO ()
             ADD return.productdetails.accessories.productprice NOS ZERO ()
             ADD parameters.categoryname NOS ZERO ()
             ADD parameters NOS ZERO ()
             ADD return.productdetails (any) OBL ONE
        )
        OUTPUTLIST (parameters, return
        )
        WRAPPER (ws getproductdetailsbycategory)
    );

CHOWN admin VIEW getproductdetailsbycategory LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS oracle CASCADE;

CREATE TABLE oracle I18N au_cst (
        "DATE_INT":decimal (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '38', sourcetypeid = '3')
    )
    FOLDER = '/01 - data sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD oracle(
        I18N au_cst
        CONSTRAINTS (
             ADD "DATE_INT" (any) OPT ANY
        )
        OUTPUTLIST ("DATE_INT"
        )
        WRAPPER (jdbc oracle)
    );

CHOWN admin VIEW oracle LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of denodo_training
# #######################################
DROP VIEW IF EXISTS dv_get_final_view CASCADE;

CREATE VIEW dv_get_final_view FOLDER = '/03 - derived views' AS SELECT DISTINCT view_name, view_type, view_database_name FROM view_dependencies() v WHERE (v.view_database_name = 'denodo_training' AND v.depth = 1 AND v.view_name not in (SELECT dependency_name FROM view_dependencies() WHERE (dependency_database_name = v.view_database_name AND dependency_type = v.view_type AND depth = 1))) CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_get_final_view LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_customer_calls CASCADE;

CREATE VIEW dv_customer_calls FOLDER = '/03 - derived views' AS SELECT bv_wo_customer.id AS id, bv_wo_customer.customer_code_internal AS customer_code_internal, bv_wo_customer.first_name AS first_name, bv_wo_customer.last_name AS last_name, bv_wo_customer.email AS email, bv_wo_customer.phone AS phone, bv_wo_customer.main_address AS main_address, bv_wo_customer.main_postcode AS main_postcode, bv_wo_customer.main_country AS main_country, bv_wo_customer.registered_date AS registered_date, bv_cc_service_call.call_id AS call_id, bv_cc_service_call.location_id AS location_id, bv_cc_service_call.problem_code AS problem_code, bv_cc_service_call.status_code AS status_code, bv_cc_service_call.date_ticket_issued AS date_ticket_issued, bv_cc_service_call.date_call_received AS date_call_received, bv_cc_service_call.other_details AS other_details, bv_cc_service_call.caller_phone AS caller_phone, bv_cc_service_call.case_id AS case_id, bv_cc_service_call.agent_id AS agent_id, bv_cc_service_call.customer_code AS customer_code FROM bv_wo_customer AS bv_wo_customer INNER JOIN bv_cc_service_call AS bv_cc_service_call ON bv_wo_customer.customer_code_internal = bv_cc_service_call.customer_code  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_customer_calls
 LAYOUT (bv_wo_customer = [80, 90, 200, 225], bv_cc_service_call = [400, 20, 200, 246]);

CHOWN admin VIEW dv_customer_calls LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_customer_orders CASCADE;

CREATE VIEW dv_customer_orders FOLDER = '/03 - derived views' AS SELECT bv_wo_orders.customer_code AS customer_code, bv_wo_orders.status AS status, bv_wo_orders.date_placed AS date_placed, bv_wo_orders.date_delivered AS date_delivered, bv_wo_orders.date_closed AS date_closed, bv_wo_order_item.order_id AS order_id, bv_product.productid AS productid, bv_product.productname AS productname, bv_product.productprice AS productprice, bv_product.category AS category, bv_product.characteristics AS characteristics, bv_wo_customer.first_name AS first_name, bv_wo_customer.last_name AS last_name, bv_wo_customer.email AS email, bv_wo_customer.phone AS phone, bv_wo_customer.main_address AS main_address, bv_wo_customer.main_postcode AS main_postcode, bv_wo_customer.main_country AS main_country, bv_wo_customer.registered_date AS registered_date FROM ((bv_wo_order_item AS bv_wo_order_item INNER JOIN bv_wo_orders AS bv_wo_orders ON bv_wo_order_item.order_id = bv_wo_orders.id ) INNER JOIN bv_product AS bv_product ON bv_wo_order_item.product_id = bv_product.productid ) INNER JOIN bv_wo_customer AS bv_wo_customer ON bv_wo_orders.customer_code = bv_wo_customer.customer_code_internal  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_customer_orders
 LAYOUT (bv_wo_order_item = [320, 90, 200, 86], bv_wo_orders = [30, 70, 200, 146], bv_product = [630, 120, 200, 225], bv_wo_customer = [360, 300, 200, 225]);

CHOWN admin VIEW dv_customer_orders LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_interactions CASCADE;

CREATE VIEW dv_interactions FOLDER = '/03 - derived views' AS SELECT agent_id, case_id, customer_code, interaction_ip, interaction_date, interaction_phone FROM (SELECT customer_ip AS interaction_ip, customer_code, global_case_id AS case_id, sr_date AS interaction_date, agent_id FROM bv_support_get_all_service_request UNION SELECT customer_code, case_id, caller_phone AS interaction_phone, agent_id, date_call_received AS interaction_date FROM bv_cc_service_call) ORDER BY interaction_date DESC CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_interactions
 LAYOUT (bv_support_get_all_service_request = [30, 30, 280, 366], bv_cc_service_call = [450, 120, 200, 246]);

ALTER VIEW dv_interactions
 CACHE FULL
     BATCHSIZEINCACHE DEFAULT TIMETOLIVEINCACHE DEFAULT;

CHOWN admin VIEW dv_interactions LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_orders CASCADE;

CREATE VIEW dv_orders FOLDER = '/03 - derived views'
    PRIMARY KEY ( 'customer_code' ) AS SELECT bv_wo_orders.customer_code AS customer_code, bv_wo_orders.status AS status, bv_wo_orders.date_placed AS date_placed, bv_wo_orders.date_delivered AS date_delivered, bv_wo_orders.date_closed AS date_closed, bv_wo_order_item.id AS id, bv_wo_order_item.order_id AS order_id, bv_wo_order_item.product_id AS product_id FROM bv_wo_orders AS bv_wo_orders INNER JOIN bv_wo_order_item AS bv_wo_order_item ON bv_wo_orders.id = bv_wo_order_item.id  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_orders
 LAYOUT (bv_wo_orders = [200, 120, 280, 146], bv_wo_order_item = [560, 110, 200, 86]);

CHOWN admin VIEW dv_orders LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_product_by_category_simple CASCADE;

CREATE VIEW dv_product_by_category_simple FOLDER = '/03 - derived views' AS SELECT bv_product_by_category.return AS return, input FROM bv_product_by_category WHERE (parameters).categoryname = input USING PARAMETERS ( input : text) CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_product_by_category_simple LASTMODIFICATIONUSER admin;

ALTER VIEW dv_product_by_category_simple
 LAYOUT (bv_product_by_category = [20, 20, 325, 66]);

DROP VIEW IF EXISTS dv_sarthak CASCADE;

CREATE VIEW dv_sarthak FOLDER = '/03 - derived views' AS SELECT productname AS productname, sum(productprice) AS total FROM bv_product GROUP BY productname CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_sarthak LASTMODIFICATIONUSER admin;

ALTER VIEW dv_sarthak
 LAYOUT (bv_product = [20, 20, 319, 226]);

DROP VIEW IF EXISTS p_oracle CASCADE;

CREATE VIEW p_oracle FOLDER = '/01 - data sources' AS SELECT oracle."DATE_INT" AS "DATE_INT", to_localdate('yyyyMMdd', cast(oracle."DATE_INT" AS TEXT)) AS denodo_date FROM oracle WHERE "DATE_INT" = case WHEN ("DATE_INT" = 1) THEN 'a' END CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW p_oracle LASTMODIFICATIONUSER admin;

ALTER VIEW p_oracle
 LAYOUT (oracle = [20, 20, 200, 46]);

# #######################################
# ASSOCIATIONS of denodo_training
# #######################################
# No associations in database denodo_training
# #######################################
# WEBSERVICES of denodo_training
# #######################################
# No web services in database denodo_training
# #######################################
# WIDGETS of denodo_training
# #######################################
# No widgets in database denodo_training
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of denodo_training
# #######################################
# No deployed web services in database denodo_training
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of denodo_training
# #######################################
# No deployed widgets in database denodo_training
# #######################################
# Closing connection with database denodo_training
# #######################################
CLOSE;


# 1 ====================================================================

# #######################################
# DATABASE of ob_dvdeveloper_intro
# #######################################
DROP DATABASE IF EXISTS ob_dvdeveloper_intro;

CREATE DATABASE ob_dvdeveloper_intro '';

CONNECT DATABASE ob_dvdeveloper_intro;

# #######################################
# FOLDERS of ob_dvdeveloper_intro
# #######################################
CREATE OR REPLACE FOLDER '/D01E02 - Joins' ;

CHOWN admin FOLDER '/D01E02 - Joins';

CREATE OR REPLACE FOLDER '/d01e02 - joins/1. data sources' ;

CHOWN admin FOLDER '/d01e02 - joins/1. data sources';

CREATE OR REPLACE FOLDER '/d01e02 - joins/base_views' ;

CHOWN admin FOLDER '/d01e02 - joins/base_views';

CREATE OR REPLACE FOLDER '/d01e02 - joins/derviver_vies' ;

CHOWN admin FOLDER '/d01e02 - joins/derviver_vies';

# #######################################
# LISTENERS JMS of ob_dvdeveloper_intro
# #######################################
# No listeners jms in database ob_dvdeveloper_intro
# #######################################
# DATASOURCES of ob_dvdeveloper_intro
# #######################################
DROP DATASOURCE JDBC IF EXISTS ds_human_resources CASCADE;

CREATE DATASOURCE JDBC ds_human_resources
    FOLDER = '/d01e02 - joins/1. data sources'
    DRIVERCLASSNAME = 'oracle.jdbc.OracleDriver'
    DATABASEURI = 'jdbc:oracle:thin:@ariel.denodo.com:1521:xe'
    USERNAME = 'human_resources'
    USERPASSWORD = '+HbQAwbkXSJK5zYNpkEV2zbZK7ZhzSxlMFe5aNPkn2Ap6DMOGBm2oEJI7RuazOLgJw5Rj9hubrOEb5B7Ott+uioa1135NAuOPM/Xkp9le3bOcd1ZM8BEtTvP4bcS47DU' ENCRYPTED
    CLASSPATH = 'oracle-11g'
    DATABASENAME = 'oracle'
    DATABASEVERSION = '11g'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'SELECT COUNT(*) FROM SYS.DUAL'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    SOURCECONFIGURATION (
        delegateprojectsubquery = false,
        delegateaggregatefunctionslist = (avg, count, max, min, stdev, stdevp, sum, var, varp),
        delegatescalarfunctionslist = (abs, acos, addday, addhour, addminute, addmonth, addsecond, addweek, addyear, ascii, asin, atan, atan2, case, cast, ceil, coalesce, concat, cos, cot, current_date, degrees, div, exp, firstdayofmonth, firstdayofweek, floor, formatdate, getday, getdayofweek, getdayofyear, getdaysbetween, gethour, getmillisecond, getminute, getmonth, getmonthsbetween, getquarter, getsecond, gettimeinmillis, getweek, getyear, instr, lastdayofmonth, lastdayofweek, len, ln, log, lower, ltrim, max, min, mod, mult, nextweekday, now, nullif, position, pow, power, previousweekday, radians, regexp, removeaccents, repeat, replace, round, rtrim, sign, sin, sqrt, substr, substring, subtract, sum, tan, textcat, textconstant, to_date, trim, trunc, upper, xmlquery, xpath),
        delegateanalyticfunctionslist = (avg, cume_dist, dense_rank, first_value, lag, last_value, lead, max, min, ntile, percent_rank, percentile_cont, percentile_disc, rank, sum)
    );

CHOWN admin DATASOURCE JDBC ds_human_resources LASTMODIFICATIONUSER admin;

DROP DATASOURCE JSON IF EXISTS ds_sales CASCADE;

CREATE DATASOURCE JSON ds_sales
    FOLDER = '/d01e02 - joins/1. data sources'
    ROUTE HTTP 'http.CommonsHttpClientConnection,120000' GET 'http://ariel.denodo.com:8080/sales-ws/sales/'
    HEADERS (
        'Accept'='application/json', 
        'Content-Type'='application/json'
    )
    AUTHENTICATION BASIC ( 
      USER 'admin'
      PASSWORD 'szgcXZrkdOW31h3E2zy01dS5b73fepUGd94PdcGIG4sSpdQbvCVM4DylKkfywFdAZodKsB8zdm9je5ord2XEoUA+bdwYIFfTxv5L6ki3jtj0lm13tKNQVCHvLyQZ1aB5' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE JSON ds_sales LASTMODIFICATIONUSER admin;

DROP DATASOURCE WS IF EXISTS ds_product CASCADE;

CREATE DATASOURCE WS ds_product
    FOLDER = '/d01e02 - joins/1. data sources'
    WSDLURI = 'http://data-server:8080/product-ws/services/products-ws?wsdl'
    MAXCONNECTIONS 50
    CONNECTIONPOOLTIMEOUT 0
    AUTHENTICATION WSS BASIC( 
      USER 'product'
      PASSWORD 'PZHUpsAfSYmaCxgkHnwR6hSRB5l0E/TUnnVf86kuu1Uj90LDXCF3XxHMA22QfSMxZis/OJbO+mDIkkj4EMWG2Ye87RAY/WiCkRKeutk57Eh2kBqRJRyrA/nZT5XYFyiH' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE WS ds_product LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE ob_dvdeveloper_intro
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of ob_dvdeveloper_intro
# #######################################
DROP WRAPPER JDBC IF EXISTS countries CASCADE;

CREATE WRAPPER JDBC countries
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='COUNTRIES' 
    OUTPUTSCHEMA (
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='CHAR', sourcetypeid='1', sourcetypesize='2')  NOT NULL SORTABLE,
        country_name = 'COUNTRY_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='40')  SORTABLE,
        region_id = 'REGION_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  SORTABLE
    )
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'COUNTRY_ID' )
    CONSTRAINT 'COUNTR_REG_FK' FOREIGN KEY ( 'REGION_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'REGIONS'( 'REGION_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'COUNTRY_C_ID_PK' CLUSTER UNIQUE PRIMARY ( 'COUNTRY_ID' );

CHOWN admin WRAPPER JDBC countries LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS departments CASCADE;

CREATE WRAPPER JDBC departments
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='DEPARTMENTS' 
    OUTPUTSCHEMA (
        department_id = 'DEPARTMENT_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='4')  NOT NULL SORTABLE,
        department_name = 'DEPARTMENT_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='30')  NOT NULL SORTABLE,
        manager_id = 'MANAGER_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='6')  SORTABLE,
        location_id = 'LOCATION_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='4')  SORTABLE
    )
    CONSTRAINT 'DEPT_ID_PK' PRIMARY KEY ( 'DEPARTMENT_ID' )
    CONSTRAINT 'DEPT_MGR_FK' FOREIGN KEY ( 'MANAGER_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'EMPLOYEES'( 'EMPLOYEE_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    CONSTRAINT 'DEPT_LOC_FK' FOREIGN KEY ( 'LOCATION_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'LOCATIONS'( 'LOCATION_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'DEPT_ID_PK' CLUSTER UNIQUE PRIMARY ( 'DEPARTMENT_ID' );

CHOWN admin WRAPPER JDBC departments LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS employees CASCADE;

CREATE WRAPPER JDBC employees
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='EMPLOYEES' 
    OUTPUTSCHEMA (
        employee_id = 'EMPLOYEE_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='6')  NOT NULL SORTABLE,
        first_name = 'FIRST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        last_name = 'LAST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='25')  NOT NULL SORTABLE,
        email = 'EMAIL' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='50')  NOT NULL SORTABLE,
        phone_number = 'PHONE_NUMBER' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
        hire_date = 'HIRE_DATE' :'java.sql.Timestamp' (OPT) (sourcetyperadix='10', sourcetypename='DATE', sourcetypeid='93', sourcetypesize='7')  NOT NULL SORTABLE,
        job_id = 'JOB_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='10')  NOT NULL SORTABLE,
        salary = 'SALARY' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='2', sourcetypesize='8')  SORTABLE,
        commission_pct = 'COMMISSION_PCT' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='2', sourcetypesize='2')  SORTABLE,
        manager_id = 'MANAGER_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='6')  SORTABLE,
        department_id = 'DEPARTMENT_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='4')  SORTABLE
    )
    CONSTRAINT 'EMP_EMP_ID_PK' PRIMARY KEY ( 'EMPLOYEE_ID' )
    CONSTRAINT 'EMP_DEPT_FK' FOREIGN KEY ( 'DEPARTMENT_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'DEPARTMENTS'( 'DEPARTMENT_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    CONSTRAINT 'EMP_MANAGER_FK' FOREIGN KEY ( 'MANAGER_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'EMPLOYEES'( 'EMPLOYEE_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    CONSTRAINT 'EMP_JOB_FK' FOREIGN KEY ( 'JOB_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'JOBS'( 'JOB_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'EMP_EMAIL_UK' CLUSTER UNIQUE ( 'EMAIL' )
    INDEX 'EMP_EMP_ID_PK' CLUSTER UNIQUE PRIMARY ( 'EMPLOYEE_ID' );

CHOWN admin WRAPPER JDBC employees LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS jobs CASCADE;

CREATE WRAPPER JDBC jobs
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='JOBS' 
    OUTPUTSCHEMA (
        job_id = 'JOB_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='10')  NOT NULL SORTABLE,
        job_title = 'JOB_TITLE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='35')  NOT NULL SORTABLE,
        min_salary = 'MIN_SALARY' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='6')  SORTABLE,
        max_salary = 'MAX_SALARY' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='6')  SORTABLE
    )
    CONSTRAINT 'JOB_ID_PK' PRIMARY KEY ( 'JOB_ID' )
    INDEX 'JOB_ID_PK' CLUSTER UNIQUE PRIMARY ( 'JOB_ID' );

CHOWN admin WRAPPER JDBC jobs LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS locations CASCADE;

CREATE WRAPPER JDBC locations
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='LOCATIONS' 
    OUTPUTSCHEMA (
        location_id = 'LOCATION_ID' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3', sourcetypedecimals='0', sourcetypesize='4')  NOT NULL SORTABLE,
        street_address = 'STREET_ADDRESS' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='40')  SORTABLE,
        postal_code = 'POSTAL_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='12')  SORTABLE,
        city = 'CITY' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='30')  NOT NULL SORTABLE,
        state_province = 'STATE_PROVINCE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='25')  SORTABLE,
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='CHAR', sourcetypeid='1', sourcetypesize='2')  SORTABLE
    )
    CONSTRAINT 'LOC_ID_PK' PRIMARY KEY ( 'LOCATION_ID' )
    CONSTRAINT 'LOC_C_ID_FK' FOREIGN KEY ( 'COUNTRY_ID' ) 
    REFERENCES 'HUMAN_RESOURCES'.'COUNTRIES'( 'COUNTRY_ID' )  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'LOC_ID_PK' CLUSTER UNIQUE PRIMARY ( 'LOCATION_ID' );

CHOWN admin WRAPPER JDBC locations LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS regions CASCADE;

CREATE WRAPPER JDBC regions
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_human_resources
    SCHEMANAME='HUMAN_RESOURCES' 
    RELATIONNAME='REGIONS' 
    OUTPUTSCHEMA (
        region_id = 'REGION_ID' :'java.math.BigDecimal' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='3')  NOT NULL SORTABLE,
        region_name = 'REGION_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2', sourcetypeid='12', sourcetypesize='25')  SORTABLE
    )
    CONSTRAINT 'REG_ID_PK' PRIMARY KEY ( 'REGION_ID' )
    INDEX 'REG_ID_PK' CLUSTER UNIQUE PRIMARY ( 'REGION_ID' );

CHOWN admin WRAPPER JDBC regions LASTMODIFICATIONUSER admin;

DROP WRAPPER JSON IF EXISTS ds_sales CASCADE;

CREATE WRAPPER JSON ds_sales
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_sales
    TUPLEROOT '/JSONFile/salesData/sales'
    OUTPUTSCHEMA (jsonfile = 'JSONFile' : REGISTER OF (
        productid_0 = 'JSONFile.salesData.productId' : 'java.lang.String',
        saleid = 'JSONFile.salesData.sales.saleId' : 'java.lang.String',
        productid = 'JSONFile.salesData.sales.productId' : 'java.lang.String',
        employeeid = 'JSONFile.salesData.sales.employeeId' : 'java.lang.String',
        customerid = 'JSONFile.salesData.sales.customerId' : 'java.lang.String',
        saledate = 'JSONFile.salesData.sales.saleDate' : 'java.lang.String',
        bundleamount = 'JSONFile.salesData.sales.bundleAmount' : 'java.lang.String',
        productsaleprice = 'JSONFile.salesData.sales.productSalePrice' : 'java.lang.String',
        totalprice = 'JSONFile.salesData.sales.totalPrice' : 'java.lang.String'
    )
    );

CHOWN admin WRAPPER JSON ds_sales LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_getallproducts CASCADE;

CREATE WRAPPER WS bv_getallproducts
    FOLDER = '/d01e02 - joins/base_views'
    DATASOURCENAME=ds_product
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProducts'
    INPUTMESSAGE='getAllProducts'
    OUTPUTMESSAGE='getAllProductsResponse'
    TUPLEROOT='/Envelope/Body/getAllProductsResponse/products/product'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    productid='Envelope.Body.getAllProductsResponse.products.product.productId',
    productname='Envelope.Body.getAllProductsResponse.products.product.productName',
    productprice='Envelope.Body.getAllProductsResponse.products.product.productPrice'
    );

CHOWN admin WRAPPER WS bv_getallproducts LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of ob_dvdeveloper_intro
# #######################################
# No stored procedures in database ob_dvdeveloper_intro
# #######################################
# TYPES of ob_dvdeveloper_intro
# #######################################
# No types in database ob_dvdeveloper_intro
# #######################################
# MAPS of ob_dvdeveloper_intro
# #######################################
# No maps in database ob_dvdeveloper_intro
# #######################################
# BASE VIEWS of ob_dvdeveloper_intro
# #######################################
DROP VIEW IF EXISTS bv_countries CASCADE;

CREATE TABLE bv_countries I18N au_cst (
        country_id:text (sourcetyperadix = '10', sourcetypesize = '2', sourcetypeid = '1'), 
        country_name:text (sourcetyperadix = '10', sourcetypesize = '40', sourcetypeid = '12'), 
        region_id:decimal (sourcetyperadix = '10', sourcetypeid = '3')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'country_id' )
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD countries(
        I18N au_cst
        CONSTRAINTS (
             ADD country_id (any) OPT ANY
             ADD country_name (any) OPT ANY
             ADD region_id (any) OPT ANY
        )
        OUTPUTLIST (country_id, country_name, region_id
        )
        WRAPPER (jdbc countries)
    );

CHOWN admin VIEW bv_countries LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_departments CASCADE;

CREATE TABLE bv_departments I18N au_cst (
        department_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '4', sourcetypeid = '4'), 
        department_name:text (sourcetyperadix = '10', sourcetypesize = '30', sourcetypeid = '12'), 
        manager_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '6', sourcetypeid = '4'), 
        location_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '4', sourcetypeid = '4')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'DEPT_ID_PK' PRIMARY KEY ( 'department_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD departments(
        I18N au_cst
        CONSTRAINTS (
             ADD department_id (any) OPT ANY
             ADD department_name (any) OPT ANY
             ADD manager_id (any) OPT ANY
             ADD location_id (any) OPT ANY
        )
        OUTPUTLIST (department_id, department_name, location_id, manager_id
        )
        WRAPPER (jdbc departments)
    );

CHOWN admin VIEW bv_departments LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_ds_sales CASCADE;

CREATE TABLE bv_ds_sales I18N au_cst (
        productid_0:text, 
        saleid:text, 
        productid:text, 
        employeeid:text, 
        customerid:text, 
        saledate:text, 
        bundleamount:text, 
        productsaleprice:text, 
        totalprice:text
    )
    FOLDER = '/d01e02 - joins/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_sales(
        I18N au_cst
        CONSTRAINTS (
             ADD productid_0 NOS ZERO ()
             ADD saleid NOS ZERO ()
             ADD productid NOS ZERO ()
             ADD employeeid NOS ZERO ()
             ADD customerid NOS ZERO ()
             ADD saledate NOS ZERO ()
             ADD bundleamount NOS ZERO ()
             ADD productsaleprice NOS ZERO ()
             ADD totalprice NOS ZERO ()
        )
        OUTPUTLIST (bundleamount, customerid, employeeid, productid, productid_0, productsaleprice, saledate, saleid, totalprice
        )
        WRAPPER (json ds_sales)
    );

CHOWN admin VIEW bv_ds_sales LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_employees CASCADE;

CREATE TABLE bv_employees I18N au_cst (
        employee_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '6', sourcetypeid = '4'), 
        first_name:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        last_name:text (sourcetyperadix = '10', sourcetypesize = '25', sourcetypeid = '12'), 
        email:text (sourcetyperadix = '10', sourcetypesize = '50', sourcetypeid = '12'), 
        phone_number:text (sourcetyperadix = '10', sourcetypesize = '20', sourcetypeid = '12'), 
        hire_date:date (sourcetyperadix = '10', sourcetypesize = '7', sourcetypeid = '93'), 
        job_id:text (sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '12'), 
        salary:decimal (sourcetyperadix = '10', sourcetypedecimals = '2', sourcetypesize = '8', sourcetypeid = '3'), 
        commission_pct:decimal (sourcetyperadix = '10', sourcetypedecimals = '2', sourcetypesize = '2', sourcetypeid = '3'), 
        manager_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '6', sourcetypeid = '4'), 
        department_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '4', sourcetypeid = '4')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'EMP_EMP_ID_PK' PRIMARY KEY ( 'employee_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD employees(
        I18N au_cst
        CONSTRAINTS (
             ADD first_name (any) OPT ANY
             ADD last_name (any) OPT ANY
             ADD phone_number (any) OPT ANY
             ADD hire_date (any) OPT ANY
             ADD job_id (any) OPT ANY
             ADD salary (any) OPT ANY
             ADD commission_pct (any) OPT ANY
             ADD manager_id (any) OPT ANY
             ADD department_id (any) OPT ANY
             ADD email (any) OPT ANY
             ADD employee_id (any) OPT ANY
        )
        OUTPUTLIST (commission_pct, department_id, email, employee_id, first_name, hire_date, job_id, last_name, manager_id, phone_number, salary
        )
        WRAPPER (jdbc employees)
    );

CHOWN admin VIEW bv_employees LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_getallproducts CASCADE;

CREATE TABLE bv_getallproducts I18N au_cst (
        productid:int, 
        productname:text, 
        productprice:float
    )
    FOLDER = '/d01e02 - joins/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_getallproducts(
        I18N au_cst
        CONSTRAINTS (
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
        )
        OUTPUTLIST (productid, productname, productprice
        )
        WRAPPER (ws bv_getallproducts)
    );

CHOWN admin VIEW bv_getallproducts LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_jobs CASCADE;

CREATE TABLE bv_jobs I18N au_cst (
        job_id:text (sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '12'), 
        job_title:text (sourcetyperadix = '10', sourcetypesize = '35', sourcetypeid = '12'), 
        min_salary:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '6', sourcetypeid = '4'), 
        max_salary:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '6', sourcetypeid = '4')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'JOB_ID_PK' PRIMARY KEY ( 'job_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD jobs(
        I18N au_cst
        CONSTRAINTS (
             ADD job_id (any) OPT ANY
             ADD job_title (any) OPT ANY
             ADD min_salary (any) OPT ANY
             ADD max_salary (any) OPT ANY
        )
        OUTPUTLIST (job_id, job_title, max_salary, min_salary
        )
        WRAPPER (jdbc jobs)
    );

CHOWN admin VIEW bv_jobs LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_locations CASCADE;

CREATE TABLE bv_locations I18N au_cst (
        location_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '4', sourcetypeid = '4'), 
        street_address:text (sourcetyperadix = '10', sourcetypesize = '40', sourcetypeid = '12'), 
        postal_code:text (sourcetyperadix = '10', sourcetypesize = '12', sourcetypeid = '12'), 
        city:text (sourcetyperadix = '10', sourcetypesize = '30', sourcetypeid = '12'), 
        state_province:text (sourcetyperadix = '10', sourcetypesize = '25', sourcetypeid = '12'), 
        country_id:text (sourcetyperadix = '10', sourcetypesize = '2', sourcetypeid = '1')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'LOC_ID_PK' PRIMARY KEY ( 'location_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD locations(
        I18N au_cst
        CONSTRAINTS (
             ADD location_id (any) OPT ANY
             ADD street_address (any) OPT ANY
             ADD postal_code (any) OPT ANY
             ADD city (any) OPT ANY
             ADD state_province (any) OPT ANY
             ADD country_id (any) OPT ANY
        )
        OUTPUTLIST (city, country_id, location_id, postal_code, state_province, street_address
        )
        WRAPPER (jdbc locations)
    );

CHOWN admin VIEW bv_locations LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_regions CASCADE;

CREATE TABLE bv_regions I18N au_cst (
        region_id:decimal (sourcetyperadix = '10', sourcetypeid = '3'), 
        region_name:text (sourcetyperadix = '10', sourcetypesize = '25', sourcetypeid = '12')
    )
    FOLDER = '/d01e02 - joins/base_views'
    CONSTRAINT 'REG_ID_PK' PRIMARY KEY ( 'region_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD regions(
        I18N au_cst
        CONSTRAINTS (
             ADD region_id (any) OPT ANY
             ADD region_name (any) OPT ANY
        )
        OUTPUTLIST (region_id, region_name
        )
        WRAPPER (jdbc regions)
    );

CHOWN admin VIEW bv_regions LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of ob_dvdeveloper_intro
# #######################################
DROP VIEW IF EXISTS dv_department_details CASCADE;

CREATE VIEW dv_department_details FOLDER = '/d01e02 - joins/derviver_vies' AS SELECT bv_departments.department_id AS department_id, bv_departments.department_name AS department_name, bv_employees.manager_id AS manager_id, bv_employees.first_name AS manager_first_name, bv_employees.last_name AS manager_last_name, bv_employees.email AS manager_email, bv_departments.location_id AS location_id, bv_locations.street_address AS street_address, bv_locations.postal_code AS postal_code, bv_locations.city AS city, bv_locations.state_province AS state_province, bv_countries.country_name AS country_name, bv_regions.region_name AS region_name FROM (((bv_departments AS bv_departments INNER JOIN bv_locations AS bv_locations ON bv_departments.location_id = bv_locations.location_id ) INNER JOIN bv_countries AS bv_countries ON bv_locations.country_id = bv_countries.country_id ) INNER JOIN bv_regions AS bv_regions ON bv_countries.region_id = bv_regions.region_id ) INNER JOIN bv_employees AS bv_employees ON bv_departments.manager_id = bv_employees.employee_id  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_department_details
 LAYOUT (bv_departments = [20, 40, 370, 106], bv_locations = [470, 40, 200, 146], bv_countries = [760, 40, 200, 86], bv_regions = [770, 220, 200, 66], bv_employees = [10, 270, 390, 246]);

CHOWN admin VIEW dv_department_details LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_employees_department_manager CASCADE;

CREATE VIEW dv_employees_department_manager FOLDER = '/d01e02 - joins/derviver_vies' AS SELECT employees.employee_id AS employee_id, employees.first_name AS employee_first_name, employees.last_name AS employee_last_name, employees.email AS employee_email, employees.department_id AS department_id, departments.department_name AS department_name, employees1.employee_id AS manager_id, employees1.first_name AS manager_first_name, employees1.last_name AS manager_last_name, employees1.email AS manager_email FROM (bv_employees AS employees INNER JOIN bv_departments AS departments ON employees.department_id = departments.department_id ) INNER JOIN bv_employees AS employees1 ON employees.manager_id = employees1.employee_id  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_employees_department_manager
 LAYOUT (bv_employees = [100, 70, 310, 246], bv_departments = [650, 80, 200, 106], bv_employees = [580, 270, 390, 246]);

CHOWN admin VIEW dv_employees_department_manager LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_employees_departments_manager CASCADE;

CREATE VIEW dv_employees_departments_manager FOLDER = '/d01e02 - joins/derviver_vies' AS SELECT employees.employee_id AS employee_id, employees.first_name AS first_name, employees.last_name AS last_name, employees.email AS emp_email, employees.department_id AS department_id, departments.department_name AS department_name, employees.manager_id AS manager_id, employees1.first_name AS manager_first_name, employees1.last_name AS manager_last_name, employees1.email AS manager_email FROM (bv_employees AS employees INNER JOIN bv_employees AS employees1 ON employees.manager_id = employees1.employee_id ) INNER JOIN bv_departments AS departments ON employees.department_id = departments.department_id  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_employees_departments_manager
 LAYOUT (bv_employees = [100, 50, 380, 246], bv_employees = [670, 250, 280, 246], bv_departments = [650, 80, 340, 106]);

CHOWN admin VIEW dv_employees_departments_manager LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_sales_by_employee CASCADE;

CREATE VIEW dv_sales_by_employee FOLDER = '/d01e02 - joins/derviver_vies' AS SELECT employees.employee_id AS employee_id, employees.first_name AS first_name, employees.last_name AS last_name, employees.email AS email, bv_ds_sales.saleid AS saleid, bv_ds_sales.customerid AS customerid, bv_ds_sales.saledate AS saledate, bv_ds_sales.bundleamount AS bundleamount, bv_ds_sales.productsaleprice AS productsaleprice, bv_ds_sales.totalprice AS totalprice, bv_ds_sales.productid AS productid, bv_getallproducts.productname AS productname, bv_getallproducts.productprice AS productprice, input_employee_id FROM bv_employees AS employees INNER JOIN (bv_ds_sales AS bv_ds_sales INNER JOIN bv_getallproducts AS bv_getallproducts ON bv_ds_sales.productid = bv_getallproducts.productid ) ON employees.employee_id = bv_ds_sales.employeeid  WHERE bv_ds_sales.employeeid = input_employee_id USING PARAMETERS ( input_employee_id : int) CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_sales_by_employee
 LAYOUT (bv_employees = [100, 30, 270, 246], bv_ds_sales = [640, 60, 200, 206], bv_getallproducts = [660, 300, 200, 86]);

CHOWN admin VIEW dv_sales_by_employee LASTMODIFICATIONUSER admin;

# #######################################
# ASSOCIATIONS of ob_dvdeveloper_intro
# #######################################
# No associations in database ob_dvdeveloper_intro
# #######################################
# WEBSERVICES of ob_dvdeveloper_intro
# #######################################
# No web services in database ob_dvdeveloper_intro
# #######################################
# WIDGETS of ob_dvdeveloper_intro
# #######################################
# No widgets in database ob_dvdeveloper_intro
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of ob_dvdeveloper_intro
# #######################################
# No deployed web services in database ob_dvdeveloper_intro
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of ob_dvdeveloper_intro
# #######################################
# No deployed widgets in database ob_dvdeveloper_intro
# #######################################
# Closing connection with database ob_dvdeveloper_intro
# #######################################
CLOSE;


# 2 ====================================================================

# #######################################
# DATABASE of itpilot
# #######################################
CONNECT DATABASE itpilot;

# #######################################
# LISTENERS JMS of itpilot
# #######################################
# No listeners jms in database itpilot
# #######################################
# DATASOURCES of itpilot
# #######################################
# No data sources in database itpilot
# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE itpilot
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of itpilot
# #######################################
# No wrappers in database itpilot
# #######################################
# STORED PROCEDURES of itpilot
# #######################################
# No stored procedures in database itpilot
# #######################################
# TYPES of itpilot
# #######################################
# No types in database itpilot
# #######################################
# MAPS of itpilot
# #######################################
# No maps in database itpilot
# #######################################
# BASE VIEWS of itpilot
# #######################################
# No base views in database itpilot
# #######################################
# VIEWS of itpilot
# #######################################
# No views in database itpilot
# #######################################
# ASSOCIATIONS of itpilot
# #######################################
# No associations in database itpilot
# #######################################
# WEBSERVICES of itpilot
# #######################################
# No web services in database itpilot
# #######################################
# WIDGETS of itpilot
# #######################################
# No widgets in database itpilot
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of itpilot
# #######################################
# No deployed web services in database itpilot
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of itpilot
# #######################################
# No deployed widgets in database itpilot
# #######################################
# Closing connection with database itpilot
# #######################################
CLOSE;


# 3 ====================================================================

# #######################################
# DATABASE of test
# #######################################
DROP DATABASE IF EXISTS test;

CREATE DATABASE test '';

CONNECT DATABASE test;

# #######################################
# LISTENERS JMS of test
# #######################################
# No listeners jms in database test
# #######################################
# DATASOURCES of test
# #######################################
DROP DATASOURCE JDBC IF EXISTS test CASCADE;

CREATE DATASOURCE JDBC test
    DRIVERCLASSNAME = 'com.microsoft.sqlserver.jdbc.SQLServerDriver'
    DATABASEURI = 'jdbc:sqlserver://localhost:1433;databaseName=AdventureWorks2017'
    USERNAME = 'sa'
    USERPASSWORD = 'TLgb9sxN1BcYNmdKGU1NPboVcFIBH+B9Fzdmmqq0pcGYGdWGvMx4WC25YLyKIwiYJsRaCjYpooIuGdclWU7U0uJL45QsYrBAViI98vI4wnj04m+VRXcjUXvE0hdXW3Aw' ENCRYPTED
    CLASSPATH = 'mssql-jdbc-6.x'
    DATABASENAME = 'sqlserver'
    DATABASEVERSION = '2016'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 1000
    );

CHOWN admin DATASOURCE JDBC test LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE test
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of test
# #######################################
DROP WRAPPER JDBC IF EXISTS "Department" CASCADE;

CREATE WRAPPER JDBC "Department"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='Department' 
    OUTPUTSCHEMA (
        "DepartmentID" = 'DepartmentID' :'java.lang.Short' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='5', description='Primary key for Department records.', sourcetypeid='5', sourcetypename='smallint identity')  NOT NULL NOT SORTABLE IS_AUTOINCREMENT,
        "Name" = 'Name' :'java.lang.String' (OPT) (sourcetypesize='50', description='Name of the department.', sourcetypeid='-9', sourcetypename='Name')  NOT NULL NOT SORTABLE,
        "GroupName" = 'GroupName' :'java.lang.String' (OPT) (sourcetypesize='50', description='Name of the group to which the department belongs.', sourcetypeid='-9', sourcetypename='Name')  NOT NULL NOT SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_Department_DepartmentID' PRIMARY KEY ( 'DepartmentID' )
    INDEX 'PK_Department_DepartmentID' CLUSTER UNIQUE PRIMARY ( 'DepartmentID' )
    INDEX 'AK_Department_Name' OTHER UNIQUE ( 'Name' );

CHOWN admin WRAPPER JDBC "Department" LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS "Employee" CASCADE;

CREATE WRAPPER JDBC "Employee"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='Employee' 
    OUTPUTSCHEMA (
        "BusinessEntityID" = 'BusinessEntityID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='Primary key for Employee records.  Foreign key to BusinessEntity.BusinessEntityID.', sourcetypeid='4', sourcetypename='int')  NOT NULL SORTABLE,
        "NationalIDNumber" = 'NationalIDNumber' :'java.lang.String' (OPT) (sourcetypesize='15', description='Unique national identification number such as a social security number.', sourcetypeid='-9', sourcetypename='nvarchar')  NOT NULL SORTABLE,
        "LoginID" = 'LoginID' :'java.lang.String' (OPT) (sourcetypesize='256', description='Network login.', sourcetypeid='-9', sourcetypename='nvarchar')  NOT NULL SORTABLE,
        "OrganizationNode" = 'OrganizationNode' :'java.sql.Blob' (OPT) (sourcetypesize='892', description='Where the employee is located in corporate hierarchy.', sourcetypeid='-3', sourcetypename='hierarchyid')  NOT SORTABLE,
        "OrganizationLevel" = 'OrganizationLevel' :'java.lang.Short' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='5', description='The depth of the employee in the corporate hierarchy.', sourcetypeid='5', sourcetypename='smallint')  SORTABLE IS_GENERATEDCOLUMN,
        "JobTitle" = 'JobTitle' :'java.lang.String' (OPT) (sourcetypesize='50', description='Work title such as Buyer or Sales Representative.', sourcetypeid='-9', sourcetypename='nvarchar')  NOT NULL SORTABLE,
        "BirthDate" = 'BirthDate' :'java.time.LocalDate' (OPT) (sourcetypedecimals='0', sourcetypesize='10', description='Date of birth.', sourcetypeid='91', sourcetypename='date')  NOT NULL SORTABLE,
        "MaritalStatus" = 'MaritalStatus' :'java.lang.String' (OPT) (sourcetypesize='1', description='M = Married, S = Single', sourcetypeid='-15', sourcetypename='nchar')  NOT NULL SORTABLE,
        "Gender" = 'Gender' :'java.lang.String' (OPT) (sourcetypesize='1', description='M = Male, F = Female', sourcetypeid='-15', sourcetypename='nchar')  NOT NULL SORTABLE,
        "HireDate" = 'HireDate' :'java.time.LocalDate' (OPT) (sourcetypedecimals='0', sourcetypesize='10', description='Employee hired on this date.', sourcetypeid='91', sourcetypename='date')  NOT NULL SORTABLE,
        "SalariedFlag" = 'SalariedFlag' :'java.lang.Boolean' (OPT) (sourcetypesize='1', description='Job classification. 0 = Hourly, not exempt from collective bargaining. 1 = Salaried, exempt from collective bargaining.', sourcetypeid='-7', sourcetypename='Flag')  NOT NULL NOT SORTABLE,
        "VacationHours" = 'VacationHours' :'java.lang.Short' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='5', description='Number of available vacation hours.', sourcetypeid='5', sourcetypename='smallint')  NOT NULL SORTABLE,
        "SickLeaveHours" = 'SickLeaveHours' :'java.lang.Short' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='5', description='Number of available sick leave hours.', sourcetypeid='5', sourcetypename='smallint')  NOT NULL SORTABLE,
        "CurrentFlag" = 'CurrentFlag' :'java.lang.Boolean' (OPT) (sourcetypesize='1', description='0 = Inactive, 1 = Active', sourcetypeid='-7', sourcetypename='Flag')  NOT NULL NOT SORTABLE,
        rowguid = 'rowguid' :'java.lang.String' (OPT) (sourcetypesize='36', description='ROWGUIDCOL number uniquely identifying the record. Used to support a merge replication sample.', sourcetypeid='1', sourcetypename='uniqueidentifier')  NOT NULL NOT SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_Employee_BusinessEntityID' PRIMARY KEY ( 'BusinessEntityID' )
    CONSTRAINT 'FK_Employee_Person_BusinessEntityID' FOREIGN KEY ( 'BusinessEntityID' ) 
    REFERENCES 'AdventureWorks2017'.'Person'.'Person'( 'BusinessEntityID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'PK_Employee_BusinessEntityID' CLUSTER UNIQUE PRIMARY ( 'BusinessEntityID' )
    INDEX 'AK_Employee_LoginID' OTHER UNIQUE ( 'LoginID' )
    INDEX 'AK_Employee_NationalIDNumber' OTHER UNIQUE ( 'NationalIDNumber' )
    INDEX 'AK_Employee_rowguid' OTHER UNIQUE ( 'rowguid' )
    INDEX 'IX_Employee_OrganizationLevel_OrganizationNode' OTHER ( 'OrganizationLevel' , 'OrganizationNode' )
    INDEX 'IX_Employee_OrganizationNode' OTHER ( 'OrganizationNode' );

CHOWN admin WRAPPER JDBC "Employee" LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS "EmployeeDepartmentHistory" CASCADE;

CREATE WRAPPER JDBC "EmployeeDepartmentHistory"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='EmployeeDepartmentHistory' 
    OUTPUTSCHEMA (
        "BusinessEntityID" = 'BusinessEntityID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='Employee identification number. Foreign key to Employee.BusinessEntityID.', sourcetypeid='4', sourcetypename='int')  NOT NULL SORTABLE,
        "DepartmentID" = 'DepartmentID' :'java.lang.Short' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='5', description='Department in which the employee worked including currently. Foreign key to Department.DepartmentID.', sourcetypeid='5', sourcetypename='smallint')  NOT NULL SORTABLE,
        "ShiftID" = 'ShiftID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='3', description='Identifies which 8-hour shift the employee works. Foreign key to Shift.Shift.ID.', sourcetypeid='-6', sourcetypename='tinyint')  NOT NULL SORTABLE,
        "StartDate" = 'StartDate' :'java.time.LocalDate' (OPT) (sourcetypedecimals='0', sourcetypesize='10', description='Date the employee started work in the department.', sourcetypeid='91', sourcetypename='date')  NOT NULL SORTABLE,
        "EndDate" = 'EndDate' :'java.time.LocalDate' (OPT) (sourcetypedecimals='0', sourcetypesize='10', description='Date the employee left the department. NULL = Current department.', sourcetypeid='91', sourcetypename='date')  SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_EmployeeDepartmentHistory_BusinessEntityID_StartDate_DepartmentID' PRIMARY KEY ( 'BusinessEntityID' , 'StartDate' , 'DepartmentID' , 'ShiftID' )
    CONSTRAINT 'FK_EmployeeDepartmentHistory_Department_DepartmentID' FOREIGN KEY ( 'DepartmentID' ) 
    REFERENCES 'AdventureWorks2017'.'HumanResources'.'Department'( 'DepartmentID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    CONSTRAINT 'FK_EmployeeDepartmentHistory_Employee_BusinessEntityID' FOREIGN KEY ( 'BusinessEntityID' ) 
    REFERENCES 'AdventureWorks2017'.'HumanResources'.'Employee'( 'BusinessEntityID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    CONSTRAINT 'FK_EmployeeDepartmentHistory_Shift_ShiftID' FOREIGN KEY ( 'ShiftID' ) 
    REFERENCES 'AdventureWorks2017'.'HumanResources'.'Shift'( 'ShiftID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'PK_EmployeeDepartmentHistory_BusinessEntityID_StartDate_DepartmentID' CLUSTER UNIQUE PRIMARY ( 'BusinessEntityID' , 'StartDate' , 'DepartmentID' , 'ShiftID' )
    INDEX 'IX_EmployeeDepartmentHistory_DepartmentID' OTHER ( 'DepartmentID' )
    INDEX 'IX_EmployeeDepartmentHistory_ShiftID' OTHER ( 'ShiftID' );

CHOWN admin WRAPPER JDBC "EmployeeDepartmentHistory" LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS "EmployeePayHistory" CASCADE;

CREATE WRAPPER JDBC "EmployeePayHistory"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='EmployeePayHistory' 
    OUTPUTSCHEMA (
        "BusinessEntityID" = 'BusinessEntityID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='Employee identification number. Foreign key to Employee.BusinessEntityID.', sourcetypeid='4', sourcetypename='int')  NOT NULL SORTABLE,
        "RateChangeDate" = 'RateChangeDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date the change in pay is effective', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE,
        "Rate" = 'Rate' :'java.math.BigDecimal' (OPT) (sourcetypedecimals='4', sourcetyperadix='10', sourcetypesize='19', description='Salary hourly rate.', sourcetypeid='3', sourcetypename='money')  NOT NULL NOT SORTABLE,
        "PayFrequency" = 'PayFrequency' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='3', description='1 = Salary received monthly, 2 = Salary received biweekly', sourcetypeid='-6', sourcetypename='tinyint')  NOT NULL SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_EmployeePayHistory_BusinessEntityID_RateChangeDate' PRIMARY KEY ( 'BusinessEntityID' , 'RateChangeDate' )
    CONSTRAINT 'FK_EmployeePayHistory_Employee_BusinessEntityID' FOREIGN KEY ( 'BusinessEntityID' ) 
    REFERENCES 'AdventureWorks2017'.'HumanResources'.'Employee'( 'BusinessEntityID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'PK_EmployeePayHistory_BusinessEntityID_RateChangeDate' CLUSTER UNIQUE PRIMARY ( 'BusinessEntityID' , 'RateChangeDate' );

CHOWN admin WRAPPER JDBC "EmployeePayHistory" LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS "JobCandidate" CASCADE;

CREATE WRAPPER JDBC "JobCandidate"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='JobCandidate' 
    OUTPUTSCHEMA (
        "JobCandidateID" = 'JobCandidateID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='Primary key for JobCandidate records.', sourcetypeid='4', sourcetypename='int identity')  NOT NULL NOT SORTABLE IS_AUTOINCREMENT,
        "BusinessEntityID" = 'BusinessEntityID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='Employee identification number if applicant was hired. Foreign key to Employee.BusinessEntityID.', sourcetypeid='4', sourcetypename='int')  SORTABLE,
        "Resume" = 'Resume' :'java.lang.String' (OPT) (sourcetypesize='2147483647', description='Résumé in XML format.', sourcetypeid='-16', sourcetypename='xml')  SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_JobCandidate_JobCandidateID' PRIMARY KEY ( 'JobCandidateID' )
    CONSTRAINT 'FK_JobCandidate_Employee_BusinessEntityID' FOREIGN KEY ( 'BusinessEntityID' ) 
    REFERENCES 'AdventureWorks2017'.'HumanResources'.'Employee'( 'BusinessEntityID' )  ON UPDATE RESTRICT  ON DELETE RESTRICT NOT DEFERRABLE 
    INDEX 'PK_JobCandidate_JobCandidateID' CLUSTER UNIQUE PRIMARY ( 'JobCandidateID' )
    INDEX 'IX_JobCandidate_BusinessEntityID' OTHER ( 'BusinessEntityID' );

CHOWN admin WRAPPER JDBC "JobCandidate" LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS "Shift" CASCADE;

CREATE WRAPPER JDBC "Shift"
    DATASOURCENAME=test
    CATALOGNAME='AdventureWorks2017' 
    SCHEMANAME='HumanResources' 
    RELATIONNAME='Shift' 
    OUTPUTSCHEMA (
        "ShiftID" = 'ShiftID' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='3', description='Primary key for Shift records.', sourcetypeid='-6', sourcetypename='tinyint identity')  NOT NULL NOT SORTABLE IS_AUTOINCREMENT,
        "Name" = 'Name' :'java.lang.String' (OPT) (sourcetypesize='50', description='Shift description.', sourcetypeid='-9', sourcetypename='Name')  NOT NULL NOT SORTABLE,
        "StartTime" = 'StartTime' :'java.time.LocalTime' (OPT) (sourcetypedecimals='7', sourcetypesize='16', description='Shift start time.', sourcetypeid='92', sourcetypename='time')  NOT NULL SORTABLE,
        "EndTime" = 'EndTime' :'java.time.LocalTime' (OPT) (sourcetypedecimals='7', sourcetypesize='16', description='Shift end time.', sourcetypeid='92', sourcetypename='time')  NOT NULL SORTABLE,
        "ModifiedDate" = 'ModifiedDate' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='3', sourcetypesize='23', description='Date and time the record was last updated.', sourcetypeid='93', sourcetypename='datetime')  NOT NULL SORTABLE
    )
    CONSTRAINT 'PK_Shift_ShiftID' PRIMARY KEY ( 'ShiftID' )
    INDEX 'PK_Shift_ShiftID' CLUSTER UNIQUE PRIMARY ( 'ShiftID' )
    INDEX 'AK_Shift_Name' OTHER UNIQUE ( 'Name' )
    INDEX 'AK_Shift_StartTime_EndTime' OTHER UNIQUE ( 'StartTime' , 'EndTime' );

CHOWN admin WRAPPER JDBC "Shift" LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of test
# #######################################
# No stored procedures in database test
# #######################################
# TYPES of test
# #######################################
# No types in database test
# #######################################
# MAPS of test
# #######################################
# No maps in database test
# #######################################
# BASE VIEWS of test
# #######################################
DROP VIEW IF EXISTS "Department" CASCADE;

CREATE TABLE "Department" I18N de_euro (
        "DepartmentID":int (sourcetypedecimals = '0', sourcetyperadix = '10', autoincrement, sourcetypesize = '5', description = 'Primary key for Department records.', sourcetypeid = '5'), 
        "Name":text (sourcetypesize = '50', description = 'Name of the department.', sourcetypeid = '-9'), 
        "GroupName":text (sourcetypesize = '50', description = 'Name of the group to which the department belongs.', sourcetypeid = '-9'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_Department_DepartmentID' PRIMARY KEY ( 'DepartmentID' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "Department"(
        I18N de_euro
        CONSTRAINTS (
             ADD "DepartmentID" (any) OPT ANY
             ADD "Name" (any) OPT ANY
             ADD "GroupName" (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("DepartmentID", "GroupName", "ModifiedDate", "Name"
        )
        WRAPPER (jdbc "Department")
    );

CHOWN admin VIEW "Department" LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS "Employee" CASCADE;

CREATE TABLE "Employee" I18N de_euro (
        "BusinessEntityID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = 'Primary key for Employee records.  Foreign key to BusinessEntity.BusinessEntityID.', sourcetypeid = '4'), 
        "NationalIDNumber":text (sourcetypesize = '15', description = 'Unique national identification number such as a social security number.', sourcetypeid = '-9'), 
        "LoginID":text (sourcetypesize = '256', description = 'Network login.', sourcetypeid = '-9'), 
        "OrganizationNode":blob (sourcetypesize = '892', description = 'Where the employee is located in corporate hierarchy.', sourcetypeid = '-3'), 
        "OrganizationLevel":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '5', generatedcolumn, description = 'The depth of the employee in the corporate hierarchy.', sourcetypeid = '5'), 
        "JobTitle":text (sourcetypesize = '50', description = 'Work title such as Buyer or Sales Representative.', sourcetypeid = '-9'), 
        "BirthDate":localdate (sourcetypedecimals = '0', sourcetypesize = '10', description = 'Date of birth.', sourcetypeid = '91'), 
        "MaritalStatus":text (sourcetypesize = '1', description = 'M = Married, S = Single', sourcetypeid = '-15'), 
        "Gender":text (sourcetypesize = '1', description = 'M = Male, F = Female', sourcetypeid = '-15'), 
        "HireDate":localdate (sourcetypedecimals = '0', sourcetypesize = '10', description = 'Employee hired on this date.', sourcetypeid = '91'), 
        "SalariedFlag":boolean (sourcetypesize = '1', description = 'Job classification. 0 = Hourly, not exempt from collective bargaining. 1 = Salaried, exempt from collective bargaining.', sourcetypeid = '-7'), 
        "VacationHours":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '5', description = 'Number of available vacation hours.', sourcetypeid = '5'), 
        "SickLeaveHours":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '5', description = 'Number of available sick leave hours.', sourcetypeid = '5'), 
        "CurrentFlag":boolean (sourcetypesize = '1', description = '0 = Inactive, 1 = Active', sourcetypeid = '-7'), 
        rowguid:text (sourcetypesize = '36', description = 'ROWGUIDCOL number uniquely identifying the record. Used to support a merge replication sample.', sourcetypeid = '1'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_Employee_BusinessEntityID' PRIMARY KEY ( 'BusinessEntityID' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "Employee"(
        I18N de_euro
        CONSTRAINTS (
             ADD "BusinessEntityID" (any) OPT ANY
             ADD "NationalIDNumber" (any) OPT ANY
             ADD "LoginID" (any) OPT ANY
             ADD "OrganizationNode" NOS ZERO ()
             ADD "OrganizationLevel" (any) OPT ANY
             ADD "JobTitle" (any) OPT ANY
             ADD "BirthDate" (any) OPT ANY
             ADD "MaritalStatus" (any) OPT ANY
             ADD "Gender" (any) OPT ANY
             ADD "HireDate" (any) OPT ANY
             ADD "SalariedFlag" (any) OPT ANY
             ADD "VacationHours" (any) OPT ANY
             ADD "SickLeaveHours" (any) OPT ANY
             ADD "CurrentFlag" (any) OPT ANY
             ADD rowguid (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("BirthDate", "BusinessEntityID", "CurrentFlag", "Gender", "HireDate", "JobTitle", "LoginID", "MaritalStatus", "ModifiedDate", "NationalIDNumber", "OrganizationLevel", "OrganizationNode", "SalariedFlag", "SickLeaveHours", "VacationHours", rowguid
        )
        WRAPPER (jdbc "Employee")
    );

CHOWN admin VIEW "Employee" LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS "EmployeeDepartmentHistory" CASCADE;

CREATE TABLE "EmployeeDepartmentHistory" I18N de_euro (
        "BusinessEntityID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = 'Employee identification number. Foreign key to Employee.BusinessEntityID.', sourcetypeid = '4'), 
        "DepartmentID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '5', description = 'Department in which the employee worked including currently. Foreign key to Department.DepartmentID.', sourcetypeid = '5'), 
        "ShiftID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '3', description = 'Identifies which 8-hour shift the employee works. Foreign key to Shift.Shift.ID.', sourcetypeid = '-6'), 
        "StartDate":localdate (sourcetypedecimals = '0', sourcetypesize = '10', description = 'Date the employee started work in the department.', sourcetypeid = '91'), 
        "EndDate":localdate (sourcetypedecimals = '0', sourcetypesize = '10', description = 'Date the employee left the department. NULL = Current department.', sourcetypeid = '91'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_EmployeeDepartmentHistory_BusinessEntityID_StartDate_DepartmentID' PRIMARY KEY ( 'BusinessEntityID' , 'StartDate' , 'DepartmentID' , 'ShiftID' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "EmployeeDepartmentHistory"(
        I18N de_euro
        CONSTRAINTS (
             ADD "BusinessEntityID" (any) OPT ANY
             ADD "DepartmentID" (any) OPT ANY
             ADD "ShiftID" (any) OPT ANY
             ADD "StartDate" (any) OPT ANY
             ADD "EndDate" (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("BusinessEntityID", "DepartmentID", "EndDate", "ModifiedDate", "ShiftID", "StartDate"
        )
        WRAPPER (jdbc "EmployeeDepartmentHistory")
    );

CHOWN admin VIEW "EmployeeDepartmentHistory" LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS "EmployeePayHistory" CASCADE;

CREATE TABLE "EmployeePayHistory" I18N de_euro (
        "BusinessEntityID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = 'Employee identification number. Foreign key to Employee.BusinessEntityID.', sourcetypeid = '4'), 
        "RateChangeDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date the change in pay is effective', sourcetypeid = '93'), 
        "Rate":decimal (sourcetypedecimals = '4', sourcetyperadix = '10', sourcetypesize = '19', description = 'Salary hourly rate.', sourcetypeid = '3'), 
        "PayFrequency":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '3', description = '1 = Salary received monthly, 2 = Salary received biweekly', sourcetypeid = '-6'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_EmployeePayHistory_BusinessEntityID_RateChangeDate' PRIMARY KEY ( 'BusinessEntityID' , 'RateChangeDate' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "EmployeePayHistory"(
        I18N de_euro
        CONSTRAINTS (
             ADD "BusinessEntityID" (any) OPT ANY
             ADD "RateChangeDate" (any) OPT ANY
             ADD "Rate" (any) OPT ANY
             ADD "PayFrequency" (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("BusinessEntityID", "ModifiedDate", "PayFrequency", "Rate", "RateChangeDate"
        )
        WRAPPER (jdbc "EmployeePayHistory")
    );

CHOWN admin VIEW "EmployeePayHistory" LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS "JobCandidate" CASCADE;

CREATE TABLE "JobCandidate" I18N de_euro (
        "JobCandidateID":int (sourcetypedecimals = '0', sourcetyperadix = '10', autoincrement, sourcetypesize = '10', description = 'Primary key for JobCandidate records.', sourcetypeid = '4'), 
        "BusinessEntityID":int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = 'Employee identification number if applicant was hired. Foreign key to Employee.BusinessEntityID.', sourcetypeid = '4'), 
        "Resume":text (sourcetypesize = '2147483647', description = 'Résumé in XML format.', sourcetypeid = '2005'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_JobCandidate_JobCandidateID' PRIMARY KEY ( 'JobCandidateID' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "JobCandidate"(
        I18N de_euro
        CONSTRAINTS (
             ADD "JobCandidateID" (any) OPT ANY
             ADD "BusinessEntityID" (any) OPT ANY
             ADD "Resume" (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("BusinessEntityID", "JobCandidateID", "ModifiedDate", "Resume"
        )
        WRAPPER (jdbc "JobCandidate")
    );

CHOWN admin VIEW "JobCandidate" LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS "Shift" CASCADE;

CREATE TABLE "Shift" I18N de_euro (
        "ShiftID":int (sourcetypedecimals = '0', sourcetyperadix = '10', autoincrement, sourcetypesize = '3', description = 'Primary key for Shift records.', sourcetypeid = '-6'), 
        "Name":text (sourcetypesize = '50', description = 'Shift description.', sourcetypeid = '-9'), 
        "StartTime":time (sourcetypedecimals = '7', sourcetypesize = '16', description = 'Shift start time.', sourcetypeid = '92'), 
        "EndTime":time (sourcetypedecimals = '7', sourcetypesize = '16', description = 'Shift end time.', sourcetypeid = '92'), 
        "ModifiedDate":timestamp (sourcetypedecimals = '3', sourcetypesize = '23', description = 'Date and time the record was last updated.', sourcetypeid = '93')
    )
    CONSTRAINT 'PK_Shift_ShiftID' PRIMARY KEY ( 'ShiftID' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD "Shift"(
        I18N de_euro
        CONSTRAINTS (
             ADD "ShiftID" (any) OPT ANY
             ADD "Name" (any) OPT ANY
             ADD "StartTime" (any) OPT ANY
             ADD "EndTime" (any) OPT ANY
             ADD "ModifiedDate" (any) OPT ANY
        )
        OUTPUTLIST ("EndTime", "ModifiedDate", "Name", "ShiftID", "StartTime"
        )
        WRAPPER (jdbc "Shift")
    );

CHOWN admin VIEW "Shift" LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of test
# #######################################
# No views in database test
# #######################################
# ASSOCIATIONS of test
# #######################################
# No associations in database test
# #######################################
# WEBSERVICES of test
# #######################################
# No web services in database test
# #######################################
# WIDGETS of test
# #######################################
# No widgets in database test
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of test
# #######################################
# No deployed web services in database test
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of test
# #######################################
# No deployed widgets in database test
# #######################################
# Closing connection with database test
# #######################################
CLOSE;


# 4 ====================================================================

# #######################################
# DATABASE of labs_db_basics
# #######################################
DROP DATABASE IF EXISTS labs_db_basics;

CREATE DATABASE labs_db_basics ''
  AUTHENTICATION LDAP ob_dv_basics.ds_ldap
    USERBASE = 'CN=Users,DC=denodo,DC=loc'
    USERATTRIBUTENAME = 'sAMAccountName'
    USERSEARCH = '(&(objectClass=person))'
    ROLEBASE = 'OU=groups,DC=denodo,DC=loc'
    ROLEATTRIBUTENAME = 'cn'
    ROLESEARCH = '(member=@{USERDN})'
    ROLESSEARCHAUTHENTICATION
    WITH_ALLUSERS_ROLE;

CONNECT DATABASE labs_db_basics;

# #######################################
# FOLDERS of labs_db_basics
# #######################################
CREATE OR REPLACE FOLDER '/associations' ;

CHOWN admin FOLDER '/associations';

CREATE OR REPLACE FOLDER '/base_views' ;

CHOWN admin FOLDER '/base_views';

CREATE OR REPLACE FOLDER '/data_sources' ;

CHOWN admin FOLDER '/data_sources';

CREATE OR REPLACE FOLDER '/derived_views' ;

CHOWN admin FOLDER '/derived_views';

CREATE OR REPLACE FOLDER '/interface' ;

CHOWN admin FOLDER '/interface';

CREATE OR REPLACE FOLDER '/webservices' ;

CHOWN admin FOLDER '/webservices';

# #######################################
# LISTENERS JMS of labs_db_basics
# #######################################
# No listeners jms in database labs_db_basics
# #######################################
# DATASOURCES of labs_db_basics
# #######################################
DROP DATASOURCE CUSTOM IF EXISTS ds_invoices CASCADE;

CREATE DATASOURCE CUSTOM ds_invoices
    FOLDER = '/data_sources'
    CLASSNAME='com.denodo.vdb.contrib.wrapper.xls.ExcelWrapper';

CHOWN admin DATASOURCE CUSTOM ds_invoices LASTMODIFICATIONUSER admin;

DROP DATASOURCE DF IF EXISTS ds_salesforce_account CASCADE;

CREATE DATASOURCE DF ds_salesforce_account
    FOLDER = '/data_sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Users/Sarthak Garg/Desktop/Denodo studymaterial/labs dv basic/DEN60EDU0117LAB01/account.csv'
    COLUMNDELIMITER = ','
    ENDOFLINEDELIMITER = '\n'
    HEADER = TRUE;

CHOWN admin DATASOURCE DF ds_salesforce_account LASTMODIFICATIONUSER admin;

DROP DATASOURCE DF IF EXISTS ds_salesforce_contact CASCADE;

CREATE DATASOURCE DF ds_salesforce_contact
    FOLDER = '/data_sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Users/Sarthak Garg/Desktop/labs dv basic/DEN60EDU0117LAB01/contact.csv'
    COLUMNDELIMITER = ','
    ENDOFLINEDELIMITER = '\n'
    HEADER = TRUE;

CHOWN admin DATASOURCE DF ds_salesforce_contact LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS ds_human_resources CASCADE;

CREATE DATASOURCE JDBC ds_human_resources
    FOLDER = '/data_sources'
    DRIVERCLASSNAME = 'org.sqlite.JDBC'
    DATABASEURI = 'jdbc:sqlite:C:\Users\Sarthak Garg\Desktop\Denodo studymaterial\labs dv basic\DEN60EDU0120LAB01\DEN60EDU0120LAB01.db'
    USERNAME = ''
    USERPASSWORD = ''
    CLASSPATH = 'C:\Users\Sarthak Garg\Desktop\Denodo studymaterial\labs dv basic\sqlite-jdbc-3.23.1.jar'
    DATABASENAME = 'Generic'
    DATABASEVERSION = ''
    FETCHSIZE = 1000
    VALIDATIONQUERY = ''
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    SOURCECONFIGURATION (
        delegateprojectsubquery = false,
        delegateaggregatefunctionslist = (avg, count, max, min, sum),
        delegatescalarfunctionslist = (abs, ceil, coalesce, concat, div, floor, getday, gethour, getminute, getmonth, getsecond, getyear, len, log, lower, mod, mult, now, nullif, pow, power, replace, round, sqrt, subtract, sum, textcat, textconstant, trim, upper)
    );

CHOWN admin DATASOURCE JDBC ds_human_resources LASTMODIFICATIONUSER admin;

DROP DATASOURCE JSON IF EXISTS ds_sales CASCADE;

CREATE DATASOURCE JSON ds_sales
    FOLDER = '/data_sources'
    ROUTE HTTP 'http.CommonsHttpClientConnection,120000' GET 'http://localhost:8081/sales-ws/sales/'
    HEADERS (
        'content-type'='application/json', 
        'accept'='application/json'
    )
    AUTHENTICATION BASIC ( 
      USER 'admin'
      PASSWORD 'Bbr399ZJNTWS0giVecgqlmpHSlCgcpe7FGbtaP/1PiveNN1W4lN0cVV0ma9Etu//89BVroej3AS9As3QgiVEAEBFt5n27YS3mFUJ3EY5UlVzmxOiTnlDHl2gz/cSCZtC' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE JSON ds_sales LASTMODIFICATIONUSER admin;

DROP DATASOURCE JSON IF EXISTS ds_sales_search CASCADE;

CREATE DATASOURCE JSON ds_sales_search
    FOLDER = '/data_sources'
    ROUTE HTTP 'http.CommonsHttpClientConnection,120000' POST 'http://localhost:8081/sales-ws/sales/'
    POSTBODY ' \{
^ExecuteIfIsNotNull("\"customerId\" : \"",@CID,"\",","\"customerId\" : null,")
^ExecuteIfIsNotNull("\"employeeId\" : \"",@EID,"\",","\"employeeId\" : null,")
^ExecuteIfIsNotNull("\"productId\" : \"",@PID,"\"","\"productId\" : null")
\}'
    MIME 'application/json'
    HEADERS (
        'accept'='application/json'
    )
    AUTHENTICATION BASIC ( 
      USER 'customer'
      PASSWORD 'PD1j+MjsSG8Ilm1dxbYyRS5GMhN5Bgy9EiZtbnC+641kxXQ45vO6XYldTh6Ux39PPeLLZZj0BDWrBr+WU7otl6+9rsPaH/FZBMrfohAJkSjYkoWjj2pmXVrEiGNuqSOp' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE JSON ds_sales_search LASTMODIFICATIONUSER admin;

DROP DATASOURCE LDAP IF EXISTS ds_active_directory CASCADE;

CREATE DATASOURCE LDAP ds_active_directory
    FOLDER = '/data_sources'
    URI='ldap://localhost:10389/dc=denodo,dc=loc'
    USERNAME='uid=admin,ou=system'
    USERPASSWORD='IxpcrLil/nJxOf6Ag/OCsBjqcqHvBd5f2xpVz9HxUJh6nlM2Qmk04d+pOz8zsIQjUwyH5Em84kL0bgtVIUZLmivZMXpF7nyNabz15jh3Z46w/V7DmcI4VWUsuCSYwcCL' ENCRYPTED
    USEPAGING=FALSE
    MAXPAGESIZE=1000
    POOL_ENABLED = TRUE;

CHOWN admin DATASOURCE LDAP ds_active_directory LASTMODIFICATIONUSER admin;

DROP DATASOURCE ODBC IF EXISTS ds_odbc_excel CASCADE;

CREATE DATASOURCE ODBC ds_odbc_excel
    FOLDER = '/data_sources'
    DSN = 'ds_excel'
    WITH PASS-THROUGH SESSION CREDENTIALS ( 
        USERNAME = ''
        USERPASSWORD = ''
    ) 
    CLASSPATH = 'jdbc-odbc'
    DATABASENAME = 'excel'
    DATABASEVERSION = '8'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8;

CHOWN admin DATASOURCE ODBC ds_odbc_excel LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE labs_db_basics
  CHARSET DEFAULT;

ALTER DATABASE labs_db_basics
  QUERY SIMPLIFICATION OFF
  CACHE ON (
    MAINTAINERPERIOD 21600
    TIMETOLIVE 3600
    DATASOURCE DEFAULT
  )
  MEMORYCONFIG (
    SWAP ON (
      SWAPSIZE 50
      SWAPBLOCKSIZE 200
    )
    MAXRESULTSIZE 10
  );

# #######################################
# WRAPPERS of labs_db_basics
# #######################################
DROP WRAPPER CUSTOM IF EXISTS ds_invoices CASCADE;

CREATE WRAPPER CUSTOM ds_invoices
    FOLDER = '/data_sources'
    DATASOURCENAME=ds_invoices
    PARAMETERS (
      'Type of file' = 'Excel 2007 or later (*.xlsx)',
      'File location' = ROUTE LOCAL 'LocalConnection' 'C:/Users/Sarthak Garg/Desktop/Denodo studymaterial/labs dv basic/DEN60EDU0107LAB01/Invoices_2015.xlsx',
      'Extract data from all sheets' = true,
      'Extract sheet name as a new column' = false,
      'Start cell' = 'a4',
      'Has headers' = true,
      'Stream tuples' = true
    )
    OUTPUTSCHEMA (
        invoice_id = 'invoice_id' : 'java.lang.Integer' (OPT) (sourcetypeid='4')  SORTABLE,
        date_invoice = 'date_invoice' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        order_id = 'order_id' : 'java.lang.Integer' (OPT) (sourcetypeid='4')  SORTABLE,
        date_placed = 'date_placed' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        date_delivered = 'date_delivered' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        date_closed = 'date_closed' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        first_name = 'first_name' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        last_name = 'last_name' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        email = 'email' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        address = 'address' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        country = 'country' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        postal_code = 'postal_code' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        phone = 'phone' : 'java.lang.String' (OPT) (sourcetypeid='12')  SORTABLE,
        amount = 'amount' : 'java.lang.Integer' (OPT) (sourcetypeid='4')  SORTABLE
    );

CHOWN admin WRAPPER CUSTOM ds_invoices LASTMODIFICATIONUSER admin;

DROP WRAPPER DF IF EXISTS bv_account CASCADE;

CREATE WRAPPER DF bv_account
    FOLDER = '/base_views'
    DATASOURCENAME=ds_salesforce_account
    OUTPUTSCHEMA (
        id = 'id' (OPT),
        isdeleted = 'isdeleted' (OPT),
        masterrecordid = 'masterrecordid' (OPT),
        name = 'name' (OPT),
        type = 'type' (OPT),
        parentid = 'parentid' (OPT),
        billingstreet = 'billingstreet' (OPT),
        billingcity = 'billingcity' (OPT),
        billingstate = 'billingstate' (OPT),
        billingpostalcode = 'billingpostalcode' (OPT),
        billingcountry = 'billingcountry' (OPT),
        billinglatitude = 'billinglatitude' (OPT),
        billinglongitude = 'billinglongitude' (OPT),
        billingaddress = 'billingaddress' (OPT),
        shippingstreet = 'shippingstreet' (OPT),
        shippingcity = 'shippingcity' (OPT),
        shippingstate = 'shippingstate' (OPT),
        shippingpostalcode = 'shippingpostalcode' (OPT),
        shippingcountry = 'shippingcountry' (OPT),
        shippinglatitude = 'shippinglatitude' (OPT),
        shippinglongitude = 'shippinglongitude' (OPT),
        shippingaddress = 'shippingaddress' (OPT),
        phone = 'phone' (OPT),
        fax = 'fax' (OPT),
        accountnumber = 'accountnumber' (OPT),
        website = 'website' (OPT),
        photourl = 'photourl' (OPT),
        sic = 'sic' (OPT),
        industry = 'industry' (OPT),
        annualrevenue = 'annualrevenue' (OPT),
        numberofemployees = 'numberofemployees' (OPT),
        ownership = 'ownership' (OPT),
        tickersymbol = 'tickersymbol' (OPT),
        description = 'description' (OPT),
        rating = 'rating' (OPT),
        site = 'site' (OPT),
        ownerid = 'ownerid' (OPT),
        createddate = 'createddate' (OPT),
        createdbyid = 'createdbyid' (OPT),
        lastmodifieddate = 'lastmodifieddate' (OPT),
        lastmodifiedbyid = 'lastmodifiedbyid' (OPT),
        systemmodstamp = 'systemmodstamp' (OPT),
        lastactivitydate = 'lastactivitydate' (OPT),
        lastvieweddate = 'lastvieweddate' (OPT),
        lastreferenceddate = 'lastreferenceddate' (OPT),
        jigsaw = 'jigsaw' (OPT),
        jigsawcompanyid = 'jigsawcompanyid' (OPT),
        cleanstatus = 'cleanstatus' (OPT),
        accountsource = 'accountsource' (OPT),
        dunsnumber = 'dunsnumber' (OPT),
        tradestyle = 'tradestyle' (OPT),
        naicscode = 'naicscode' (OPT),
        naicsdesc = 'naicsdesc' (OPT),
        yearstarted = 'yearstarted' (OPT),
        sicdesc = 'sicdesc' (OPT),
        dandbcompanyid = 'dandbcompanyid' (OPT),
        customerpriority__c = 'customerpriority__c' (OPT),
        sla__c = 'sla__c' (OPT),
        active__c = 'active__c' (OPT),
        numberoflocations__c = 'numberoflocations__c' (OPT),
        upsellopportunity__c = 'upsellopportunity__c' (OPT),
        slaserialnumber__c = 'slaserialnumber__c' (OPT),
        slaexpirationdate__c = 'slaexpirationdate__c' (OPT)
    );

CHOWN admin WRAPPER DF bv_account LASTMODIFICATIONUSER admin;

DROP WRAPPER DF IF EXISTS bv_sf_account CASCADE;

CREATE WRAPPER DF bv_sf_account
    FOLDER = '/base_views'
    DATASOURCENAME=ds_salesforce_account
    OUTPUTSCHEMA (
        id = 'id' (OPT),
        isdeleted = 'isdeleted' (OPT),
        masterrecordid = 'masterrecordid' (OPT),
        name = 'name' (OPT),
        type = 'type' (OPT),
        parentid = 'parentid' (OPT),
        billingstreet = 'billingstreet' (OPT),
        billingcity = 'billingcity' (OPT),
        billingstate = 'billingstate' (OPT),
        billingpostalcode = 'billingpostalcode' (OPT),
        billingcountry = 'billingcountry' (OPT),
        billinglatitude = 'billinglatitude' (OPT),
        billinglongitude = 'billinglongitude' (OPT),
        billingaddress = 'billingaddress' (OPT),
        shippingstreet = 'shippingstreet' (OPT),
        shippingcity = 'shippingcity' (OPT),
        shippingstate = 'shippingstate' (OPT),
        shippingpostalcode = 'shippingpostalcode' (OPT),
        shippingcountry = 'shippingcountry' (OPT),
        shippinglatitude = 'shippinglatitude' (OPT),
        shippinglongitude = 'shippinglongitude' (OPT),
        shippingaddress = 'shippingaddress' (OPT),
        phone = 'phone' (OPT),
        fax = 'fax' (OPT),
        accountnumber = 'accountnumber' (OPT),
        website = 'website' (OPT),
        photourl = 'photourl' (OPT),
        sic = 'sic' (OPT),
        industry = 'industry' (OPT),
        annualrevenue = 'annualrevenue' (OPT),
        numberofemployees = 'numberofemployees' (OPT),
        ownership = 'ownership' (OPT),
        tickersymbol = 'tickersymbol' (OPT),
        description = 'description' (OPT),
        rating = 'rating' (OPT),
        site = 'site' (OPT),
        ownerid = 'ownerid' (OPT),
        createddate = 'createddate' (OPT),
        createdbyid = 'createdbyid' (OPT),
        lastmodifieddate = 'lastmodifieddate' (OPT),
        lastmodifiedbyid = 'lastmodifiedbyid' (OPT),
        systemmodstamp = 'systemmodstamp' (OPT),
        lastactivitydate = 'lastactivitydate' (OPT),
        lastvieweddate = 'lastvieweddate' (OPT),
        lastreferenceddate = 'lastreferenceddate' (OPT),
        jigsaw = 'jigsaw' (OPT),
        jigsawcompanyid = 'jigsawcompanyid' (OPT),
        cleanstatus = 'cleanstatus' (OPT),
        accountsource = 'accountsource' (OPT),
        dunsnumber = 'dunsnumber' (OPT),
        tradestyle = 'tradestyle' (OPT),
        naicscode = 'naicscode' (OPT),
        naicsdesc = 'naicsdesc' (OPT),
        yearstarted = 'yearstarted' (OPT),
        sicdesc = 'sicdesc' (OPT),
        dandbcompanyid = 'dandbcompanyid' (OPT),
        customerpriority__c = 'customerpriority__c' (OPT),
        sla__c = 'sla__c' (OPT),
        active__c = 'active__c' (OPT),
        numberoflocations__c = 'numberoflocations__c' (OPT),
        upsellopportunity__c = 'upsellopportunity__c' (OPT),
        slaserialnumber__c = 'slaserialnumber__c' (OPT),
        slaexpirationdate__c = 'slaexpirationdate__c' (OPT)
    );

CHOWN admin WRAPPER DF bv_sf_account LASTMODIFICATIONUSER admin;

DROP WRAPPER DF IF EXISTS bv_sf_contact CASCADE;

CREATE WRAPPER DF bv_sf_contact
    FOLDER = '/base_views'
    DATASOURCENAME=ds_salesforce_contact
    OUTPUTSCHEMA (
        id = 'id' (OPT),
        isdeleted = 'isdeleted' (OPT),
        masterrecordid = 'masterrecordid' (OPT),
        accountid = 'accountid' (OPT),
        lastname = 'lastname' (OPT),
        firstname = 'firstname' (OPT),
        salutation = 'salutation' (OPT),
        name = 'name' (OPT),
        otherstreet = 'otherstreet' (OPT),
        othercity = 'othercity' (OPT),
        otherstate = 'otherstate' (OPT),
        otherpostalcode = 'otherpostalcode' (OPT),
        othercountry = 'othercountry' (OPT),
        otherlatitude = 'otherlatitude' (OPT),
        otherlongitude = 'otherlongitude' (OPT),
        otheraddress = 'otheraddress' (OPT),
        mailingstreet = 'mailingstreet' (OPT),
        mailingcity = 'mailingcity' (OPT),
        mailingstate = 'mailingstate' (OPT),
        mailingpostalcode = 'mailingpostalcode' (OPT),
        mailingcountry = 'mailingcountry' (OPT),
        mailinglatitude = 'mailinglatitude' (OPT),
        mailinglongitude = 'mailinglongitude' (OPT),
        mailingaddress = 'mailingaddress' (OPT),
        phone = 'phone' (OPT),
        fax = 'fax' (OPT),
        mobilephone = 'mobilephone' (OPT),
        homephone = 'homephone' (OPT),
        otherphone = 'otherphone' (OPT),
        assistantphone = 'assistantphone' (OPT),
        reportstoid = 'reportstoid' (OPT),
        email = 'email' (OPT),
        title = 'title' (OPT),
        department = 'department' (OPT),
        assistantname = 'assistantname' (OPT),
        leadsource = 'leadsource' (OPT),
        birthdate = 'birthdate' (OPT),
        description = 'description' (OPT),
        ownerid = 'ownerid' (OPT),
        createddate = 'createddate' (OPT),
        createdbyid = 'createdbyid' (OPT),
        lastmodifieddate = 'lastmodifieddate' (OPT),
        lastmodifiedbyid = 'lastmodifiedbyid' (OPT),
        systemmodstamp = 'systemmodstamp' (OPT),
        lastactivitydate = 'lastactivitydate' (OPT),
        lastcurequestdate = 'lastcurequestdate' (OPT),
        lastcuupdatedate = 'lastcuupdatedate' (OPT),
        lastvieweddate = 'lastvieweddate' (OPT),
        lastreferenceddate = 'lastreferenceddate' (OPT),
        emailbouncedreason = 'emailbouncedreason' (OPT),
        emailbounceddate = 'emailbounceddate' (OPT),
        isemailbounced = 'isemailbounced' (OPT),
        photourl = 'photourl' (OPT),
        jigsaw = 'jigsaw' (OPT),
        jigsawcontactid = 'jigsawcontactid' (OPT),
        cleanstatus = 'cleanstatus' (OPT),
        level__c = 'level__c' (OPT),
        languages__c = 'languages__c' (OPT)
    );

CHOWN admin WRAPPER DF bv_sf_contact LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_hr_countries CASCADE;

CREATE WRAPPER JDBC bv_hr_countries
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='COUNTRIES' 
    OUTPUTSCHEMA (
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='CHAR(2)')  NOT NULL SORTABLE,
        country_name = 'COUNTRY_NAME' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(40)')  NOT SORTABLE,
        region_id = 'REGION_ID' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER')  NOT SORTABLE
    )
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'COUNTRY_ID' )
    CONSTRAINT 'COUNTR_REG_FK' FOREIGN KEY ( 'REGION_ID' ) 
    REFERENCES 'REGIONS'( 'REGION_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_COUNTRIES_1' OTHER UNIQUE PRIMARY ( 'COUNTRY_ID' );

CHOWN admin WRAPPER JDBC bv_hr_countries LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_hr_employees CASCADE;

CREATE WRAPPER JDBC bv_hr_employees
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='EMPLOYEES' 
    OUTPUTSCHEMA (
        employee_id = 'EMPLOYEE_ID' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER(6)')  NOT NULL NOT SORTABLE,
        first_name = 'FIRST_NAME' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(20)')  NOT SORTABLE,
        last_name = 'LAST_NAME' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(25)')  NOT NULL NOT SORTABLE,
        email = 'EMAIL' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(50)')  NOT NULL NOT SORTABLE,
        phone_number = 'PHONE_NUMBER' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(20)')  NOT SORTABLE,
        hire_date = 'HIRE_DATE' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='DATE')  NOT NULL SORTABLE,
        job_id = 'JOB_ID' :'java.lang.String' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='12', sourcetypename='VARCHAR2(10)')  NOT NULL NOT SORTABLE,
        salary = 'SALARY' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER(8,2)')  NOT SORTABLE,
        commission_pct = 'COMMISSION_PCT' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER(2,2)')  NOT SORTABLE,
        manager_id = 'MANAGER_ID' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER(6)')  NOT SORTABLE,
        department_id = 'DEPARTMENT_ID' :'java.lang.Double' (OPT) (sourcetypedecimals='10', sourcetyperadix='10', sourcetypesize='2000000000', sourcetypeid='6', sourcetypename='NUMBER(4)')  NOT SORTABLE
    )
    CONSTRAINT 'EMP_EMP_ID_PK' PRIMARY KEY ( 'EMPLOYEE_ID' )
    CONSTRAINT 'EMP_DEPT_FK' FOREIGN KEY ( 'DEPARTMENT_ID' ) 
    REFERENCES 'DEPARTMENTS'( 'DEPARTMENT_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    CONSTRAINT 'EMP_MANAGER_FK' FOREIGN KEY ( 'MANAGER_ID' ) 
    REFERENCES 'EMPLOYEES'( 'EMPLOYEE_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    CONSTRAINT 'EMP_JOB_FK' FOREIGN KEY ( 'JOB_ID' ) 
    REFERENCES 'JOBS'( 'JOB_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_EMPLOYEES_2' OTHER UNIQUE ( 'EMAIL' )
    INDEX 'sqlite_autoindex_EMPLOYEES_1' OTHER UNIQUE PRIMARY ( 'EMPLOYEE_ID' );

CHOWN admin WRAPPER JDBC bv_hr_employees LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS countries CASCADE;

CREATE WRAPPER JDBC countries
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='COUNTRIES' 
    OUTPUTSCHEMA (
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='CHAR(2)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        country_name = 'COUNTRY_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(40)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        region_id = 'REGION_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'COUNTRY_C_ID_PK' PRIMARY KEY ( 'COUNTRY_ID' )
    CONSTRAINT 'COUNTR_REG_FK' FOREIGN KEY ( 'REGION_ID' ) 
    REFERENCES 'REGIONS'( 'REGION_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_COUNTRIES_1' OTHER UNIQUE PRIMARY ( 'COUNTRY_ID' );

CHOWN admin WRAPPER JDBC countries LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS departments CASCADE;

CREATE WRAPPER JDBC departments
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='DEPARTMENTS' 
    OUTPUTSCHEMA (
        department_id = 'DEPARTMENT_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(4)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        department_name = 'DEPARTMENT_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(30)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        location_id = 'LOCATION_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(4)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        manager_id = 'MANAGER_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(6)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'DEPT_ID_PK' PRIMARY KEY ( 'DEPARTMENT_ID' )
    FOREIGN KEY ( 'MANAGER_ID' ) 
    REFERENCES 'EMPLOYEES'( 'EMPLOYEE_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    CONSTRAINT 'DEPT_LOC_FK' FOREIGN KEY ( 'LOCATION_ID' ) 
    REFERENCES 'LOCATIONS'( 'LOCATION_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_DEPARTMENTS_1' OTHER UNIQUE PRIMARY ( 'DEPARTMENT_ID' );

CHOWN admin WRAPPER JDBC departments LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS employees CASCADE;

CREATE WRAPPER JDBC employees
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='EMPLOYEES' 
    OUTPUTSCHEMA (
        employee_id = 'EMPLOYEE_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(6)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        first_name = 'FIRST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(20)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        last_name = 'LAST_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(25)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        email = 'EMAIL' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(50)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        phone_number = 'PHONE_NUMBER' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(20)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        hire_date = 'HIRE_DATE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='DATE', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL SORTABLE,
        job_id = 'JOB_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(10)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        salary = 'SALARY' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(8,2)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        commission_pct = 'COMMISSION_PCT' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(2,2)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        manager_id = 'MANAGER_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(6)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        department_id = 'DEPARTMENT_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(4)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'EMP_EMP_ID_PK' PRIMARY KEY ( 'EMPLOYEE_ID' )
    CONSTRAINT 'EMP_DEPT_FK' FOREIGN KEY ( 'DEPARTMENT_ID' ) 
    REFERENCES 'DEPARTMENTS'( 'DEPARTMENT_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    CONSTRAINT 'EMP_MANAGER_FK' FOREIGN KEY ( 'MANAGER_ID' ) 
    REFERENCES 'EMPLOYEES'( 'EMPLOYEE_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    CONSTRAINT 'EMP_JOB_FK' FOREIGN KEY ( 'JOB_ID' ) 
    REFERENCES 'JOBS'( 'JOB_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_EMPLOYEES_2' OTHER UNIQUE ( 'EMAIL' )
    INDEX 'sqlite_autoindex_EMPLOYEES_1' OTHER UNIQUE PRIMARY ( 'EMPLOYEE_ID' );

CHOWN admin WRAPPER JDBC employees LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS jobs CASCADE;

CREATE WRAPPER JDBC jobs
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='JOBS' 
    OUTPUTSCHEMA (
        job_id = 'JOB_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(10)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        job_title = 'JOB_TITLE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(35)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        min_salary = 'MIN_SALARY' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(6)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        max_salary = 'MAX_SALARY' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(6)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'JOB_ID_PK' PRIMARY KEY ( 'JOB_ID' )
    INDEX 'sqlite_autoindex_JOBS_1' OTHER UNIQUE PRIMARY ( 'JOB_ID' );

CHOWN admin WRAPPER JDBC jobs LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS locations CASCADE;

CREATE WRAPPER JDBC locations
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='LOCATIONS' 
    OUTPUTSCHEMA (
        location_id = 'LOCATION_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER(4)', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        street_address = 'STREET_ADDRESS' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(40)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        postal_code = 'POSTAL_CODE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(12)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        city = 'CITY' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(30)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        state_province = 'STATE_PROVINCE' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(25)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE,
        country_id = 'COUNTRY_ID' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='CHAR(2)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'LOC_ID_PK' PRIMARY KEY ( 'LOCATION_ID' )
    CONSTRAINT 'LOC_C_ID_FK' FOREIGN KEY ( 'COUNTRY_ID' ) 
    REFERENCES 'COUNTRIES'( 'COUNTRY_ID' )  ON UPDATE NO ACTION  ON DELETE NO ACTION INITIALLY DEFERRED 
    INDEX 'sqlite_autoindex_LOCATIONS_1' OTHER UNIQUE PRIMARY ( 'LOCATION_ID' );

CHOWN admin WRAPPER JDBC locations LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS regions CASCADE;

CREATE WRAPPER JDBC regions
    FOLDER = '/base_views'
    DATASOURCENAME=ds_human_resources
    RELATIONNAME='REGIONS' 
    OUTPUTSCHEMA (
        region_id = 'REGION_ID' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='6', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT NULL NOT SORTABLE,
        region_name = 'REGION_NAME' :'java.lang.String' (OPT) (sourcetyperadix='10', sourcetypename='VARCHAR2(25)', sourcetypeid='12', sourcetypedecimals='10', sourcetypesize='2000000000')  NOT SORTABLE
    )
    CONSTRAINT 'REG_ID_PK' PRIMARY KEY ( 'REGION_ID' )
    INDEX 'sqlite_autoindex_REGIONS_1' OTHER UNIQUE PRIMARY ( 'REGION_ID' );

CHOWN admin WRAPPER JDBC regions LASTMODIFICATIONUSER admin;

DROP WRAPPER JSON IF EXISTS bv_sales_all CASCADE;

CREATE WRAPPER JSON bv_sales_all
    FOLDER = '/base_views'
    DATASOURCENAME=ds_sales
    TUPLEROOT '/JSONFile/salesData/sales'
    OUTPUTSCHEMA (jsonfile = 'JSONFile' : REGISTER OF (
        productid_0 = 'JSONFile.salesData.productId' : 'java.lang.String',
        saleid = 'JSONFile.salesData.sales.saleId' : 'java.lang.String',
        productid = 'JSONFile.salesData.sales.productId' : 'java.lang.String',
        employeeid = 'JSONFile.salesData.sales.employeeId' : 'java.lang.String',
        customerid = 'JSONFile.salesData.sales.customerId' : 'java.lang.String',
        saledate = 'JSONFile.salesData.sales.saleDate' : 'java.lang.String',
        bundleamount = 'JSONFile.salesData.sales.bundleAmount' : 'java.lang.String',
        productsaleprice = 'JSONFile.salesData.sales.productSalePrice' : 'java.lang.String',
        totalprice = 'JSONFile.salesData.sales.totalPrice' : 'java.lang.String'
    )
    );

CHOWN admin WRAPPER JSON bv_sales_all LASTMODIFICATIONUSER admin;

DROP WRAPPER JSON IF EXISTS bv_sales_all_array CASCADE;

CREATE WRAPPER JSON bv_sales_all_array
    FOLDER = '/base_views'
    DATASOURCENAME=ds_sales
    TUPLEROOT '/JSONFile'
    OUTPUTSCHEMA (jsonfile = 'JSONFile' : REGISTER OF (
        salesdata = 'salesData' : ARRAY OF (
            salesdata = 'salesData' : REGISTER OF (
                productid = 'productId' : 'java.lang.String',
                sales = 'sales' : ARRAY OF (
                    sales = 'sales' : REGISTER OF (
                        saleid = 'saleId' : 'java.lang.String',
                        productid = 'productId' : 'java.lang.String',
                        employeeid = 'employeeId' : 'java.lang.String',
                        customerid = 'customerId' : 'java.lang.String',
                        saledate = 'saleDate' : 'java.lang.String',
                        bundleamount = 'bundleAmount' : 'java.lang.String',
                        productsaleprice = 'productSalePrice' : 'java.lang.String',
                        totalprice = 'totalPrice' : 'java.lang.String'
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER JSON bv_sales_all_array LASTMODIFICATIONUSER admin;

DROP WRAPPER JSON IF EXISTS bv_sales_search_array CASCADE;

CREATE WRAPPER JSON bv_sales_search_array
    FOLDER = '/base_views'
    DATASOURCENAME=ds_sales_search
    TUPLEROOT '/JSONFile'
    OUTPUTSCHEMA (jsonfile = 'JSONFile' : REGISTER OF (
        cid = 'CID' : 'java.lang.String' (OBL) (DEFAULTVALUE='00158000002dVSjAAM') EXTERN,
        eid = 'EID' : 'java.lang.String' (OBL) (DEFAULTVALUE='48') EXTERN,
        pid = 'PID' : 'java.lang.String' (OBL) (DEFAULTVALUE='2') EXTERN,
        salesdata = 'salesData' : ARRAY OF (
            salesdata = 'salesData' : REGISTER OF (
                productid = 'productId' : 'java.lang.String',
                sales = 'sales' : ARRAY OF (
                    sales = 'sales' : REGISTER OF (
                        saleid = 'saleId' : 'java.lang.String',
                        productid = 'productId' : 'java.lang.String',
                        employeeid = 'employeeId' : 'java.lang.String',
                        customerid = 'customerId' : 'java.lang.String',
                        saledate = 'saleDate' : 'java.lang.String',
                        bundleamount = 'bundleAmount' : 'java.lang.String',
                        productsaleprice = 'productSalePrice' : 'java.lang.String',
                        totalprice = 'totalPrice' : 'java.lang.String'
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER JSON bv_sales_search_array LASTMODIFICATIONUSER admin;

DROP WRAPPER LDAP IF EXISTS bv_ad_computer CASCADE;

CREATE WRAPPER LDAP bv_ad_computer
    FOLDER = '/base_views'
    DATASOURCENAME=ds_active_directory
    OBJECTCLASSES='computer'
    RECURSIVESEARCH=TRUE
    SINGLE-VALUE=FALSE
    OUTPUTSCHEMA (
        cn = 'cn' : ARRAY OF (
            cn = 'CN' : REGISTER OF (
                cn = 'cn' : 'java.lang.String' (OPT)
            )
        ),
        description = 'description' : ARRAY OF (
            description = 'DESCRIPTION' : REGISTER OF (
                description = 'description' : 'java.lang.String' (OPT)
            )
        ),
        protocolinformation = 'protocolInformation' : ARRAY OF (
            protocolinformation = 'protocolInformation' : REGISTER OF (
                protocolinformation = 'protocolInformation' : 'java.lang.String' (OPT)
            )
        ),
        serialnumber = 'serialNumber' : ARRAY OF (
            serialnumber = 'serialNumber' : REGISTER OF (
                serialnumber = 'serialNumber' : 'java.lang.String' (OPT)
            )
        ),
        supportedalgorithms = 'supportedAlgorithms' : ARRAY OF (
            supportedalgorithms = 'supportedAlgorithms' : REGISTER OF (
                supportedalgorithms = 'supportedAlgorithms' : 'java.lang.String' (OPT)
            )
        )
    );

CHOWN admin WRAPPER LDAP bv_ad_computer LASTMODIFICATIONUSER admin;

DROP WRAPPER LDAP IF EXISTS bv_ad_user CASCADE;

CREATE WRAPPER LDAP bv_ad_user
    FOLDER = '/base_views'
    DATASOURCENAME=ds_active_directory
    OBJECTCLASSES='person'
    LDAPEXPRESSION='(&(objectClass=user)(objectClass=person) (!(objectClass=computer)))'   
    RECURSIVESEARCH=TRUE
    SINGLE-VALUE=FALSE
    OUTPUTSCHEMA (
        cn = 'cn' : ARRAY OF (
            cn = 'CN' : REGISTER OF (
                cn = 'cn' : 'java.lang.String'
            )
        ),
        distinguishedname = 'distinguishedName' : ARRAY OF (
            distinguishedname = 'distinguishedName' : REGISTER OF (
                distinguishedname = 'distinguishedName' : 'java.lang.String'
            )
        ),
        givenname = 'givenName' : ARRAY OF (
            givenname = 'givenName' : REGISTER OF (
                givenname = 'givenName' : 'java.lang.String'
            )
        ),
        mail = 'mail' : ARRAY OF (
            mail = 'MAIL' : REGISTER OF (
                mail = 'mail' : 'java.lang.String'
            )
        ),
        sn = 'sn' : ARRAY OF (
            sn = 'SN' : REGISTER OF (
                sn = 'sn' : 'java.lang.String'
            )
        ),
        uid = 'uid' : ARRAY OF (
            uid = 'UID' : REGISTER OF (
                uid = 'uid' : 'java.lang.String'
            )
        )
    );

CHOWN admin WRAPPER LDAP bv_ad_user LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS apr_0 CASCADE;

CREATE WRAPPER ODBC apr_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Apr$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    apr = 'Apr' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC apr_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS aug_0 CASCADE;

CREATE WRAPPER ODBC aug_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Aug$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    aug = 'Aug' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC aug_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS dec_0 CASCADE;

CREATE WRAPPER ODBC dec_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Dec$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    dec = 'Dec' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  ESCAPE SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC dec_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS feb_0 CASCADE;

CREATE WRAPPER ODBC feb_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Feb$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    feb = 'Feb' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC feb_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS jul_0 CASCADE;

CREATE WRAPPER ODBC jul_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Jul$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    jul = 'Jul' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC jul_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS jun_0 CASCADE;

CREATE WRAPPER ODBC jun_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Jun$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    jun = 'Jun' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC jun_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS mar_0 CASCADE;

CREATE WRAPPER ODBC mar_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Mar$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    mar = 'Mar' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC mar_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS may_0 CASCADE;

CREATE WRAPPER ODBC may_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[May$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    may = 'May' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC may_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS nov_0 CASCADE;

CREATE WRAPPER ODBC nov_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Nov$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    nov = 'Nov' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC nov_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS oct_0 CASCADE;

CREATE WRAPPER ODBC oct_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Oct$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    oct = 'Oct' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC oct_0 LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS sep_0 CASCADE;

CREATE WRAPPER ODBC sep_0
    FOLDER = '/base_views'
    DATASOURCENAME=ds_odbc_excel
    SCHEMANAME='Invoices_2015.xlsx'  ESCAPE
    RELATIONNAME='[Sep$]' 
    OUTPUTSCHEMA (
    invoicesof_0 = 'Invoices of:' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  ESCAPE SORTABLE,
    sep = 'Sep' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f3 = 'F3' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f4 = 'F4' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f5 = 'F5' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f6 = 'F6' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f7 = 'F7' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f8 = 'F8' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f9 = 'F9' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f10 = 'F10' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f11 = 'F11' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f12 = 'F12' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE,
    f13 = 'F13' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='255')  SORTABLE,
    f14 = 'F14' :'java.lang.Double' (OPT) (sourcetyperadix='10', sourcetypename='NUMBER', sourcetypeid='8', sourcetypesize='15')  SORTABLE
    );

CHOWN admin WRAPPER ODBC sep_0 LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of labs_db_basics
# #######################################
# No stored procedures in database labs_db_basics
# #######################################
# TYPES of labs_db_basics
# #######################################
DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_register AS REGISTER OF (custompermissions:text);

DROP TYPE IF EXISTS _procedure_catalog_permissions_restriction_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_restriction_register AS REGISTER OF (sensitivefields:text, condition:text, action:text);

DROP TYPE IF EXISTS bv_ad_user_cn_cn CASCADE;

CREATE TYPE bv_ad_user_cn_cn AS REGISTER OF (cn:text);

DROP TYPE IF EXISTS bv_ad_user_distinguishedname_distinguishedname CASCADE;

CREATE TYPE bv_ad_user_distinguishedname_distinguishedname AS REGISTER OF (distinguishedname:text);

DROP TYPE IF EXISTS bv_ad_user_givenname_givenname CASCADE;

CREATE TYPE bv_ad_user_givenname_givenname AS REGISTER OF (givenname:text);

DROP TYPE IF EXISTS bv_ad_user_mail_mail CASCADE;

CREATE TYPE bv_ad_user_mail_mail AS REGISTER OF (mail:text);

DROP TYPE IF EXISTS bv_ad_user_sn_sn CASCADE;

CREATE TYPE bv_ad_user_sn_sn AS REGISTER OF (sn:text);

DROP TYPE IF EXISTS bv_ad_user_uid_uid CASCADE;

CREATE TYPE bv_ad_user_uid_uid AS REGISTER OF (uid:text);

DROP TYPE IF EXISTS bv_sales_all_array_salesdata_salesdata_sales_sales CASCADE;

CREATE TYPE bv_sales_all_array_salesdata_salesdata_sales_sales AS REGISTER OF (saleid:text, productid:text, employeeid:text, customerid:text, saledate:text, bundleamount:text, productsaleprice:text, totalprice:text);

DROP TYPE IF EXISTS bv_sales_search_array_salesdata_salesdata_sales_sales CASCADE;

CREATE TYPE bv_sales_search_array_salesdata_salesdata_sales_sales AS REGISTER OF (saleid:text, productid:text, employeeid:text, customerid:text, saledate:text, bundleamount:text, productsaleprice:text, totalprice:text);

DROP TYPE IF EXISTS computer_cn_cn CASCADE;

CREATE TYPE computer_cn_cn AS REGISTER OF (cn:text);

DROP TYPE IF EXISTS computer_description_description CASCADE;

CREATE TYPE computer_description_description AS REGISTER OF (description:text);

DROP TYPE IF EXISTS computer_protocolinformation_protocolinformation CASCADE;

CREATE TYPE computer_protocolinformation_protocolinformation AS REGISTER OF (protocolinformation:text);

DROP TYPE IF EXISTS computer_serialnumber_serialnumber CASCADE;

CREATE TYPE computer_serialnumber_serialnumber AS REGISTER OF (serialnumber:text);

DROP TYPE IF EXISTS computer_supportedalgorithms_supportedalgorithms CASCADE;

CREATE TYPE computer_supportedalgorithms_supportedalgorithms AS REGISTER OF (supportedalgorithms:text);

DROP TYPE IF EXISTS ds_sales_salesdata_salesdata_sales_sales CASCADE;

CREATE TYPE ds_sales_salesdata_salesdata_sales_sales AS REGISTER OF (saleid:text, productid:text, employeeid:text, customerid:text, saledate:text, bundleamount:text, productsaleprice:text, totalprice:text);

DROP TYPE IF EXISTS ds_sales_search_salesdata_salesdata_sales_sales CASCADE;

CREATE TYPE ds_sales_search_salesdata_salesdata_sales_sales AS REGISTER OF (saleid:text, productid:text, employeeid:text, customerid:text, saledate:text, bundleamount:text, productsaleprice:text, totalprice:text);

DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_array AS ARRAY OF _procedure_catalog_permissions_custompermissions_register;

DROP TYPE IF EXISTS _procedure_catalog_permissions_rowpermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_rowpermissions_array AS ARRAY OF _procedure_catalog_permissions_restriction_register;

DROP TYPE IF EXISTS bv_ad_user_cn CASCADE;

CREATE TYPE bv_ad_user_cn AS ARRAY OF bv_ad_user_cn_cn;

DROP TYPE IF EXISTS bv_ad_user_distinguishedname CASCADE;

CREATE TYPE bv_ad_user_distinguishedname AS ARRAY OF bv_ad_user_distinguishedname_distinguishedname;

DROP TYPE IF EXISTS bv_ad_user_givenname CASCADE;

CREATE TYPE bv_ad_user_givenname AS ARRAY OF bv_ad_user_givenname_givenname;

DROP TYPE IF EXISTS bv_ad_user_mail CASCADE;

CREATE TYPE bv_ad_user_mail AS ARRAY OF bv_ad_user_mail_mail;

DROP TYPE IF EXISTS bv_ad_user_sn CASCADE;

CREATE TYPE bv_ad_user_sn AS ARRAY OF bv_ad_user_sn_sn;

DROP TYPE IF EXISTS bv_ad_user_uid CASCADE;

CREATE TYPE bv_ad_user_uid AS ARRAY OF bv_ad_user_uid_uid;

DROP TYPE IF EXISTS bv_sales_all_array_salesdata_salesdata_sales CASCADE;

CREATE TYPE bv_sales_all_array_salesdata_salesdata_sales AS ARRAY OF bv_sales_all_array_salesdata_salesdata_sales_sales;

DROP TYPE IF EXISTS bv_sales_search_array_salesdata_salesdata_sales CASCADE;

CREATE TYPE bv_sales_search_array_salesdata_salesdata_sales AS ARRAY OF bv_sales_search_array_salesdata_salesdata_sales_sales;

DROP TYPE IF EXISTS computer_cn CASCADE;

CREATE TYPE computer_cn AS ARRAY OF computer_cn_cn;

DROP TYPE IF EXISTS computer_description CASCADE;

CREATE TYPE computer_description AS ARRAY OF computer_description_description;

DROP TYPE IF EXISTS computer_protocolinformation CASCADE;

CREATE TYPE computer_protocolinformation AS ARRAY OF computer_protocolinformation_protocolinformation;

DROP TYPE IF EXISTS computer_serialnumber CASCADE;

CREATE TYPE computer_serialnumber AS ARRAY OF computer_serialnumber_serialnumber;

DROP TYPE IF EXISTS computer_supportedalgorithms CASCADE;

CREATE TYPE computer_supportedalgorithms AS ARRAY OF computer_supportedalgorithms_supportedalgorithms;

DROP TYPE IF EXISTS ds_sales_salesdata_salesdata_sales CASCADE;

CREATE TYPE ds_sales_salesdata_salesdata_sales AS ARRAY OF ds_sales_salesdata_salesdata_sales_sales;

DROP TYPE IF EXISTS ds_sales_search_salesdata_salesdata_sales CASCADE;

CREATE TYPE ds_sales_search_salesdata_salesdata_sales AS ARRAY OF ds_sales_search_salesdata_salesdata_sales_sales;

DROP TYPE IF EXISTS bv_sales_all_array_salesdata_salesdata CASCADE;

CREATE TYPE bv_sales_all_array_salesdata_salesdata AS REGISTER OF (productid:text, sales:bv_sales_all_array_salesdata_salesdata_sales);

DROP TYPE IF EXISTS bv_sales_search_array_salesdata_salesdata CASCADE;

CREATE TYPE bv_sales_search_array_salesdata_salesdata AS REGISTER OF (productid:text, sales:bv_sales_search_array_salesdata_salesdata_sales);

DROP TYPE IF EXISTS ds_sales_salesdata_salesdata CASCADE;

CREATE TYPE ds_sales_salesdata_salesdata AS REGISTER OF (productid:text, sales:ds_sales_salesdata_salesdata_sales);

DROP TYPE IF EXISTS ds_sales_search_salesdata_salesdata CASCADE;

CREATE TYPE ds_sales_search_salesdata_salesdata AS REGISTER OF (productid:text, sales:ds_sales_search_salesdata_salesdata_sales);

DROP TYPE IF EXISTS bv_sales_all_array_salesdata CASCADE;

CREATE TYPE bv_sales_all_array_salesdata AS ARRAY OF bv_sales_all_array_salesdata_salesdata;

DROP TYPE IF EXISTS bv_sales_search_array_salesdata CASCADE;

CREATE TYPE bv_sales_search_array_salesdata AS ARRAY OF bv_sales_search_array_salesdata_salesdata;

DROP TYPE IF EXISTS ds_sales_salesdata CASCADE;

CREATE TYPE ds_sales_salesdata AS ARRAY OF ds_sales_salesdata_salesdata;

DROP TYPE IF EXISTS ds_sales_search_salesdata CASCADE;

CREATE TYPE ds_sales_search_salesdata AS ARRAY OF ds_sales_search_salesdata_salesdata;

# #######################################
# MAPS of labs_db_basics
# #######################################
# No maps in database labs_db_basics
# #######################################
# BASE VIEWS of labs_db_basics
# #######################################
DROP VIEW IF EXISTS bv_ad_computer CASCADE;

CREATE TABLE bv_ad_computer I18N au_cst (
        cn:computer_cn, 
        description:computer_description, 
        protocolinformation:computer_protocolinformation, 
        serialnumber:computer_serialnumber, 
        supportedalgorithms:computer_supportedalgorithms
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_ad_computer(
        I18N au_cst
        CONSTRAINTS (
             ADD cn NOS ZERO ()
             ADD cn NOS ZERO ()
             ADD cn.cn (any) OPT ANY
             ADD description NOS ZERO ()
             ADD description NOS ZERO ()
             ADD description.description (any) OPT ANY
             ADD protocolinformation NOS ZERO ()
             ADD protocolinformation NOS ZERO ()
             ADD protocolinformation.protocolinformation (any) OPT ANY
             ADD serialnumber NOS ZERO ()
             ADD serialnumber NOS ZERO ()
             ADD serialnumber.serialnumber (any) OPT ANY
             ADD supportedalgorithms NOS ZERO ()
             ADD supportedalgorithms NOS ZERO ()
             ADD supportedalgorithms.supportedalgorithms (any) OPT ANY
        )
        OUTPUTLIST (cn, description, protocolinformation, serialnumber, supportedalgorithms
        )
        WRAPPER (ldap bv_ad_computer)
    );

CHOWN admin VIEW bv_ad_computer LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_ad_user CASCADE;

CREATE TABLE bv_ad_user I18N au_cst (
        cn:bv_ad_user_cn, 
        distinguishedname:bv_ad_user_distinguishedname, 
        givenname:bv_ad_user_givenname, 
        mail:bv_ad_user_mail, 
        sn:bv_ad_user_sn, 
        uid:bv_ad_user_uid
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_ad_user(
        I18N au_cst
        CONSTRAINTS (
             ADD cn NOS ZERO ()
             ADD cn NOS ZERO ()
             ADD cn.cn NOS ZERO ()
             ADD distinguishedname NOS ZERO ()
             ADD distinguishedname NOS ZERO ()
             ADD distinguishedname.distinguishedname NOS ZERO ()
             ADD givenname NOS ZERO ()
             ADD givenname NOS ZERO ()
             ADD givenname.givenname NOS ZERO ()
             ADD mail NOS ZERO ()
             ADD mail NOS ZERO ()
             ADD mail.mail NOS ZERO ()
             ADD sn NOS ZERO ()
             ADD sn NOS ZERO ()
             ADD sn.sn NOS ZERO ()
             ADD uid NOS ZERO ()
             ADD uid NOS ZERO ()
             ADD uid.uid NOS ZERO ()
        )
        OUTPUTLIST (cn, distinguishedname, givenname, mail, sn, uid
        )
        WRAPPER (ldap bv_ad_user)
    );

CHOWN admin VIEW bv_ad_user LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_apr_0 CASCADE;

CREATE TABLE bv_apr_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        apr:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD apr_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD apr (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (apr, f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0
        )
        WRAPPER (odbc apr_0)
    );

CHOWN admin VIEW bv_apr_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_aug_0 CASCADE;

CREATE TABLE bv_aug_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        aug:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD aug_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD aug (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (aug, f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0
        )
        WRAPPER (odbc aug_0)
    );

CHOWN admin VIEW bv_aug_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_dec_0 CASCADE;

CREATE TABLE bv_dec_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        dec:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD dec_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD dec (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (dec, f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0
        )
        WRAPPER (odbc dec_0)
    );

CHOWN admin VIEW bv_dec_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_feb_0 CASCADE;

CREATE TABLE bv_feb_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        feb:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD feb_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD feb (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, feb, invoicesof_0
        )
        WRAPPER (odbc feb_0)
    );

CHOWN admin VIEW bv_feb_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_countries CASCADE;

CREATE TABLE bv_hr_countries I18N au_cst (
        country_id:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '1'), 
        country_name:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        region_id:double (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '6')
    )
    FOLDER = '/base_views'
    PRIMARY KEY ( 'country_id' )
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE 10
    ADD SEARCHMETHOD bv_hr_countries(
        I18N au_cst
        CONSTRAINTS (
             ADD country_id (any) OPT ANY
             ADD country_name (any) OPT ANY
             ADD region_id (any) OPT ANY
        )
        OUTPUTLIST (country_id, country_name, region_id
        )
        WRAPPER (jdbc bv_hr_countries)
    );

CHOWN admin VIEW bv_hr_countries LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_departments CASCADE;

CREATE TABLE bv_hr_departments I18N au_cst (
        department_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        department_name:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        location_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        manager_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6')
    )
    FOLDER = '/base_views'
    CONSTRAINT 'DEPT_ID_PK' PRIMARY KEY ( 'department_id' )
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD departments(
        I18N au_cst
        CONSTRAINTS (
             ADD department_id (any) OPT ANY
             ADD department_name (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD manager_id (any) OPT ANY
        )
        OUTPUTLIST (department_id, department_name, location_id, manager_id
        )
        WRAPPER (jdbc departments)
    );

CHOWN admin VIEW bv_hr_departments LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_employees CASCADE;

CREATE TABLE bv_hr_employees I18N au_cst (
        employee_id:decimal (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        first_name:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        last_name:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        email:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        phone_number:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        hire_date:text, 
        job_id:text (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        salary:double (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        commission_pct:double (sourcetypedecimals = '10', sourcetyperadix = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        manager_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        department_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6')
    )
    FOLDER = '/base_views'
    PRIMARY KEY ( 'employee_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_hr_employees(
        I18N au_cst
        CONSTRAINTS (
             ADD employee_id (any) OPT ANY
             ADD first_name (any) OPT ANY
             ADD last_name (any) OPT ANY
             ADD email (any) OPT ANY
             ADD phone_number (any) OPT ANY
             ADD hire_date (any) OPT ANY
             ADD job_id (any) OPT ANY
             ADD salary (any) OPT ANY
             ADD commission_pct (any) OPT ANY
             ADD manager_id (any) OPT ANY
             ADD department_id (any) OPT ANY
        )
        OUTPUTLIST (commission_pct, department_id, email, employee_id, first_name, hire_date, job_id, last_name, manager_id, phone_number, salary
        )
        WRAPPER (jdbc bv_hr_employees)
    );

CHOWN admin VIEW bv_hr_employees LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_jobs CASCADE;

CREATE TABLE bv_hr_jobs I18N au_cst (
        job_id:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        job_title:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        min_salary:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        max_salary:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6')
    )
    FOLDER = '/base_views'
    CONSTRAINT 'JOB_ID_PK' PRIMARY KEY ( 'job_id' )
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD jobs(
        I18N au_cst
        CONSTRAINTS (
             ADD job_id (any) OPT ANY
             ADD job_title (any) OPT ANY
             ADD min_salary (any) OPT ANY
             ADD max_salary (any) OPT ANY
        )
        OUTPUTLIST (job_id, job_title, max_salary, min_salary
        )
        WRAPPER (jdbc jobs)
    );

CHOWN admin VIEW bv_hr_jobs LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_locations CASCADE;

CREATE TABLE bv_hr_locations I18N au_cst (
        location_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        street_address:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        postal_code:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        city:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        state_province:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12'), 
        country_id:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12')
    )
    FOLDER = '/base_views'
    CONSTRAINT 'LOC_ID_PK' PRIMARY KEY ( 'location_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD locations(
        I18N au_cst
        CONSTRAINTS (
             ADD location_id (any) OPT ANY
             ADD street_address (any) OPT ANY
             ADD postal_code (any) OPT ANY
             ADD city (any) OPT ANY
             ADD state_province (any) OPT ANY
             ADD country_id (any) OPT ANY
        )
        OUTPUTLIST (city, country_id, location_id, postal_code, state_province, street_address
        )
        WRAPPER (jdbc locations)
    );

CHOWN admin VIEW bv_hr_locations LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_hr_regions CASCADE;

CREATE TABLE bv_hr_regions I18N au_cst (
        region_id:double (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '6'), 
        region_name:text (sourcetyperadix = '10', sourcetypedecimals = '10', sourcetypesize = '2000000000', sourcetypeid = '12')
    )
    FOLDER = '/base_views'
    CONSTRAINT 'REG_ID_PK' PRIMARY KEY ( 'region_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD regions(
        I18N au_cst
        CONSTRAINTS (
             ADD region_id (any) OPT ANY
             ADD region_name (any) OPT ANY
        )
        OUTPUTLIST (region_id, region_name
        )
        WRAPPER (jdbc regions)
    );

CHOWN admin VIEW bv_hr_regions LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_invoices CASCADE;

CREATE TABLE bv_invoices I18N au_cst (
        invoice_id:int (sourcetypeid = '4'), 
        date_invoice:text (sourcetypeid = '12'), 
        order_id:int (sourcetypeid = '4'), 
        date_placed:text (sourcetypeid = '12'), 
        date_delivered:text (sourcetypeid = '12'), 
        date_closed:text (sourcetypeid = '12'), 
        first_name:text (sourcetypeid = '12'), 
        last_name:text (sourcetypeid = '12'), 
        email:text (sourcetypeid = '12'), 
        address:text (sourcetypeid = '12'), 
        country:text (sourcetypeid = '12'), 
        postal_code:text (sourcetypeid = '12'), 
        phone:text (sourcetypeid = '12'), 
        amount:int (sourcetypeid = '4')
    )
    FOLDER = '/base_views'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_invoices(
        I18N au_cst
        CONSTRAINTS (
             ADD invoice_id (any) OPT ANY
             ADD date_invoice (any) OPT ANY
             ADD order_id (any) OPT ANY
             ADD date_placed (any) OPT ANY
             ADD date_delivered (any) OPT ANY
             ADD date_closed (any) OPT ANY
             ADD first_name (any) OPT ANY
             ADD last_name (any) OPT ANY
             ADD email (any) OPT ANY
             ADD address (any) OPT ANY
             ADD country (any) OPT ANY
             ADD postal_code (any) OPT ANY
             ADD phone (any) OPT ANY
             ADD amount (any) OPT ANY
        )
        OUTPUTLIST (address, amount, country, date_closed, date_delivered, date_invoice, date_placed, email, first_name, invoice_id, last_name, order_id, phone, postal_code
        )
        WRAPPER (custom ds_invoices)
    );

CHOWN admin VIEW bv_invoices LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_jul_0 CASCADE;

CREATE TABLE bv_jul_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        jul:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD jul_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD jul (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, jul
        )
        WRAPPER (odbc jul_0)
    );

CHOWN admin VIEW bv_jul_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_jun_0 CASCADE;

CREATE TABLE bv_jun_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        jun:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD jun_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD jun (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, jun
        )
        WRAPPER (odbc jun_0)
    );

CHOWN admin VIEW bv_jun_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_mar_0 CASCADE;

CREATE TABLE bv_mar_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        mar:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD mar_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD mar (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, mar
        )
        WRAPPER (odbc mar_0)
    );

CHOWN admin VIEW bv_mar_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_may_0 CASCADE;

CREATE TABLE bv_may_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        may:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD may_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD may (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, may
        )
        WRAPPER (odbc may_0)
    );

CHOWN admin VIEW bv_may_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_nov_0 CASCADE;

CREATE TABLE bv_nov_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        nov:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD nov_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD nov (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, nov
        )
        WRAPPER (odbc nov_0)
    );

CHOWN admin VIEW bv_nov_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_oct_0 CASCADE;

CREATE TABLE bv_oct_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        oct:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD oct_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD oct (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, oct
        )
        WRAPPER (odbc oct_0)
    );

CHOWN admin VIEW bv_oct_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sales_all CASCADE;

CREATE TABLE bv_sales_all I18N au_cst (
        productid_0:text, 
        saleid:text, 
        productid:text, 
        employeeid:text, 
        customerid:text, 
        saledate:text, 
        bundleamount:text, 
        productsaleprice:text, 
        totalprice:text
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_sales_all(
        I18N au_cst
        CONSTRAINTS (
             ADD productid_0 NOS ZERO ()
             ADD saleid NOS ZERO ()
             ADD productid NOS ZERO ()
             ADD employeeid NOS ZERO ()
             ADD customerid NOS ZERO ()
             ADD saledate NOS ZERO ()
             ADD bundleamount NOS ZERO ()
             ADD productsaleprice NOS ZERO ()
             ADD totalprice NOS ZERO ()
        )
        OUTPUTLIST (bundleamount, customerid, employeeid, productid, productid_0, productsaleprice, saledate, saleid, totalprice
        )
        WRAPPER (json bv_sales_all)
    );

CHOWN admin VIEW bv_sales_all LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sales_all_array CASCADE;

CREATE TABLE bv_sales_all_array I18N au_cst (
        salesdata:bv_sales_all_array_salesdata
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_sales_all_array(
        I18N au_cst
        CONSTRAINTS (
             ADD salesdata NOS ZERO ()
             ADD salesdata NOS ZERO ()
             ADD salesdata.productid NOS ZERO ()
             ADD salesdata.sales NOS ZERO ()
             ADD salesdata.sales NOS ZERO ()
             ADD salesdata.sales.saleid NOS ZERO ()
             ADD salesdata.sales.productid NOS ZERO ()
             ADD salesdata.sales.employeeid NOS ZERO ()
             ADD salesdata.sales.customerid NOS ZERO ()
             ADD salesdata.sales.saledate NOS ZERO ()
             ADD salesdata.sales.bundleamount NOS ZERO ()
             ADD salesdata.sales.productsaleprice NOS ZERO ()
             ADD salesdata.sales.totalprice NOS ZERO ()
        )
        OUTPUTLIST (salesdata
        )
        WRAPPER (json bv_sales_all_array)
    );

CHOWN admin VIEW bv_sales_all_array LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sales_search_array CASCADE;

CREATE TABLE bv_sales_search_array I18N au_cst (
        cid:text (defaultvalue = '00158000002dVSjAAM'), 
        eid:text (defaultvalue = '48'), 
        pid:text (defaultvalue = '2'), 
        salesdata:bv_sales_search_array_salesdata
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_sales_search_array(
        I18N au_cst
        CONSTRAINTS (
             ADD cid (=) OBL ONE
             ADD eid (=) OBL ONE
             ADD pid (=) OBL ONE
             ADD salesdata NOS ZERO ()
             ADD salesdata NOS ZERO ()
             ADD salesdata.productid NOS ZERO ()
             ADD salesdata.sales NOS ZERO ()
             ADD salesdata.sales NOS ZERO ()
             ADD salesdata.sales.saleid NOS ZERO ()
             ADD salesdata.sales.productid NOS ZERO ()
             ADD salesdata.sales.employeeid NOS ZERO ()
             ADD salesdata.sales.customerid NOS ZERO ()
             ADD salesdata.sales.saledate NOS ZERO ()
             ADD salesdata.sales.bundleamount NOS ZERO ()
             ADD salesdata.sales.productsaleprice NOS ZERO ()
             ADD salesdata.sales.totalprice NOS ZERO ()
        )
        OUTPUTLIST (salesdata
        )
        WRAPPER (json bv_sales_search_array)
    );

CHOWN admin VIEW bv_sales_search_array LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sep_0 CASCADE;

CREATE TABLE bv_sep_0 I18N au_cst (
        invoicesof_0:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        sep:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f3:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f4:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f5:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f6:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f7:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f8:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f9:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f10:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f11:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f12:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8'), 
        f13:text (sourcetypesize = '255', sourcetypeid = '12'), 
        f14:double (sourcetyperadix = '10', sourcetypesize = '15', sourcetypeid = '8')
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD sep_0(
        I18N au_cst
        CONSTRAINTS (
             ADD invoicesof_0 (any) OPT ANY
             ADD sep (any) OPT ANY
             ADD f3 (any) OPT ANY
             ADD f4 (any) OPT ANY
             ADD f5 (any) OPT ANY
             ADD f6 (any) OPT ANY
             ADD f7 (any) OPT ANY
             ADD f8 (any) OPT ANY
             ADD f9 (any) OPT ANY
             ADD f10 (any) OPT ANY
             ADD f11 (any) OPT ANY
             ADD f12 (any) OPT ANY
             ADD f13 (any) OPT ANY
             ADD f14 (any) OPT ANY
        )
        OUTPUTLIST (f10, f11, f12, f13, f14, f3, f4, f5, f6, f7, f8, f9, invoicesof_0, sep
        )
        WRAPPER (odbc sep_0)
    );

CHOWN admin VIEW bv_sep_0 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sf_account CASCADE;

CREATE TABLE bv_sf_account I18N au_cst (
        id:text, 
        isdeleted:text, 
        masterrecordid:text, 
        name:text, 
        type:text, 
        parentid:text, 
        billingstreet:text, 
        billingcity:text, 
        billingstate:text, 
        billingpostalcode:text, 
        billingcountry:text, 
        billinglatitude:text, 
        billinglongitude:text, 
        billingaddress:text, 
        shippingstreet:text, 
        shippingcity:text, 
        shippingstate:text, 
        shippingpostalcode:text, 
        shippingcountry:text, 
        shippinglatitude:text, 
        shippinglongitude:text, 
        shippingaddress:text, 
        phone:text, 
        fax:text, 
        accountnumber:text, 
        website:text, 
        photourl:text, 
        sic:text, 
        industry:text, 
        annualrevenue:text, 
        numberofemployees:text, 
        ownership:text, 
        tickersymbol:text, 
        description:text, 
        rating:text, 
        site:text, 
        ownerid:text, 
        createddate:text, 
        createdbyid:text, 
        lastmodifieddate:text, 
        lastmodifiedbyid:text, 
        systemmodstamp:text, 
        lastactivitydate:text, 
        lastvieweddate:text, 
        lastreferenceddate:text, 
        jigsaw:text, 
        jigsawcompanyid:text, 
        cleanstatus:text, 
        accountsource:text, 
        dunsnumber:text, 
        tradestyle:text, 
        naicscode:text, 
        naicsdesc:text, 
        yearstarted:text, 
        sicdesc:text, 
        dandbcompanyid:text, 
        customerpriority__c:text, 
        sla__c:text, 
        active__c:text, 
        numberoflocations__c:text, 
        upsellopportunity__c:text, 
        slaserialnumber__c:text, 
        slaexpirationdate__c:text
    )
    FOLDER = '/base_views'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_sf_account(
        I18N au_cst
        CONSTRAINTS (
             ADD id (=,in) OPT ANY
             ADD isdeleted (=,in) OPT ANY
             ADD masterrecordid (=,in) OPT ANY
             ADD name (=,in) OPT ANY
             ADD type (=,in) OPT ANY
             ADD parentid (=,in) OPT ANY
             ADD billingstreet (=,in) OPT ANY
             ADD billingcity (=,in) OPT ANY
             ADD billingstate (=,in) OPT ANY
             ADD billingpostalcode (=,in) OPT ANY
             ADD billingcountry (=,in) OPT ANY
             ADD billinglatitude (=,in) OPT ANY
             ADD billinglongitude (=,in) OPT ANY
             ADD billingaddress (=,in) OPT ANY
             ADD shippingstreet (=,in) OPT ANY
             ADD shippingcity (=,in) OPT ANY
             ADD shippingstate (=,in) OPT ANY
             ADD shippingpostalcode (=,in) OPT ANY
             ADD shippingcountry (=,in) OPT ANY
             ADD shippinglatitude (=,in) OPT ANY
             ADD shippinglongitude (=,in) OPT ANY
             ADD shippingaddress (=,in) OPT ANY
             ADD phone (=,in) OPT ANY
             ADD fax (=,in) OPT ANY
             ADD accountnumber (=,in) OPT ANY
             ADD website (=,in) OPT ANY
             ADD photourl (=,in) OPT ANY
             ADD sic (=,in) OPT ANY
             ADD industry (=,in) OPT ANY
             ADD annualrevenue (=,in) OPT ANY
             ADD numberofemployees (=,in) OPT ANY
             ADD ownership (=,in) OPT ANY
             ADD tickersymbol (=,in) OPT ANY
             ADD description (=,in) OPT ANY
             ADD rating (=,in) OPT ANY
             ADD site (=,in) OPT ANY
             ADD ownerid (=,in) OPT ANY
             ADD createddate (=,in) OPT ANY
             ADD createdbyid (=,in) OPT ANY
             ADD lastmodifieddate (=,in) OPT ANY
             ADD lastmodifiedbyid (=,in) OPT ANY
             ADD systemmodstamp (=,in) OPT ANY
             ADD lastactivitydate (=,in) OPT ANY
             ADD lastvieweddate (=,in) OPT ANY
             ADD lastreferenceddate (=,in) OPT ANY
             ADD jigsaw (=,in) OPT ANY
             ADD jigsawcompanyid (=,in) OPT ANY
             ADD cleanstatus (=,in) OPT ANY
             ADD accountsource (=,in) OPT ANY
             ADD dunsnumber (=,in) OPT ANY
             ADD tradestyle (=,in) OPT ANY
             ADD naicscode (=,in) OPT ANY
             ADD naicsdesc (=,in) OPT ANY
             ADD yearstarted (=,in) OPT ANY
             ADD sicdesc (=,in) OPT ANY
             ADD dandbcompanyid (=,in) OPT ANY
             ADD customerpriority__c (=,in) OPT ANY
             ADD sla__c (=,in) OPT ANY
             ADD active__c (=,in) OPT ANY
             ADD numberoflocations__c (=,in) OPT ANY
             ADD upsellopportunity__c (=,in) OPT ANY
             ADD slaserialnumber__c (=,in) OPT ANY
             ADD slaexpirationdate__c (=,in) OPT ANY
        )
        OUTPUTLIST (accountnumber, accountsource, active__c, annualrevenue, billingaddress, billingcity, billingcountry, billinglatitude, billinglongitude, billingpostalcode, billingstate, billingstreet, cleanstatus, createdbyid, createddate, customerpriority__c, dandbcompanyid, description, dunsnumber, fax, id, industry, isdeleted, jigsaw, jigsawcompanyid, lastactivitydate, lastmodifiedbyid, lastmodifieddate, lastreferenceddate, lastvieweddate, masterrecordid, naicscode, naicsdesc, name, numberofemployees, numberoflocations__c, ownerid, ownership, parentid, phone, photourl, rating, shippingaddress, shippingcity, shippingcountry, shippinglatitude, shippinglongitude, shippingpostalcode, shippingstate, shippingstreet, sic, sicdesc, site, sla__c, slaexpirationdate__c, slaserialnumber__c, systemmodstamp, tickersymbol, tradestyle, type, upsellopportunity__c, website, yearstarted
        )
        WRAPPER (df bv_sf_account)
    );

CHOWN admin VIEW bv_sf_account LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_sf_contact CASCADE;

CREATE TABLE bv_sf_contact I18N au_cst (
        id:text, 
        isdeleted:text, 
        masterrecordid:text, 
        accountid:text, 
        lastname:text, 
        firstname:text, 
        salutation:text, 
        name:text, 
        otherstreet:text, 
        othercity:text, 
        otherstate:text, 
        otherpostalcode:text, 
        othercountry:text, 
        otherlatitude:text, 
        otherlongitude:text, 
        otheraddress:text, 
        mailingstreet:text, 
        mailingcity:text, 
        mailingstate:text, 
        mailingpostalcode:text, 
        mailingcountry:text, 
        mailinglatitude:text, 
        mailinglongitude:text, 
        mailingaddress:text, 
        phone:text, 
        fax:text, 
        mobilephone:text, 
        homephone:text, 
        otherphone:text, 
        assistantphone:text, 
        reportstoid:text, 
        email:text, 
        title:text, 
        department:text, 
        assistantname:text, 
        leadsource:text, 
        birthdate:text, 
        description:text, 
        ownerid:text, 
        createddate:text, 
        createdbyid:text, 
        lastmodifieddate:text, 
        lastmodifiedbyid:text, 
        systemmodstamp:text, 
        lastactivitydate:text, 
        lastcurequestdate:text, 
        lastcuupdatedate:text, 
        lastvieweddate:text, 
        lastreferenceddate:text, 
        emailbouncedreason:text, 
        emailbounceddate:text, 
        isemailbounced:text, 
        photourl:text, 
        jigsaw:text, 
        jigsawcontactid:text, 
        cleanstatus:text, 
        level__c:text, 
        languages__c:text
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_sf_contact(
        I18N au_cst
        CONSTRAINTS (
             ADD id (=,in) OPT ANY
             ADD isdeleted (=,in) OPT ANY
             ADD masterrecordid (=,in) OPT ANY
             ADD accountid (=,in) OPT ANY
             ADD lastname (=,in) OPT ANY
             ADD firstname (=,in) OPT ANY
             ADD salutation (=,in) OPT ANY
             ADD name (=,in) OPT ANY
             ADD otherstreet (=,in) OPT ANY
             ADD othercity (=,in) OPT ANY
             ADD otherstate (=,in) OPT ANY
             ADD otherpostalcode (=,in) OPT ANY
             ADD othercountry (=,in) OPT ANY
             ADD otherlatitude (=,in) OPT ANY
             ADD otherlongitude (=,in) OPT ANY
             ADD otheraddress (=,in) OPT ANY
             ADD mailingstreet (=,in) OPT ANY
             ADD mailingcity (=,in) OPT ANY
             ADD mailingstate (=,in) OPT ANY
             ADD mailingpostalcode (=,in) OPT ANY
             ADD mailingcountry (=,in) OPT ANY
             ADD mailinglatitude (=,in) OPT ANY
             ADD mailinglongitude (=,in) OPT ANY
             ADD mailingaddress (=,in) OPT ANY
             ADD phone (=,in) OPT ANY
             ADD fax (=,in) OPT ANY
             ADD mobilephone (=,in) OPT ANY
             ADD homephone (=,in) OPT ANY
             ADD otherphone (=,in) OPT ANY
             ADD assistantphone (=,in) OPT ANY
             ADD reportstoid (=,in) OPT ANY
             ADD email (=,in) OPT ANY
             ADD title (=,in) OPT ANY
             ADD department (=,in) OPT ANY
             ADD assistantname (=,in) OPT ANY
             ADD leadsource (=,in) OPT ANY
             ADD birthdate (=,in) OPT ANY
             ADD description (=,in) OPT ANY
             ADD ownerid (=,in) OPT ANY
             ADD createddate (=,in) OPT ANY
             ADD createdbyid (=,in) OPT ANY
             ADD lastmodifieddate (=,in) OPT ANY
             ADD lastmodifiedbyid (=,in) OPT ANY
             ADD systemmodstamp (=,in) OPT ANY
             ADD lastactivitydate (=,in) OPT ANY
             ADD lastcurequestdate (=,in) OPT ANY
             ADD lastcuupdatedate (=,in) OPT ANY
             ADD lastvieweddate (=,in) OPT ANY
             ADD lastreferenceddate (=,in) OPT ANY
             ADD emailbouncedreason (=,in) OPT ANY
             ADD emailbounceddate (=,in) OPT ANY
             ADD isemailbounced (=,in) OPT ANY
             ADD photourl (=,in) OPT ANY
             ADD jigsaw (=,in) OPT ANY
             ADD jigsawcontactid (=,in) OPT ANY
             ADD cleanstatus (=,in) OPT ANY
             ADD level__c (=,in) OPT ANY
             ADD languages__c (=,in) OPT ANY
        )
        OUTPUTLIST (accountid, assistantname, assistantphone, birthdate, cleanstatus, createdbyid, createddate, department, description, email, emailbounceddate, emailbouncedreason, fax, firstname, homephone, id, isdeleted, isemailbounced, jigsaw, jigsawcontactid, languages__c, lastactivitydate, lastcurequestdate, lastcuupdatedate, lastmodifiedbyid, lastmodifieddate, lastname, lastreferenceddate, lastvieweddate, leadsource, level__c, mailingaddress, mailingcity, mailingcountry, mailinglatitude, mailinglongitude, mailingpostalcode, mailingstate, mailingstreet, masterrecordid, mobilephone, name, otheraddress, othercity, othercountry, otherlatitude, otherlongitude, otherphone, otherpostalcode, otherstate, otherstreet, ownerid, phone, photourl, reportstoid, salutation, systemmodstamp, title
        )
        WRAPPER (df bv_sf_contact)
    );

CHOWN admin VIEW bv_sf_contact LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of labs_db_basics
# #######################################
DROP VIEW IF EXISTS hh CASCADE;

CREATE VIEW hh FOLDER = '/base_views' AS SELECT bv_hr_countries.country_id AS country_id, bv_hr_countries.country_name AS country_name, bv_hr_countries.region_id AS region_id FROM bv_hr_countries CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW hh LASTMODIFICATIONUSER admin;

ALTER VIEW hh
 LAYOUT (bv_hr_countries = [20, 20, 208, 85]);

# #######################################
# ASSOCIATIONS of labs_db_basics
# #######################################
# No associations in database labs_db_basics
# #######################################
# WEBSERVICES of labs_db_basics
# #######################################
# No web services in database labs_db_basics
# #######################################
# WIDGETS of labs_db_basics
# #######################################
# No widgets in database labs_db_basics
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of labs_db_basics
# #######################################
# No deployed web services in database labs_db_basics
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of labs_db_basics
# #######################################
# No deployed widgets in database labs_db_basics
# #######################################
# Closing connection with database labs_db_basics
# #######################################
CLOSE;


# 5 ====================================================================

# #######################################
# DATABASE of big_data
# #######################################
DROP DATABASE IF EXISTS big_data;

CREATE DATABASE big_data '';

CONNECT DATABASE big_data;

# #######################################
# FOLDERS of big_data
# #######################################
CREATE OR REPLACE FOLDER '/data_sources' ;

CHOWN admin FOLDER '/data_sources';

CREATE OR REPLACE FOLDER '/views' ;

CHOWN admin FOLDER '/views';

# #######################################
# LISTENERS JMS of big_data
# #######################################
# No listeners jms in database big_data
# #######################################
# DATASOURCES of big_data
# #######################################
DROP DATASOURCE CUSTOM IF EXISTS ds_hdfs CASCADE;

CREATE DATASOURCE CUSTOM ds_hdfs
    FOLDER = '/data_sources'
    CLASSNAME='com.denodo.connect.hadoop.hdfs.wrapper.HDFSAvroFileWrapper'
    JARS 'denodo-hdfs-customwrapper-7.0';

CHOWN admin DATASOURCE CUSTOM ds_hdfs LASTMODIFICATIONUSER admin;

DROP DATASOURCE CUSTOM IF EXISTS hbase CASCADE;

CREATE DATASOURCE CUSTOM hbase
    FOLDER = '/data_sources'
    CLASSNAME='com.denodo.connect.hadoop.hbase.HBaseConnector'
    JARS 'denodo-hbase-customwrapper-7.0';

CHOWN admin DATASOURCE CUSTOM hbase LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS hive CASCADE;

CREATE DATASOURCE JDBC hive
    FOLDER = '/data_sources'
    DRIVERCLASSNAME = 'com.cloudera.hive.jdbc4.HS2Driver'
    DATABASEURI = 'jdbc:hive2://quickstart:10000/sarthak'
    USERNAME = 'cloudera'
    USERPASSWORD = 'ae8vLcw/Mo/ObIzxZkTIqGYUMdxTIuRYsEaVxjIZvv7ZS3YDqzMWyHLRlyhf6CQ36eauz8tyQNdYGWUIYEtVNJIm5vY45TbprAeeTv/30NXxW5nuNwmhKbqA7qfUniBc' ENCRYPTED
    CLASSPATH = 'C:\Denodo\DenodoPlatform7.0\lib-external\jdbc-drivers\hive-2.0.0\Cloudera_HiveJDBC4_2.5.4.1006'
    DATABASENAME = 'hive'
    DATABASEVERSION = '1_1_0'
    FETCHSIZE = 1000
    VALIDATIONQUERY = ''
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    PROCESSING_UNITS = 8
    CPUS_PER_PROCESSING_UNIT = 8;

CHOWN admin DATASOURCE JDBC hive LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS impala CASCADE;

CREATE DATASOURCE JDBC impala
    FOLDER = '/data_sources'
    DRIVERCLASSNAME = 'com.cloudera.impala.jdbc4.Driver'
    DATABASEURI = 'jdbc:impala://192.168.56.103:21050/test'
    USERNAME = 'cloudera'
    USERPASSWORD = 'pMiAvwx3zTvA9LiUqgtNnKI9XvlIZQjRDyAMoRXkcnGZJvjw5DRrW6VKACYXs3lm8tokmi1abRm3vXVL2Mnsfdstuf1d6SGWxxQz9MvpjDxkTjnLyPPeh7hs/cbApPnK' ENCRYPTED
    CLASSPATH = 'C:\Denodo\DenodoPlatform7.0\lib-external\jdbc-drivers\impala-2.3\ClouderaImpalaJDBC-2.6.4.1005\ClouderaImpalaJDBC4-2.6.4.1005\ImpalaJDBC4.jar'
    DATABASENAME = 'impala'
    DATABASEVERSION = '2_3'
    FETCHSIZE = 1000
    VALIDATIONQUERY = ''
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        USE_FOR_QUERY_OPTIMIZATION = PARALLEL_PROCESSING
        BATCHINSERTSIZE = 5000000
        BULK_LOAD_CONFIGURATION (
            HADOOP_EXECUTABLE_LOCATION = 'C:\Denodo\hadoop-2.7.1\hadoop-2.7.1\bin\impala.cmd'
            HDFS_URI = 'hdfs://quickstart/user/hive/warehouse'
        )
        TARGET_SCHEMA = 'test'
        USEEXTERNALTABLES ( 
            ONMOVEREAD = false,
            ONMOVEWRITE = true
        )
    )
    PROCESSING_UNITS = 8
    CPUS_PER_PROCESSING_UNIT = 8;

CHOWN admin DATASOURCE JDBC impala LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS spark CASCADE;

CREATE DATASOURCE JDBC spark
    FOLDER = '/data_sources'
    DRIVERCLASSNAME = 'org.apache.hive.jdbc.HiveDriver'
    DATABASEURI = 'jdbc:hive2://192.168.56.103:10000/'
    USERNAME = 'cloudera'
    USERPASSWORD = 'tkrGLZtLowSY+kvZFgEpNZ9/rXNMd4nG5cmikR8J889x/v3FSIcUoCBwVB2tqmrthV/xFCVtmGVmBHBFzzdLmiffF6NuXa/IR1SpvyLUHOiB1fONMa8lq33+BzChtKVo' ENCRYPTED
    CLASSPATH = 'spark-1.6'
    DATABASENAME = 'spark'
    DATABASEVERSION = '20'
    FETCHSIZE = 1000
    VALIDATIONQUERY = ''
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    )
    PROCESSING_UNITS = 8
    CPUS_PER_PROCESSING_UNIT = 8;

CHOWN admin DATASOURCE JDBC spark LASTMODIFICATIONUSER admin;

DROP DATASOURCE XML IF EXISTS hdfs_webui CASCADE;

CREATE DATASOURCE XML hdfs_webui
    FOLDER = '/data_sources'
    ROUTE HTTP 'http.CommonsHttpClientConnection,120000' GET 'http://192.168.56.103:50070/webhdfs/v1/user/cloudera/p1/hdfs1.txt?op=open'
    AUTHENTICATION BASIC ( 
      USER 'cloudera'
      PASSWORD '9P6lTlTUKBTWtFb5y0YxHesBfLy7Rcy7oS4JFsxc0YI8uYahPmQ6w9tLNF3wg0xIwb5drnBMA+pQJ6B5qJhuh3Y6PiUieqFqCb+8g45VwvDyMibObLfW9eQbZcuxVv3x' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE XML hdfs_webui LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE big_data
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of big_data
# #######################################
DROP WRAPPER CUSTOM IF EXISTS bv_parquet CASCADE;

CREATE WRAPPER CUSTOM bv_parquet
    FOLDER = '/views'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://quickstart:8020',
      'Parquet File path' = '/user/cloudera/p1/vdp.parquet',
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        expirationdate = 'expirationDate' : 'java.lang.Long' (sourcetypeid='-5')  NOT SORTABLE NOT UPDATEABLE,
        rowstatus = 'rowStatus' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM bv_parquet LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS denodo_view CASCADE;

CREATE WRAPPER CUSTOM denodo_view
    FOLDER = '/data_sources'
    DATASOURCENAME=hbase
    PARAMETERS (
      'hbaseIP' = '192.168.56.103',
      'hbasePort' = '2181',
      'tableName' = 'denodo',
      'tableMapping' = '\{
''businessentityid'' : \{ ''firstname'' : text ,
''middlename'' :  text, 
''lastname'' : text \}
\}',
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        row_key = 'row_key' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        businessentityid = 'businessentityid' : REGISTER OF (
            firstname = 'firstname' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
            middlename = 'middlename' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
            lastname = 'lastname' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
        ),
        start_row = 'start_row' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        stop_row = 'stop_row' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM denodo_view LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS ds_case CASCADE;

CREATE WRAPPER CUSTOM ds_case
    FOLDER = '/views'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://quickstart:8020',
      'Parquet File path' = '/user/cloudera/p1/wam_pos_sample.snappy.parquet',
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        parent_company_channel = 'PARENT_COMPANY_CHANNEL' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        territory_channel = 'TERRITORY_CHANNEL' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        territory = 'TERRITORY' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        parent_company_name = 'PARENT_COMPANY_NAME' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        sfdc_company_id = 'SFDC_COMPANY_ID' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        company_name = 'COMPANY_NAME' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        company_address_city = 'COMPANY_ADDRESS_CITY' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        company_address_state = 'COMPANY_ADDRESS_STATE' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        company_address_postalcode = 'COMPANY_ADDRESS_POSTALCODE' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        product_type = 'PRODUCT_TYPE' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        product_name = 'PRODUCT_NAME' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        cur_mkt_val_usd = 'CUR_MKT_VAL_USD' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        month_end_date = 'MONTH_END_DATE' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        position_date = 'POSITION_DATE' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        sales_compensation_flag = 'SALES_COMPENSATION_FLAG' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        parent_company_id = 'PARENT_COMPANY_ID' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        cusip = 'CUSIP' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        shareclass_name = 'SHARECLASS_NAME' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        sma = 'SMA' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        fund_num = 'FUND_NUM' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        share_class_cd = 'SHARE_CLASS_CD' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        ss_fund_num = 'SS_FUND_NUM' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM ds_case LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS ds_csv CASCADE;

CREATE WRAPPER CUSTOM ds_csv
    FOLDER = '/data_sources'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://quickstart:8020',
      'Path' = '/user/cloudera/p1/11_7_01_tab.txt',
      'Delete after reading' = false,
      'Ignore spaces' = false,
      'Header' = true,
      'Ignore matching errors' = true,
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        "Book" = 'Book' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " Whole	24							Harris" = ' Whole	24							Harris' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " Charles//McLaughlin" = ' Charles//McLaughlin' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " William//Brown" = ' William//Brown' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " Greg//Becker" = ' Greg//Becker' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        "DennisRRuralcommunitiesintheinlandNorthwestanassessmentofsmallruralcommunitiesintheinterioranduppe_0" = ' Dennis R.		Rural communities in the inland Northwest: an assessment of small rural communities in the interior and upper Columbia River basins.									Portland' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " OR	U.S. Department of Agriculture" = ' OR	U.S. Department of Agriculture' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " Forest Service" = ' Forest Service' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        " Pacific Northwest Research Station	2000		Gen. Tech. Rep. PNW-GTR-477					120 p.			Quigley" = ' Pacific Northwest Research Station	2000		Gen. Tech. Rep. PNW-GTR-477					120 p.			Quigley' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        "ThomasMtechedTheInteriorColumbiaBasinEcosystemManagementProjectscientificassessmentPacificNorthwes_0" = ' Thomas M.	tech. ed.	The Interior Columbia Basin Ecosystem Management Project: scientific assessment					Pacific Northwest Research Station' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM ds_csv LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS ds_hdfs CASCADE;

CREATE WRAPPER CUSTOM ds_hdfs
    FOLDER = '/views'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://192.168.56.103:8020',
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        parentfolder = 'parentfolder' : 'java.lang.String' (OBL) (sourcetypeid='12')  NOT NULL SORTABLE NOT UPDATEABLE,
        relativepath = 'relativepath' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        filename = 'filename' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        extension = 'extension' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        fullpath = 'fullpath' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        pathwithoutscheme = 'pathwithoutscheme' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        filetype = 'filetype' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        encrypted = 'encrypted' : 'java.lang.Boolean' (sourcetypeid='16')  NOT SORTABLE NOT UPDATEABLE,
        datemodified = 'datemodified' : 'java.time.LocalDateTime' (sourcetypeid='93')  NOT SORTABLE NOT UPDATEABLE,
        owner = 'owner' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        group = 'group' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        permissions = 'permissions' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        size = 'size' : 'java.lang.Integer' (sourcetypeid='4')  NOT SORTABLE NOT UPDATEABLE,
        recursive = 'recursive' : 'java.lang.Boolean' (OBL) (sourcetypeid='16')  SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM ds_hdfs LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS ds_hdfs_xml CASCADE;

CREATE WRAPPER CUSTOM ds_hdfs_xml
    FOLDER = '/views'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://quickstart:8020',
      'Path' = '/user/cloudera/p1/xml_h.txt',
      'Delete after reading' = false,
      'Ignore spaces' = false,
      'Header' = true,
      'Ignore matching errors' = true,
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        deptbldg101_0 = '<dept bldg="101">' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM ds_hdfs_xml LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS ds_xml CASCADE;

CREATE WRAPPER CUSTOM ds_xml
    FOLDER = '/views'
    DATASOURCENAME=ds_hdfs
    PARAMETERS (
      'File system URI' = 'hdfs://quickstart:8020',
      'Path' = '/user/cloudera/p1/xml_h.xml',
      'Delete after reading' = false,
      'Ignore spaces' = false,
      'Header' = true,
      'Ignore matching errors' = true,
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        deptbldg101_0 = '<dept bldg="101">' : 'java.lang.String' (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM ds_xml LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS hbase_2 CASCADE;

CREATE WRAPPER CUSTOM hbase_2
    FOLDER = '/data_sources'
    DATASOURCENAME=hbase
    PARAMETERS (
      'hbaseIP' = '192.168.56.103',
      'hbasePort' = '2181',
      'tableName' = 'test',
      'tableMapping' = '\{
''sa'' : \{ ''daily'' : text ,
 ''weekly'' :  text \}
\}',
      'Kerberos enabled' = false
    )
    OUTPUTSCHEMA (
        row_key = 'row_key' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        sa = 'sa' : REGISTER OF (
            daily = 'daily' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
            weekly = 'weekly' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
        ),
        start_row = 'start_row' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE,
        stop_row = 'stop_row' : 'java.lang.String' (OPT) (sourcetypeid='12')  NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM hbase_2 LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_q CASCADE;

CREATE WRAPPER JDBC bv_q
    FOLDER = '/data_sources'
    DATASOURCENAME=impala
    SQLSENTENCE='select  *  from  vdb_cache_names'   
    OUTPUTSCHEMA (
        databasename = 'databasename' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='32767', sourcetypeid='12', sourcetypename='STRING')  SORTABLE NOT UPDATEABLE,
        viewname = 'viewname' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='32767', sourcetypeid='12', sourcetypename='STRING')  SORTABLE NOT UPDATEABLE,
        vdbname = 'vdbname' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='32767', sourcetypeid='12', sourcetypename='STRING')  SORTABLE NOT UPDATEABLE,
        sqlname = 'sqlname' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='32767', sourcetypeid='12', sourcetypename='STRING')  SORTABLE NOT UPDATEABLE,
        lastupdated = 'lastupdated' :'java.lang.Integer' (sourcetypedecimals='0', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE NOT UPDATEABLE,
        valid = 'valid' :'java.lang.Integer' (sourcetypedecimals='0', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER JDBC bv_q LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_vdb_cache_names CASCADE;

CREATE WRAPPER JDBC bv_vdb_cache_names
    FOLDER = '/data_sources'
    DATASOURCENAME=spark
    SCHEMANAME='test' 
    RELATIONNAME='vdb_cache_names' 
    OUTPUTSCHEMA (
        databasename = 'databasename' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        viewname = 'viewname' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        vdbname = 'vdbname' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        sqlname = 'sqlname' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        lastupdated = 'lastupdated' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE,
        valid = 'valid' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE
    );

CHOWN admin WRAPPER JDBC bv_vdb_cache_names LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS bv_vdb_cache_viewname CASCADE;

CREATE WRAPPER JDBC bv_vdb_cache_viewname
    FOLDER = '/data_sources'
    DATASOURCENAME=spark
    SCHEMANAME='test' 
    RELATIONNAME='vdb_cache_viewname' 
    OUTPUTSCHEMA (
        databasename = 'databasename' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        viewname = 'viewname' :'java.lang.String' (OPT) (sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        lastupdated = 'lastupdated' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE,
        valid = 'valid' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE
    );

CHOWN admin WRAPPER JDBC bv_vdb_cache_viewname LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS vdb_cache_names CASCADE;

CREATE WRAPPER JDBC vdb_cache_names
    FOLDER = '/data_sources'
    DATASOURCENAME=hive
    SCHEMANAME='test' 
    RELATIONNAME='vdb_cache_names' 
    OUTPUTSCHEMA (
        databasename = 'databasename' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='0', sourcetypesize='255', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        viewname = 'viewname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='0', sourcetypesize='255', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        vdbname = 'vdbname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='0', sourcetypesize='255', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        sqlname = 'sqlname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='0', sourcetypesize='255', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        lastupdated = 'lastupdated' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE,
        valid = 'valid' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='INT')  SORTABLE
    );

CHOWN admin WRAPPER JDBC vdb_cache_names LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS vdb_cache_names_test CASCADE;

CREATE WRAPPER JDBC vdb_cache_names_test
    FOLDER = '/data_sources'
    DATASOURCENAME=spark
    SCHEMANAME='test' 
    RELATIONNAME='vdb_cache_names' 
    OUTPUTSCHEMA (
        databasename = 'databasename' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='2147483647', description='', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        viewname = 'viewname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='2147483647', description='', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        vdbname = 'vdbname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='2147483647', description='', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        sqlname = 'sqlname' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='2147483647', description='', sourcetypeid='12', sourcetypename='STRING')  SORTABLE,
        lastupdated = 'lastupdated' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='', sourcetypeid='4', sourcetypename='INT')  SORTABLE,
        valid = 'valid' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', description='', sourcetypeid='4', sourcetypename='INT')  SORTABLE
    );

CHOWN admin WRAPPER JDBC vdb_cache_names_test LASTMODIFICATIONUSER admin;

DROP WRAPPER XML IF EXISTS hdfs_webui_base CASCADE;

CREATE WRAPPER XML hdfs_webui_base
    FOLDER = '/views'
    DATASOURCENAME=hdfs_webui
    TUPLEROOT 'letter'
    OUTPUTSCHEMA (letter = 'letter' : REGISTER OF (
        title = 'title' : ARRAY OF (
            title = 'title' : REGISTER OF (
                maxlength = '#maxlength' : 'java.lang.Short',
                title = 'title' : 'java.lang.String'
            )
        ),
        salutation = 'salutation' : REGISTER OF (
            limit_0 = '#limit' : 'java.lang.Short',
            salutation = 'salutation' : 'java.lang.String'
        ),
        text = 'text' : REGISTER OF (
            emphasis = 'emphasis' : 'java.lang.String',
            component = 'component' : ARRAY OF (
                component = 'component' : REGISTER OF (
                    translate = '#translate' : 'java.lang.String',
                    component = 'component' : 'java.lang.String'
                )
            )
        ),
        greetings = 'greetings' : REGISTER OF (
            minlength = '#minlength' : 'java.lang.Short',
            greetings = 'greetings' : 'java.lang.String'
        ),
        signature = 'signature' : 'java.lang.String',
        address = 'address' : ARRAY OF (
            address = 'address' : REGISTER OF (
                translate = '#translate' : 'java.lang.String',
                address = 'address' : 'java.lang.String'
            )
        ),
        weblink = 'weblink' : 'java.lang.String',
        logo = 'logo' : REGISTER OF (
            alt = '#alt' : 'java.lang.String',
            address = '#address' : 'java.lang.String'
        )
    )
    );

CHOWN admin WRAPPER XML hdfs_webui_base LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of big_data
# #######################################
# No stored procedures in database big_data
# #######################################
# TYPES of big_data
# #######################################
DROP TYPE IF EXISTS denodo_view_businessentityid CASCADE;

CREATE TYPE denodo_view_businessentityid AS REGISTER OF (firstname:text (sourcetypeid = '12'), middlename:text (sourcetypeid = '12'), lastname:text (sourcetypeid = '12'));

DROP TYPE IF EXISTS hbase_2_sa CASCADE;

CREATE TYPE hbase_2_sa AS REGISTER OF (daily:text (sourcetypeid = '12'), weekly:text (sourcetypeid = '12'));

DROP TYPE IF EXISTS hbase_buisnessentityid CASCADE;

CREATE TYPE hbase_buisnessentityid AS REGISTER OF (firstname:text (sourcetypeid = '12'), middlename:text (sourcetypeid = '12'), lastname:text (sourcetypeid = '12'));

DROP TYPE IF EXISTS hbase_sa CASCADE;

CREATE TYPE hbase_sa AS REGISTER OF (daily:text (sourcetypeid = '12'), weekly:text (sourcetypeid = '12'));

DROP TYPE IF EXISTS hdfs_webui_address_address CASCADE;

CREATE TYPE hdfs_webui_address_address AS REGISTER OF (translate:text, address:text);

DROP TYPE IF EXISTS hdfs_webui_greetings CASCADE;

CREATE TYPE hdfs_webui_greetings AS REGISTER OF (minlength:int, greetings:text);

DROP TYPE IF EXISTS hdfs_webui_logo CASCADE;

CREATE TYPE hdfs_webui_logo AS REGISTER OF (alt:text, address:text);

DROP TYPE IF EXISTS hdfs_webui_salutation CASCADE;

CREATE TYPE hdfs_webui_salutation AS REGISTER OF (limit_0:int, salutation:text);

DROP TYPE IF EXISTS hdfs_webui_text_component_component CASCADE;

CREATE TYPE hdfs_webui_text_component_component AS REGISTER OF (translate:text, component:text);

DROP TYPE IF EXISTS hdfs_webui_title_title CASCADE;

CREATE TYPE hdfs_webui_title_title AS REGISTER OF (maxlength:int, title:text);

DROP TYPE IF EXISTS hdfs_webui_address CASCADE;

CREATE TYPE hdfs_webui_address AS ARRAY OF hdfs_webui_address_address;

DROP TYPE IF EXISTS hdfs_webui_text_component CASCADE;

CREATE TYPE hdfs_webui_text_component AS ARRAY OF hdfs_webui_text_component_component;

DROP TYPE IF EXISTS hdfs_webui_title CASCADE;

CREATE TYPE hdfs_webui_title AS ARRAY OF hdfs_webui_title_title;

DROP TYPE IF EXISTS hdfs_webui_text CASCADE;

CREATE TYPE hdfs_webui_text AS REGISTER OF (emphasis:text, component:hdfs_webui_text_component);

# #######################################
# MAPS of big_data
# #######################################
# No maps in database big_data
# #######################################
# BASE VIEWS of big_data
# #######################################
DROP VIEW IF EXISTS bv_parquet CASCADE;

CREATE TABLE bv_parquet I18N au_cst (
        expirationdate:long (sourcetypeid = '-5'), 
        rowstatus:text (sourcetypeid = '12')
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_parquet(
        I18N au_cst
        CONSTRAINTS (
             ADD expirationdate NOS ZERO ()
             ADD rowstatus NOS ZERO ()
        )
        OUTPUTLIST (expirationdate, rowstatus
        )
        WRAPPER (custom bv_parquet)
    );

CHOWN admin VIEW bv_parquet LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_q CASCADE;

CREATE TABLE bv_q I18N au_cst (
        databasename:text (sourcetypedecimals = '0', sourcetypesize = '32767', sourcetypeid = '12'), 
        viewname:text (sourcetypedecimals = '0', sourcetypesize = '32767', sourcetypeid = '12'), 
        vdbname:text (sourcetypedecimals = '0', sourcetypesize = '32767', sourcetypeid = '12'), 
        sqlname:text (sourcetypedecimals = '0', sourcetypesize = '32767', sourcetypeid = '12'), 
        lastupdated:int (sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        valid:int (sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_q(
        I18N au_cst
        CONSTRAINTS (
             ADD databasename NOS ZERO ()
             ADD viewname NOS ZERO ()
             ADD vdbname NOS ZERO ()
             ADD sqlname NOS ZERO ()
             ADD lastupdated NOS ZERO ()
             ADD valid NOS ZERO ()
        )
        OUTPUTLIST (databasename, lastupdated, sqlname, valid, vdbname, viewname
        )
        WRAPPER (jdbc bv_q)
    );

CHOWN admin VIEW bv_q LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_vdb_cache_names CASCADE;

CREATE TABLE bv_vdb_cache_names I18N au_cst (
        databasename:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        viewname:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        vdbname:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        sqlname:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        lastupdated:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        valid:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_vdb_cache_names(
        I18N au_cst
        CONSTRAINTS (
             ADD databasename (any) OPT ANY
             ADD viewname (any) OPT ANY
             ADD vdbname (any) OPT ANY
             ADD sqlname (any) OPT ANY
             ADD lastupdated (any) OPT ANY
             ADD valid (any) OPT ANY
        )
        OUTPUTLIST (databasename, lastupdated, sqlname, valid, vdbname, viewname
        )
        WRAPPER (jdbc bv_vdb_cache_names)
    );

CHOWN admin VIEW bv_vdb_cache_names LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_vdb_cache_viewname CASCADE;

CREATE TABLE bv_vdb_cache_viewname I18N au_cst (
        databasename:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        viewname:text (sourcetypesize = '2147483647', sourcetypeid = '12'), 
        lastupdated:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        valid:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_vdb_cache_viewname(
        I18N au_cst
        CONSTRAINTS (
             ADD databasename (any) OPT ANY
             ADD viewname (any) OPT ANY
             ADD lastupdated (any) OPT ANY
             ADD valid (any) OPT ANY
        )
        OUTPUTLIST (databasename, lastupdated, valid, viewname
        )
        WRAPPER (jdbc bv_vdb_cache_viewname)
    );

CHOWN admin VIEW bv_vdb_cache_viewname LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS denodo_view CASCADE;

CREATE TABLE denodo_view I18N au_cst (
        row_key:text (sourcetypeid = '12'), 
        businessentityid:denodo_view_businessentityid, 
        start_row:text (sourcetypeid = '12'), 
        stop_row:text (sourcetypeid = '12')
    )
    FOLDER = '/data_sources'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD denodo_view(
        I18N au_cst
        CONSTRAINTS (
             ADD row_key (any) OPT ANY
             ADD businessentityid NOS ZERO ()
             ADD businessentityid.firstname (any) OPT ANY
             ADD businessentityid.middlename (any) OPT ANY
             ADD businessentityid.lastname (any) OPT ANY
             ADD start_row (any) OPT ANY
             ADD stop_row (any) OPT ANY
        )
        OUTPUTLIST (businessentityid, row_key, start_row, stop_row
        )
        WRAPPER (custom denodo_view)
    );

CHOWN admin VIEW denodo_view LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_case CASCADE;

CREATE TABLE ds_case I18N au_cst (
        parent_company_channel:text (sourcetypeid = '12'), 
        territory_channel:text (sourcetypeid = '12'), 
        territory:text (sourcetypeid = '12'), 
        parent_company_name:text (sourcetypeid = '12'), 
        sfdc_company_id:text (sourcetypeid = '12'), 
        company_name:text (sourcetypeid = '12'), 
        company_address_city:text (sourcetypeid = '12'), 
        company_address_state:text (sourcetypeid = '12'), 
        company_address_postalcode:text (sourcetypeid = '12'), 
        product_type:text (sourcetypeid = '12'), 
        product_name:text (sourcetypeid = '12'), 
        cur_mkt_val_usd:text (sourcetypeid = '12'), 
        month_end_date:text (sourcetypeid = '1'), 
        position_date:text (sourcetypeid = '12'), 
        sales_compensation_flag:text (sourcetypeid = '12'), 
        parent_company_id:text (sourcetypeid = '12'), 
        cusip:text (sourcetypeid = '12'), 
        shareclass_name:text (sourcetypeid = '12'), 
        sma:text (sourcetypeid = '12'), 
        fund_num:text (sourcetypeid = '12'), 
        share_class_cd:text (sourcetypeid = '12'), 
        ss_fund_num:text (sourcetypeid = '12')
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_case(
        I18N au_cst
        CONSTRAINTS (
             ADD parent_company_channel NOS ZERO ()
             ADD territory_channel NOS ZERO ()
             ADD territory NOS ZERO ()
             ADD parent_company_name NOS ZERO ()
             ADD sfdc_company_id NOS ZERO ()
             ADD company_name NOS ZERO ()
             ADD company_address_city NOS ZERO ()
             ADD company_address_state NOS ZERO ()
             ADD company_address_postalcode NOS ZERO ()
             ADD product_type NOS ZERO ()
             ADD product_name NOS ZERO ()
             ADD cur_mkt_val_usd NOS ZERO ()
             ADD month_end_date NOS ZERO ()
             ADD position_date NOS ZERO ()
             ADD sales_compensation_flag NOS ZERO ()
             ADD parent_company_id NOS ZERO ()
             ADD cusip NOS ZERO ()
             ADD shareclass_name NOS ZERO ()
             ADD sma NOS ZERO ()
             ADD fund_num NOS ZERO ()
             ADD share_class_cd NOS ZERO ()
             ADD ss_fund_num NOS ZERO ()
        )
        OUTPUTLIST (company_address_city, company_address_postalcode, company_address_state, company_name, cur_mkt_val_usd, cusip, fund_num, month_end_date, parent_company_channel, parent_company_id, parent_company_name, position_date, product_name, product_type, sales_compensation_flag, sfdc_company_id, share_class_cd, shareclass_name, sma, ss_fund_num, territory, territory_channel
        )
        WRAPPER (custom ds_case)
    );

CHOWN admin VIEW ds_case LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_csv CASCADE;

CREATE TABLE ds_csv I18N au_cst (
        "Book":text (sourcetypeid = '12'), 
        " Whole	24							Harris":text (sourcetypeid = '12'), 
        " Charles//McLaughlin":text (sourcetypeid = '12'), 
        " William//Brown":text (sourcetypeid = '12'), 
        " Greg//Becker":text (sourcetypeid = '12'), 
        "DennisRRuralcommunitiesintheinlandNorthwestanassessmentofsmallruralcommunitiesintheinterioranduppe_0":text (sourcetypeid = '12'), 
        " OR	U.S. Department of Agriculture":text (sourcetypeid = '12'), 
        " Forest Service":text (sourcetypeid = '12'), 
        " Pacific Northwest Research Station	2000		Gen. Tech. Rep. PNW-GTR-477					120 p.			Quigley":text (sourcetypeid = '12'), 
        "ThomasMtechedTheInteriorColumbiaBasinEcosystemManagementProjectscientificassessmentPacificNorthwes_0":text (sourcetypeid = '12')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_csv(
        I18N au_cst
        CONSTRAINTS (
             ADD "Book" NOS ZERO ()
             ADD " Whole	24							Harris" NOS ZERO ()
             ADD " Charles//McLaughlin" NOS ZERO ()
             ADD " William//Brown" NOS ZERO ()
             ADD " Greg//Becker" NOS ZERO ()
             ADD "DennisRRuralcommunitiesintheinlandNorthwestanassessmentofsmallruralcommunitiesintheinterioranduppe_0" NOS ZERO ()
             ADD " OR	U.S. Department of Agriculture" NOS ZERO ()
             ADD " Forest Service" NOS ZERO ()
             ADD " Pacific Northwest Research Station	2000		Gen. Tech. Rep. PNW-GTR-477					120 p.			Quigley" NOS ZERO ()
             ADD "ThomasMtechedTheInteriorColumbiaBasinEcosystemManagementProjectscientificassessmentPacificNorthwes_0" NOS ZERO ()
        )
        OUTPUTLIST (" Charles//McLaughlin", " Forest Service", " Greg//Becker", " OR	U.S. Department of Agriculture", " Pacific Northwest Research Station	2000		Gen. Tech. Rep. PNW-GTR-477					120 p.			Quigley", " Whole	24							Harris", " William//Brown", "Book", "DennisRRuralcommunitiesintheinlandNorthwestanassessmentofsmallruralcommunitiesintheinterioranduppe_0", "ThomasMtechedTheInteriorColumbiaBasinEcosystemManagementProjectscientificassessmentPacificNorthwes_0"
        )
        WRAPPER (custom ds_csv)
    );

CHOWN admin VIEW ds_csv LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_hdfs CASCADE;

CREATE TABLE ds_hdfs I18N au_cst (
        parentfolder:text (sourcetypeid = '12'), 
        relativepath:text (sourcetypeid = '12'), 
        filename:text (sourcetypeid = '12'), 
        extension:text (sourcetypeid = '12'), 
        fullpath:text (sourcetypeid = '12'), 
        pathwithoutscheme:text (sourcetypeid = '12'), 
        filetype:text (sourcetypeid = '12'), 
        encrypted:boolean (sourcetypeid = '16'), 
        datemodified:timestamp (sourcetypeid = '93'), 
        owner:text (sourcetypeid = '12'), 
        group:text (sourcetypeid = '12'), 
        permissions:text (sourcetypeid = '12'), 
        size:int (sourcetypeid = '4'), 
        recursive:boolean (sourcetypeid = '16')
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_hdfs(
        I18N au_cst
        CONSTRAINTS (
             ADD parentfolder (=) OBL ONE
             ADD relativepath NOS ZERO ()
             ADD filename NOS ZERO ()
             ADD extension NOS ZERO ()
             ADD fullpath NOS ZERO ()
             ADD pathwithoutscheme NOS ZERO ()
             ADD filetype NOS ZERO ()
             ADD encrypted NOS ZERO ()
             ADD datemodified NOS ZERO ()
             ADD owner NOS ZERO ()
             ADD group NOS ZERO ()
             ADD permissions NOS ZERO ()
             ADD size NOS ZERO ()
             ADD recursive (=) OBL ONE
        )
        OUTPUTLIST (datemodified, encrypted, extension, filename, filetype, fullpath, group, owner, parentfolder, pathwithoutscheme, permissions, recursive, relativepath, size
        )
        WRAPPER (custom ds_hdfs)
    );

CHOWN admin VIEW ds_hdfs LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_hdfs_xml CASCADE;

CREATE TABLE ds_hdfs_xml I18N au_cst (
        deptbldg101_0:text (sourcetypeid = '12')
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_hdfs_xml(
        I18N au_cst
        CONSTRAINTS (
             ADD deptbldg101_0 NOS ZERO ()
        )
        OUTPUTLIST (deptbldg101_0
        )
        WRAPPER (custom ds_hdfs_xml)
    );

CHOWN admin VIEW ds_hdfs_xml LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_xml CASCADE;

CREATE TABLE ds_xml I18N au_cst (
        deptbldg101_0:text (sourcetypeid = '12')
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_xml(
        I18N au_cst
        CONSTRAINTS (
             ADD deptbldg101_0 NOS ZERO ()
        )
        OUTPUTLIST (deptbldg101_0
        )
        WRAPPER (custom ds_xml)
    );

CHOWN admin VIEW ds_xml LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS hbase_2 CASCADE;

CREATE TABLE hbase_2 I18N au_cst (
        row_key:text (sourcetypeid = '12'), 
        sa:hbase_2_sa, 
        start_row:text (sourcetypeid = '12'), 
        stop_row:text (sourcetypeid = '12')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD hbase_2(
        I18N au_cst
        CONSTRAINTS (
             ADD row_key (any) OPT ANY
             ADD sa NOS ZERO ()
             ADD sa.daily (any) OPT ANY
             ADD sa.weekly (any) OPT ANY
             ADD start_row (any) OPT ANY
             ADD stop_row (any) OPT ANY
        )
        OUTPUTLIST (row_key, sa, start_row, stop_row
        )
        WRAPPER (custom hbase_2)
    );

CHOWN admin VIEW hbase_2 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS hdfs_webui_base CASCADE;

CREATE TABLE hdfs_webui_base I18N au_cst (
        title:hdfs_webui_title, 
        salutation:hdfs_webui_salutation, 
        text:hdfs_webui_text, 
        greetings:hdfs_webui_greetings, 
        signature:text, 
        address:hdfs_webui_address, 
        weblink:text, 
        logo:hdfs_webui_logo
    )
    FOLDER = '/views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD hdfs_webui_base(
        I18N au_cst
        CONSTRAINTS (
             ADD title NOS ZERO ()
             ADD title NOS ZERO ()
             ADD title.maxlength NOS ZERO ()
             ADD title.title NOS ZERO ()
             ADD salutation NOS ZERO ()
             ADD salutation.limit_0 NOS ZERO ()
             ADD salutation.salutation NOS ZERO ()
             ADD text NOS ZERO ()
             ADD text.emphasis NOS ZERO ()
             ADD text.component NOS ZERO ()
             ADD text.component NOS ZERO ()
             ADD text.component.translate NOS ZERO ()
             ADD text.component.component NOS ZERO ()
             ADD greetings NOS ZERO ()
             ADD greetings.minlength NOS ZERO ()
             ADD greetings.greetings NOS ZERO ()
             ADD signature NOS ZERO ()
             ADD address NOS ZERO ()
             ADD address NOS ZERO ()
             ADD address.translate NOS ZERO ()
             ADD address.address NOS ZERO ()
             ADD weblink NOS ZERO ()
             ADD logo NOS ZERO ()
             ADD logo.alt NOS ZERO ()
             ADD logo.address NOS ZERO ()
        )
        OUTPUTLIST (address, greetings, logo, salutation, signature, text, title, weblink
        )
        WRAPPER (xml hdfs_webui_base)
    );

CHOWN admin VIEW hdfs_webui_base LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS vdb_cache_names CASCADE;

CREATE TABLE vdb_cache_names I18N au_cst (
        databasename:text (sourcetypedecimals = '0', sourcetyperadix = '0', sourcetypesize = '255', sourcetypeid = '12'), 
        viewname:text (sourcetypedecimals = '0', sourcetyperadix = '0', sourcetypesize = '255', sourcetypeid = '12'), 
        vdbname:text (sourcetypedecimals = '0', sourcetyperadix = '0', sourcetypesize = '255', sourcetypeid = '12'), 
        sqlname:text (sourcetypedecimals = '0', sourcetyperadix = '0', sourcetypesize = '255', sourcetypeid = '12'), 
        lastupdated:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        valid:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD vdb_cache_names(
        I18N au_cst
        CONSTRAINTS (
             ADD databasename (any) OPT ANY
             ADD viewname (any) OPT ANY
             ADD vdbname (any) OPT ANY
             ADD sqlname (any) OPT ANY
             ADD lastupdated (any) OPT ANY
             ADD valid (any) OPT ANY
        )
        OUTPUTLIST (databasename, lastupdated, sqlname, valid, vdbname, viewname
        )
        WRAPPER (jdbc vdb_cache_names)
    );

CHOWN admin VIEW vdb_cache_names LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS vdb_cache_names_test CASCADE;

CREATE TABLE vdb_cache_names_test I18N au_cst (
        databasename:text (sourcetypedecimals = '0', sourcetypesize = '2147483647', description = '', sourcetypeid = '12'), 
        viewname:text (sourcetypedecimals = '0', sourcetypesize = '2147483647', description = '', sourcetypeid = '12'), 
        vdbname:text (sourcetypedecimals = '0', sourcetypesize = '2147483647', description = '', sourcetypeid = '12'), 
        sqlname:text (sourcetypedecimals = '0', sourcetypesize = '2147483647', description = '', sourcetypeid = '12'), 
        lastupdated:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = '', sourcetypeid = '4'), 
        valid:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', description = '', sourcetypeid = '4')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD vdb_cache_names_test(
        I18N au_cst
        CONSTRAINTS (
             ADD databasename (any) OPT ANY
             ADD viewname (any) OPT ANY
             ADD vdbname (any) OPT ANY
             ADD sqlname (any) OPT ANY
             ADD lastupdated (any) OPT ANY
             ADD valid (any) OPT ANY
        )
        OUTPUTLIST (databasename, lastupdated, sqlname, valid, vdbname, viewname
        )
        WRAPPER (jdbc vdb_cache_names_test)
    );

CHOWN admin VIEW vdb_cache_names_test LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of big_data
# #######################################
DROP VIEW IF EXISTS dv_test_join CASCADE;

CREATE VIEW dv_test_join FOLDER = '/data_sources' AS SELECT bv_vdb_cache_names.viewname AS viewname, bv_vdb_cache_names.vdbname AS vdbname, bv_vdb_cache_names.sqlname AS sqlname FROM bv_vdb_cache_names AS bv_vdb_cache_names INNER JOIN bv_vdb_cache_viewname AS bv_vdb_cache_viewname ON bv_vdb_cache_names.viewname = bv_vdb_cache_viewname.viewname  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_test_join
 LAYOUT (bv_vdb_cache_names = [20, 20, 200, 146], bv_vdb_cache_viewname = [377, 131, 200, 106]);

CHOWN admin VIEW dv_test_join LASTMODIFICATIONUSER admin;

# #######################################
# ASSOCIATIONS of big_data
# #######################################
# No associations in database big_data
# #######################################
# WEBSERVICES of big_data
# #######################################
DROP REST WEBSERVICE IF EXISTS ds_case;

CREATE REST WEBSERVICE ds_case
    CONNECTION (
        CHUNKSIZE = 1000
        CHUNKTIMEOUT = 90000
        QUERYTIMEOUT = 900000
        POOLENABLED = true
        POOLINITSIZE = 0
        POOLMAXACTIVE = 30
    )
    DEFAULTREPRESENTATION = HTML
    SUPPORTEDREPRESENTATIONS (HTML, XML, JSON)
    RESOURCES (
        VIEW ds_case FIELDS (
            parent_company_channel : 'text', 
            territory_channel : 'text', 
            territory : 'text', 
            parent_company_name : 'text', 
            sfdc_company_id : 'text', 
            company_name : 'text', 
            company_address_city : 'text', 
            company_address_state : 'text', 
            company_address_postalcode : 'text', 
            product_type : 'text', 
            product_name : 'text', 
            cur_mkt_val_usd : 'text', 
            month_end_date : 'text', 
            position_date : 'text', 
            sales_compensation_flag : 'text', 
            parent_company_id : 'text', 
            cusip : 'text', 
            shareclass_name : 'text', 
            sma : 'text', 
            fund_num : 'text', 
            share_class_cd : 'text', 
            ss_fund_num : 'text'
        )
    )
    OPTIONS ( NULLVALUESASEMPTYXMLELEMENTS = false ) 
    OPENAPI2 ( API_VERSION = '1.0.0' ) ;

CHOWN admin WEBSERVICE ds_case LASTMODIFICATIONUSER admin;

DROP REST WEBSERVICE IF EXISTS ds_hdfs_xml;

CREATE REST WEBSERVICE ds_hdfs_xml
    CONNECTION (
        CHUNKSIZE = 1000
        CHUNKTIMEOUT = 90000
        QUERYTIMEOUT = 900000
        POOLENABLED = true
        POOLINITSIZE = 0
        POOLMAXACTIVE = 30
    )
    DEFAULTREPRESENTATION = HTML
    SUPPORTEDREPRESENTATIONS (HTML, XML, JSON)
    RESOURCES (
        VIEW ds_hdfs_xml FIELDS (
            deptbldg101_0 : 'text'
        )
    )
    OPTIONS ( NULLVALUESASEMPTYXMLELEMENTS = false ) 
    OPENAPI2 ( API_VERSION = '1.0.0' ) ;

CHOWN admin WEBSERVICE ds_hdfs_xml LASTMODIFICATIONUSER admin;

# #######################################
# WIDGETS of big_data
# #######################################
# No widgets in database big_data
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of big_data
# #######################################
UNDEPLOY IF EXISTS WEBSERVICE ds_hdfs_xml;

DEPLOY WEBSERVICE ds_hdfs_xml LOGIN = 'admin' PASSWORD = '9i5rB3ml7poDVwQey9MShRGDbFqz3Ixvg3N6BJ48VfJFvr1hTx46ZwhExjK3EwAzHw2OIXn8yYzslD7TEwVD66iB1Q2P44pNDcpWQm6LEmdUqWASNhkIM6cQq4R13Wsy' ENCRYPTED;

# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of big_data
# #######################################
# No deployed widgets in database big_data
# #######################################
# Closing connection with database big_data
# #######################################
CLOSE;


# 6 ====================================================================

# #######################################
# DATABASE of ob_dv_basics
# #######################################
DROP DATABASE IF EXISTS ob_dv_basics;

CREATE DATABASE ob_dv_basics ''
  AUTHENTICATION LDAP ob_dv_basics.ds_ldap
    USERBASE = 'CN=Users,DC=denodo,DC=loc'
    USERATTRIBUTENAME = 'sAMAccountName'
    USERSEARCH = '(&(objectClass=person))'
    ROLEBASE = 'OU=groups,DC=denodo,DC=loc'
    ROLEATTRIBUTENAME = 'cn'
    ROLESEARCH = '(member=@{USERDN})';

CONNECT DATABASE ob_dv_basics;

# #######################################
# FOLDERS of ob_dv_basics
# #######################################
CREATE OR REPLACE FOLDER '/base_views' ;

CHOWN admin FOLDER '/base_views';

CREATE OR REPLACE FOLDER '/data_source' ;

CHOWN admin FOLDER '/data_source';

CREATE OR REPLACE FOLDER '/derived_views' ;

CHOWN admin FOLDER '/derived_views';

CREATE OR REPLACE FOLDER '/web_service' ;

CHOWN admin FOLDER '/web_service';

CREATE OR REPLACE FOLDER '/zcommunity_question' ;

CHOWN admin FOLDER '/zcommunity_question';

# #######################################
# LISTENERS JMS of ob_dv_basics
# #######################################
# No listeners jms in database ob_dv_basics
# #######################################
# DATASOURCES of ob_dv_basics
# #######################################
DROP DATASOURCE LDAP IF EXISTS ds_ldap CASCADE;

CREATE DATASOURCE LDAP ds_ldap
    FOLDER = '/data_source'
    URI='ldap://ariel.denodo.com/DC=denodo,DC=loc'
    USERNAME='denodo\ldap'
    USERPASSWORD='iaiSMtr2kWDo1FyNHzSv7Q2KAF6Hb2+Cy0g4UhQUz/WDEP3rovvV3oVFatY0livZppy2ZM2JtBE8d1DPeW2C+yD3g8A9q8nIC4Nv7V7TXcuTqwpj1+DB9v5ylHPJKs8u' ENCRYPTED
    USEPAGING=TRUE
    MAXPAGESIZE=1000
    POOL_ENABLED = TRUE;

CHOWN admin DATASOURCE LDAP ds_ldap LASTMODIFICATIONUSER admin;

DROP DATASOURCE WS IF EXISTS ds_product1 CASCADE;

CREATE DATASOURCE WS ds_product1
    FOLDER = '/data_source'
    WSDLURI = 'http://ariel.denodo.com:8080/product-ws/services/products-ws?wsdl'
    MAXCONNECTIONS 50
    CONNECTIONPOOLTIMEOUT 0
    AUTHENTICATION WSS BASIC( 
      USER 'product'
      PASSWORD 'GUBLj9knLkdVdMj0qcO2RSJ69Z5f0ilyml3YIW4Lu4P647g6LgDO+2tTYKiYqHHxSMykAydufx/fBCUkt7/bqHgoJQW1dIY6uzSjUkt0msYCPNsClpIurNDcInY9PXhc' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE WS ds_product1 LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE ob_dv_basics
  CHARSET DEFAULT;

ALTER DATABASE ob_dv_basics
  COST OPTIMIZATION ON
  QUERY SIMPLIFICATION ON
  VCS ON (
    REMOTEDB = ob_dv_basics
  );

# #######################################
# WRAPPERS of ob_dv_basics
# #######################################
DROP WRAPPER LDAP IF EXISTS bv_jhsdfg CASCADE;

CREATE WRAPPER LDAP bv_jhsdfg
    FOLDER = '/base_views'
    DATASOURCENAME=ds_ldap
    LDAPEXPRESSION='(objectClass=group)'   
    RECURSIVESEARCH=TRUE
    SINGLE-VALUE=FALSE
    OUTPUTSCHEMA (
        cn = 'cn' : 'java.lang.String',
        distinguishedname = 'distinguishedName' : 'java.lang.String',
        objectcategory = 'objectCategory' : 'java.lang.String'
    );

CHOWN admin WRAPPER LDAP bv_jhsdfg LASTMODIFICATIONUSER admin;

DROP WRAPPER LDAP IF EXISTS user1 CASCADE;

CREATE WRAPPER LDAP user1
    FOLDER = '/base_views'
    DATASOURCENAME=ds_ldap
    OBJECTCLASSES='user', 'top'
    RECURSIVESEARCH=TRUE
    SINGLE-VALUE=FALSE
    OUTPUTSCHEMA (
        displayname = 'displayName' : 'java.lang.String' (OPT),
        memberof = 'memberOf' : ARRAY OF (
            memberof = 'memberOf' : REGISTER OF (
                memberof = 'memberOf' : 'java.lang.String' (OPT)
            )
        ),
        samaccountname = 'sAMAccountName' : 'java.lang.String' (OPT),
        userprincipalname = 'userPrincipalName' : 'java.lang.String' (OPT)
    );

CHOWN admin WRAPPER LDAP user1 LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_getallproducts CASCADE;

CREATE WRAPPER WS bv_getallproducts
    FOLDER = '/base_views'
    DATASOURCENAME=ds_product1
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProducts'
    INPUTMESSAGE='getAllProducts'
    OUTPUTMESSAGE='getAllProductsResponse'
    TUPLEROOT='/Envelope/Body/getAllProductsResponse/products/product'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    productid='Envelope.Body.getAllProductsResponse.products.product.productId',
    productname='Envelope.Body.getAllProductsResponse.products.product.productName',
    productprice='Envelope.Body.getAllProductsResponse.products.product.productPrice'
    );

CHOWN admin WRAPPER WS bv_getallproducts LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_getproductsbycategory CASCADE;

CREATE WRAPPER WS bv_getproductsbycategory
    FOLDER = '/base_views'
    DATASOURCENAME=ds_product1
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductsByCategory'
    INPUTMESSAGE='getProductsByCategory'
    OUTPUTMESSAGE='getProductsByCategoryResponse'
    TUPLEROOT='/Envelope/Body/getProductsByCategoryResponse/products/product'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    productid='Envelope.Body.getProductsByCategoryResponse.products.product.productId',
    productname='Envelope.Body.getProductsByCategoryResponse.products.product.productName',
    productprice='Envelope.Body.getProductsByCategoryResponse.products.product.productPrice'
    );

CHOWN admin WRAPPER WS bv_getproductsbycategory LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS getproductdetailsbycategory CASCADE;

CREATE WRAPPER WS getproductdetailsbycategory
    FOLDER = '/zcommunity_question'
    DATASOURCENAME=ds_product1
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductDetailsByCategory'
    INPUTMESSAGE='getProductDetailsByCategory'
    OUTPUTMESSAGE='getProductDetailsByCategoryResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    return = '$$': REGISTER OF (
        productdetails = 'productDetails': ARRAY OF (
            productdetaildata = 'ProductDetailData': REGISTER OF (
                productid='productId',
                productname='productName',
                productprice='productPrice',
                category = 'category': REGISTER OF (
                    categoryid='categoryId',
                    categoryname='categoryName'
                ),
                characteristics = 'characteristics': REGISTER OF (
                    characteristic_dimensions='characteristic_dimensions',
                    characteristic_weight='characteristic_weight',
                    characteristic_details='characteristic_details',
                    characteristic_color='characteristic_color'
                ),
                accessories = 'accessories': ARRAY OF (
                    productdata = 'ProductData': REGISTER OF (
                        productid='productId',
                        productname='productName',
                        productprice='productPrice'
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER WS getproductdetailsbycategory LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of ob_dv_basics
# #######################################
# No stored procedures in database ob_dv_basics
# #######################################
# TYPES of ob_dv_basics
# #######################################
DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_register AS REGISTER OF (custompermissions:text);

DROP TYPE IF EXISTS _procedure_catalog_permissions_restriction_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_restriction_register AS REGISTER OF (sensitivefields:text, condition:text, action:text);

DROP TYPE IF EXISTS _register_boolean CASCADE;

CREATE TYPE _register_boolean AS REGISTER OF (value:boolean);

DROP TYPE IF EXISTS _register_text CASCADE;

CREATE TYPE _register_text AS REGISTER OF (value:text);

DROP TYPE IF EXISTS _user_memberof_memberof CASCADE;

CREATE TYPE _user_memberof_memberof AS REGISTER OF (memberof:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_parameters CASCADE;

CREATE TYPE getproductdetailsbycategory_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_category CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getproductsbycategory_parameters CASCADE;

CREATE TYPE getproductsbycategory_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS getproductsbycategory_return_products_productdata CASCADE;

CREATE TYPE getproductsbycategory_return_products_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS _array_register_boolean CASCADE;

CREATE TYPE _array_register_boolean AS ARRAY OF _register_boolean;

DROP TYPE IF EXISTS _array_register_text CASCADE;

CREATE TYPE _array_register_text AS ARRAY OF _register_text;

DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_array AS ARRAY OF _procedure_catalog_permissions_custompermissions_register;

DROP TYPE IF EXISTS _procedure_catalog_permissions_rowpermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_rowpermissions_array AS ARRAY OF _procedure_catalog_permissions_restriction_register;

DROP TYPE IF EXISTS _user_memberof CASCADE;

CREATE TYPE _user_memberof AS ARRAY OF _user_memberof_memberof;

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata_accessories CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata_accessories AS ARRAY OF getproductdetailsbycategory_return_productdetails_productdetaildata_accessories_productdata;

DROP TYPE IF EXISTS getproductsbycategory_return_products CASCADE;

CREATE TYPE getproductsbycategory_return_products AS ARRAY OF getproductsbycategory_return_products_productdata;

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails_productdetaildata CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails_productdetaildata AS REGISTER OF (productid:int, productname:text, productprice:float, category:getproductdetailsbycategory_return_productdetails_productdetaildata_category, characteristics:getproductdetailsbycategory_return_productdetails_productdetaildata_characteristics, accessories:getproductdetailsbycategory_return_productdetails_productdetaildata_accessories);

DROP TYPE IF EXISTS getproductsbycategory_return CASCADE;

CREATE TYPE getproductsbycategory_return AS REGISTER OF (products:getproductsbycategory_return_products);

DROP TYPE IF EXISTS getproductdetailsbycategory_return_productdetails CASCADE;

CREATE TYPE getproductdetailsbycategory_return_productdetails AS ARRAY OF getproductdetailsbycategory_return_productdetails_productdetaildata;

DROP TYPE IF EXISTS getproductdetailsbycategory_return CASCADE;

CREATE TYPE getproductdetailsbycategory_return AS REGISTER OF (productdetails:getproductdetailsbycategory_return_productdetails);

# #######################################
# MAPS of ob_dv_basics
# #######################################
# No maps in database ob_dv_basics
# #######################################
# BASE VIEWS of ob_dv_basics
# #######################################
DROP VIEW IF EXISTS bv_getallproducts CASCADE;

CREATE TABLE bv_getallproducts I18N au_cst (
        productid:int, 
        productname:text (description = 'lml;'), 
        productprice:float
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_getallproducts(
        I18N au_cst
        CONSTRAINTS (
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
        )
        OUTPUTLIST (productid, productname, productprice
        )
        WRAPPER (ws bv_getallproducts)
    );

CHOWN admin VIEW bv_getallproducts LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_group CASCADE;

CREATE TABLE bv_group I18N au_cst (
        cn:text, 
        distinguishedname:text, 
        objectcategory:text
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_jhsdfg(
        I18N au_cst
        CONSTRAINTS (
             ADD cn NOS ZERO ()
             ADD distinguishedname NOS ZERO ()
             ADD objectcategory NOS ZERO ()
        )
        OUTPUTLIST (cn, distinguishedname, objectcategory
        )
        WRAPPER (ldap bv_jhsdfg)
    );

CHOWN admin VIEW bv_group LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_user CASCADE;

CREATE TABLE bv_user I18N au_cst (
        displayname:text, 
        memberof:_user_memberof, 
        samaccountname:text, 
        userprincipalname:text
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD user1(
        I18N au_cst
        CONSTRAINTS (
             ADD displayname (any) OPT ANY
             ADD memberof NOS ZERO ()
             ADD memberof NOS ZERO ()
             ADD memberof.memberof (any) OPT ANY
             ADD samaccountname (any) OPT ANY
             ADD userprincipalname (any) OPT ANY
        )
        OUTPUTLIST (displayname, memberof, samaccountname, userprincipalname
        )
        WRAPPER (ldap user1)
    );

CHOWN admin VIEW bv_user LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_getproductsbycategory CASCADE;

CREATE TABLE dv_getproductsbycategory I18N au_cst (
        parameters:getproductsbycategory_parameters, 
        productid:int, 
        productname:text, 
        productprice:float
    )
    FOLDER = '/base_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_getproductsbycategory(
        I18N au_cst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD parameters.categoryname (=) OBL ONE
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
        )
        OUTPUTLIST (parameters, productid, productname, productprice
        )
        WRAPPER (ws bv_getproductsbycategory)
    );

CHOWN admin VIEW dv_getproductsbycategory LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS getproductdetailsbycategory CASCADE;

CREATE TABLE getproductdetailsbycategory I18N au_cst (
        parameters:getproductdetailsbycategory_parameters, 
        return:getproductdetailsbycategory_return
    )
    FOLDER = '/zcommunity_question'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD getproductdetailsbycategory(
        I18N au_cst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD return NOS ZERO ()
             ADD return.productdetails NOS ZERO ()
             ADD return.productdetails.productid NOS ZERO ()
             ADD return.productdetails.productname NOS ZERO ()
             ADD return.productdetails.productprice NOS ZERO ()
             ADD return.productdetails.category NOS ZERO ()
             ADD return.productdetails.category.categoryid NOS ZERO ()
             ADD return.productdetails.category.categoryname NOS ZERO ()
             ADD return.productdetails.characteristics NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_dimensions NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_weight NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_details NOS ZERO ()
             ADD return.productdetails.characteristics.characteristic_color NOS ZERO ()
             ADD return.productdetails.accessories NOS ZERO ()
             ADD return.productdetails.accessories.productid NOS ZERO ()
             ADD return.productdetails.accessories.productname NOS ZERO ()
             ADD return.productdetails.accessories.productprice NOS ZERO ()
             ADD parameters.categoryname (=) OPT ONE
             ADD return.productdetails NOS ZERO ()
             ADD return.productdetails.accessories (any) OBL ONE
        )
        OUTPUTLIST (parameters, return
        )
        WRAPPER (ws getproductdetailsbycategory)
    );

CHOWN admin VIEW getproductdetailsbycategory LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of ob_dv_basics
# #######################################
DROP VIEW IF EXISTS bv_user1 CASCADE;

CREATE VIEW bv_user1 FOLDER = '/derived_views' AS SELECT displayname, samaccountname, userprincipalname, memberof FROM FLATTEN bv_user AS v ( v.memberof) CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW bv_user1 LASTMODIFICATIONUSER admin;

ALTER VIEW bv_user1
 LAYOUT (bv_user = [20, 20, 267, 126]);

DROP VIEW IF EXISTS dv_products_by_category CASCADE;

CREATE VIEW dv_products_by_category FOLDER = '/derived_views' AS SELECT dv_getproductsbycategory.parameters AS parameters, dv_getproductsbycategory.productid AS productid, dv_getproductsbycategory.productname AS productname, dv_getproductsbycategory.productprice AS productprice FROM dv_getproductsbycategory CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_products_by_category LASTMODIFICATIONUSER admin;

ALTER VIEW dv_products_by_category
 LAYOUT (dv_getproductsbycategory = [20, 20, 334, 106]);

DROP VIEW IF EXISTS dv_sales_by_category CASCADE;

CREATE VIEW dv_sales_by_category FOLDER = '/derived_views' AS SELECT (bv_getproductsbycategory.parameters).categoryname AS categoryname, bv_sales_all.saleid AS saleid, bv_sales_all.productid AS productid, bv_sales_all.employeeid AS employeeid, bv_sales_all.customerid AS customerid, bv_sales_all.saledate AS saledate, bv_sales_all.bundleamount AS bundleamount, bv_sales_all.productsaleprice AS productsaleprice, bv_sales_all.totalprice AS totalprice, bv_getproductsbycategory.productname AS productname, bv_getproductsbycategory.productprice AS productprice FROM dv_getproductsbycategory AS bv_getproductsbycategory INNER JOIN labs_db_basics.bv_sales_all AS bv_sales_all ON bv_getproductsbycategory.productid = bv_sales_all.productid  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_sales_by_category
 LAYOUT (dv_getproductsbycategory = [120, 110, 200, 126], bv_sales_all = [550, 70, 200, 206]);

CHOWN admin VIEW dv_sales_by_category LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_seller_sales_array CASCADE;

CREATE VIEW dv_seller_sales_array FOLDER = '/derived_views' AS SELECT (bv_getproductsbycategory.parameters).categoryname AS categoryname, bv_sales_all.saleid AS saleid, bv_sales_all.totalprice AS totalprice FROM dv_getproductsbycategory AS bv_getproductsbycategory INNER JOIN labs_db_basics.bv_sales_all AS bv_sales_all ON bv_getproductsbycategory.productid = bv_sales_all.productid  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_seller_sales_array
 LAYOUT (dv_getproductsbycategory = [170, 210, 200, 106], bv_sales_all = [690, 240, 200, 206]);

CHOWN admin VIEW dv_seller_sales_array LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_user_roles CASCADE;

CREATE VIEW dv_user_roles FOLDER = '/derived_views' AS SELECT bv_groups.cn AS cn, bv_groups.distinguishedname AS distinguishedname, bv_groups.objectcategory AS objectcategory, bv_user1.displayname AS displayname, bv_user1.samaccountname AS samaccountname, bv_user1.userprincipalname AS userprincipalname, bv_user1.memberof AS memberof FROM bv_user1 AS bv_user1 INNER JOIN bv_group AS bv_groups ON bv_user1.memberof = bv_groups.distinguishedname  WHERE bv_user1.displayname is not null  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_user_roles
 LAYOUT (bv_user1 = [389, 112, 200, 106], bv_group = [780, 80, 200, 86]);

CHOWN admin VIEW dv_user_roles LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_more_thanonerole CASCADE;

CREATE VIEW dv_more_thanonerole FOLDER = '/derived_views' AS SELECT displayname AS displayname FROM dv_user_roles GROUP BY displayname HAVING count(cn) > 1 CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_more_thanonerole LASTMODIFICATIONUSER admin;

ALTER VIEW dv_more_thanonerole
 LAYOUT (dv_user_roles = [20, 20, 270, 166]);

# #######################################
# ASSOCIATIONS of ob_dv_basics
# #######################################
# No associations in database ob_dv_basics
# #######################################
# WEBSERVICES of ob_dv_basics
# #######################################
DROP SOAP WEBSERVICE IF EXISTS sales_by_category;

CREATE SOAP WEBSERVICE sales_by_category
    CONNECTION (
        CHUNKSIZE = 1000
        CHUNKTIMEOUT = 90000
        QUERYTIMEOUT = 900000
        POOLENABLED = true
        POOLINITSIZE = 0
        POOLMAXACTIVE = 30
    )
    I18N  = au_cst
    DATETYPEMAPPING DATE
    NOWRAPARRAYS
    RAISEFAULTONIDU
    DONOTAPPLYOUTPUTXSLTTOERRORS
    AUTHENTICATION (WSS BASIC
    USER 'admin'
    PASSWORD 'OoMhDx2UIvWun4a/iKweaOuH8f5r8IHxt0gP0nZCToLIV1ryfaGA1Zs2EQrgbWpk4t19Dm64XTGmxFObxCsfNqrCA/D59QB05JMX5LUGH3RwnWtnPTnhShu+LXVTdmIX' ENCRYPTED )
    OUTPUT 
        ( STYLE DOCUMENT )
    OPERATION 'saleby_category' (
        TYPE SELECT
        SCHEMA VIEW dv_sales_by_category
        VQL = 'SELECT categoryname, saleid, productid, employeeid, customerid, saledate, bundleamount, productsaleprice, totalprice, productname, productprice FROM dv_sales_by_category ^ExecuteIfIsNotNull("WHERE ",@WHEREEXPRESSION,"") CONTEXT (''i18n'' = ''au_cst''^ExecuteIfIsNotNull(", ",@VERBOSEERRORS,"")^ExecuteIfIsNotNull(", ",@CONTEXTEXPRESSION,""))'
        INPUTS 'saleby_category' (
            'CATEGORYNAME' categoryname:'text' '=' OBL 
        )
        OUTPUT 
            'DV_SALES_BY_CATEGORYReturn': Array of ( 'DV_SALES_BY_CATEGORYReturnRow': Register of (
                categoryname : 'text',
                saleid : 'text',
                productid : 'text',
                employeeid : 'text',
                customerid : 'text',
                saledate : 'text',
                bundleamount : 'text',
                productsaleprice : 'text',
                totalprice : 'text',
                productname : 'text',
                productprice : 'float'
            ) (
                    '/bundleamount'='BUNDLEAMOUNT',
                    '/categoryname'='CATEGORYNAME',
                    '/customerid'='CUSTOMERID',
                    '/employeeid'='EMPLOYEEID',
                    '/productid'='PRODUCTID',
                    '/productname'='PRODUCTNAME',
                    '/productprice'='PRODUCTPRICE',
                    '/productsaleprice'='PRODUCTSALEPRICE',
                    '/saledate'='SALEDATE',
                    '/saleid'='SALEID',
                    '/totalprice'='TOTALPRICE'))
    )
    FOLDER = '/web_service';

CHOWN admin WEBSERVICE sales_by_category LASTMODIFICATIONUSER admin;

# #######################################
# WIDGETS of ob_dv_basics
# #######################################
# No widgets in database ob_dv_basics
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of ob_dv_basics
# #######################################
UNDEPLOY IF EXISTS WEBSERVICE sales_by_category;

DEPLOY WEBSERVICE sales_by_category LOGIN = 'admin' PASSWORD = 'yelFSM6/EBMYvyY0DTrUDGfbav4P/ETFc07Ny5m87on6VbYdhuXhgcn/fmcgO79zLjro6KKxN3POK5HwdPkKvWGYBwboK32sS656WEDFDIhVDfQIzE7g4G4lVpuUgJoc' ENCRYPTED;

# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of ob_dv_basics
# #######################################
# No deployed widgets in database ob_dv_basics
# #######################################
# Closing connection with database ob_dv_basics
# #######################################
CLOSE;


# 7 ====================================================================

# #######################################
# DATABASE of sdb_information_snowflake
# #######################################
DROP DATABASE IF EXISTS sdb_information_snowflake;

CREATE DATABASE sdb_information_snowflake '';

CONNECT DATABASE sdb_information_snowflake;

# #######################################
# FOLDERS of sdb_information_snowflake
# #######################################
CREATE OR REPLACE FOLDER '/01_data_sources' ;

CHOWN admin FOLDER '/01_data_sources';

CREATE OR REPLACE FOLDER '/02_base_views' ;

CHOWN admin FOLDER '/02_base_views';

# #######################################
# LISTENERS JMS of sdb_information_snowflake
# #######################################
# No listeners jms in database sdb_information_snowflake
# #######################################
# DATASOURCES of sdb_information_snowflake
# #######################################
DROP DATASOURCE JDBC IF EXISTS ds_prologis_one_snowflake_sharehouse_ro CASCADE;

CREATE DATASOURCE JDBC ds_prologis_one_snowflake_sharehouse_ro
    FOLDER = '/01_data_sources'
    DRIVERCLASSNAME = 'net.snowflake.client.jdbc.SnowflakeDriver'
    DATABASEURI = 'jdbc:snowflake://prologisnext.us-east-1.snowflakecomputing.com/?CLIENT_SESSION_KEEP_ALIVE=true'
    USERNAME = 'SVC_SFC_SHAREHOUSE_MONITOR_RO'
    USERPASSWORD = 'v40oJvFgB3Xi360SkYy9SQfT8tdbGjiWtLGXwR8c2rAYHo4BDx4dFZC7h+uUk02cKxljLoYvKcwbSnaBQL/W3R44BWVonVEp/yM32ET6J+2gR3ApTVpHl2/dtagv0OUc' ENCRYPTED
    CLASSPATH = '/opt/denodo/extensions/thirdparty/lib/snowflake-jdbc-3.6.11.jar'
    DATABASENAME = 'snowflake'
    DATABASEVERSION = '1_x' UNICODE
    ISOLATIONLEVEL = TRANSACTION_READ_COMMITTED
    IGNORETRAILINGSPACES = TRUE
    FETCHSIZE = 25000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 100
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        USE_FOR_QUERY_OPTIMIZATION = DATA_MOVEMENT
        BATCHINSERTSIZE = 100000
        BULK_LOAD_CONFIGURATION (
            WORK_DIR = '/opt/denodo/work'
        )
        USEEXTERNALTABLES ( 
            ONMOVEREAD = false,
            ONMOVEWRITE = true
        )
    )
    PROCESSING_UNITS = 2
    CPUS_PER_PROCESSING_UNIT = 16
    DESCRIPTION  = 'test12'
    SOURCECONFIGURATION (
        allowliteralasparameter = false,
        delegateaggregatefunctionslist = (avg, count, group_concat, list, max, min, stdev, stdevp, sum, var, varp)
    );

CHOWN admin DATASOURCE JDBC ds_prologis_one_snowflake_sharehouse_ro LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE sdb_information_snowflake
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of sdb_information_snowflake
# #######################################
DROP WRAPPER JDBC IF EXISTS rt_test_sharehouse CASCADE;

CREATE WRAPPER JDBC rt_test_sharehouse
    FOLDER = '/02_base_views'
    DATASOURCENAME=ds_prologis_one_snowflake_sharehouse_ro
    SQLSENTENCE='select ''@db_name'', count(*) as row_count
from "@db_name"."@schema_name"."@viewname"'   
    OUTPUTSCHEMA (
        pld_sharehouse_dev_0 = '''PLD_SHAREHOUSE_DEV''' :'java.lang.String' (sourcetypedecimals='0', sourcetypesize='18', sourcetypeid='12', sourcetypename='VARCHAR')  ESCAPE NOT NULL SORTABLE NOT UPDATEABLE,
        row_count = 'ROW_COUNT' :'java.lang.Long' (sourcetypedecimals='0', sourcetypesize='18', sourcetypeid='-5', sourcetypename='NUMBER')  NOT NULL NOT SORTABLE NOT UPDATEABLE,
        schema_name = 'SCHEMA_NAME' :'java.lang.String' (OBL) (DEFAULTVALUE='DENODO7_CACHE')  EXTERN SORTABLE,
        viewname = 'VIEWNAME' :'java.lang.String' (OBL) (DEFAULTVALUE='C_MARKET_AVAILABILITY_CURRENT691651768706039665937501388312855')  EXTERN SORTABLE,
        db_name = 'DB_NAME' :'java.lang.String' (OBL) (DEFAULTVALUE='PLD_SHAREHOUSE_DEV')  EXTERN SORTABLE
    )
    SOURCECONFIGURATION (
        datainorderfieldslist = ()
    );

CHOWN admin WRAPPER JDBC rt_test_sharehouse LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS snowflake_sharehouse_vdb_cache_names CASCADE;

CREATE WRAPPER JDBC snowflake_sharehouse_vdb_cache_names
    FOLDER = '/02_base_views'
    DATASOURCENAME=ds_prologis_one_snowflake_sharehouse_ro
    CATALOGNAME='PLD_SHAREHOUSE_DEV' 
    SCHEMANAME='DENODO7_CACHE' 
    RELATIONNAME='VDB_CACHE_NAMES' 
    OUTPUTSCHEMA (
        databasename = 'DATABASENAME' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='255', description='', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
        viewname = 'VIEWNAME' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='255', description='', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
        vdbname = 'VDBNAME' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='255', description='', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
        sqlname = 'SQLNAME' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetypesize='64', description='', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE
    )
    SOURCECONFIGURATION (
        delegatesqlsentenceassubquery = false,
        datainorderfieldslist = ()
    );

CHOWN admin WRAPPER JDBC snowflake_sharehouse_vdb_cache_names LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of sdb_information_snowflake
# #######################################
# No stored procedures in database sdb_information_snowflake
# #######################################
# TYPES of sdb_information_snowflake
# #######################################
# No types in database sdb_information_snowflake
# #######################################
# MAPS of sdb_information_snowflake
# #######################################
# No maps in database sdb_information_snowflake
# #######################################
# BASE VIEWS of sdb_information_snowflake
# #######################################
DROP VIEW IF EXISTS rt_test_sharehouse CASCADE;

CREATE TABLE rt_test_sharehouse I18N us_mst_mdt (
        pld_sharehouse_dev_0:text (sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '12'), 
        row_count:long (sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '-5'), 
        schema_name:text (extern), 
        viewname:text (extern), 
        db_name:text (extern)
    )
    FOLDER = '/02_base_views'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD rt_test_sharehouse(
        I18N us_mst_mdt
        CONSTRAINTS (
             ADD pld_sharehouse_dev_0 NOS ZERO ()
             ADD row_count NOS ZERO ()
             ADD schema_name (=) OBL ONE
             ADD db_name (=) OBL ONE
             ADD viewname NOS ZERO ()
        )
        OUTPUTLIST (pld_sharehouse_dev_0, row_count
        )
        WRAPPER (jdbc rt_test_sharehouse)
    );

CHOWN admin VIEW rt_test_sharehouse LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS snowflake_sharehouse_vdb_cache_names CASCADE;

CREATE TABLE snowflake_sharehouse_vdb_cache_names I18N us_mst_mdt (
        databasename:text (sourcetypedecimals = '0', sourcetypesize = '255', description = '', sourcetypeid = '12'), 
        viewname:text (sourcetypedecimals = '0', sourcetypesize = '255', description = '', sourcetypeid = '12'), 
        vdbname:text (sourcetypedecimals = '0', sourcetypesize = '255', description = '', sourcetypeid = '12'), 
        sqlname:text (sourcetypedecimals = '0', sourcetypesize = '64', description = '', sourcetypeid = '12')
    )
    FOLDER = '/02_base_views'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD snowflake_sharehouse_vdb_cache_names(
        I18N us_mst_mdt
        CONSTRAINTS (
             ADD databasename (any) OPT ANY
             ADD viewname (any) OPT ANY
             ADD vdbname (any) OPT ANY
             ADD sqlname (any) OPT ANY
        )
        OUTPUTLIST (databasename, sqlname, vdbname, viewname
        )
        WRAPPER (jdbc snowflake_sharehouse_vdb_cache_names)
    );

CHOWN admin VIEW snowflake_sharehouse_vdb_cache_names LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of sdb_information_snowflake
# #######################################
# No views in database sdb_information_snowflake
# #######################################
# ASSOCIATIONS of sdb_information_snowflake
# #######################################
# No associations in database sdb_information_snowflake
# #######################################
# WEBSERVICES of sdb_information_snowflake
# #######################################
# No web services in database sdb_information_snowflake
# #######################################
# WIDGETS of sdb_information_snowflake
# #######################################
# No widgets in database sdb_information_snowflake
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of sdb_information_snowflake
# #######################################
# No deployed web services in database sdb_information_snowflake
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of sdb_information_snowflake
# #######################################
# No deployed widgets in database sdb_information_snowflake
# #######################################
# Closing connection with database sdb_information_snowflake
# #######################################
CLOSE;


# 8 ====================================================================

# #######################################
# DATABASE of labs_advance
# #######################################
DROP DATABASE IF EXISTS labs_advance;

CREATE DATABASE labs_advance '';

CONNECT DATABASE labs_advance;

# #######################################
# LISTENERS JMS of labs_advance
# #######################################
DROP LISTENER JMS IF EXISTS jms_regenerate_statistics;

CREATE LISTENER JMS jms_regenerate_statistics 
    VENDOR ACTIVEMQ
    DESTINATION = 'denodo_queue_training'
    REPLYTO = 'denodo_response_queue'
    QUEUE
    OUTPUT = XML
    USER = 'admin'
    PASSWORD = '98WEg1S1tqPXssvSjQhNcEXb/8rwLcxeMNZPXxqvupQbUpfeUSUMl7mKT0OgZz3sq9APvRi1PbmWghNbMgJMUJTOuzjZv1oAH5YxCGb/HfLQA/5ezvEkccX9A7Z1+PEH' ENCRYPTED
    VDPUSER = 'admin'
    MESSAGESCONTAINVARIABLE = TRUE
    QUERY = 'SELECT resultname FROM
catalog_elements(''@JMSEXPRESSION'',''*'',NULL,NULL,NULL,NULL,NULL,NULL,NU
LL) as cat
LEFT JOIN generate_stats(''denodo_training'',null) g
ON cat.resultname = g.viewName
where cat.resulttype = ''view'' and cat.resultsubtype = ''base'''
    ENABLED = FALSE
    PROPERTIES (
        'connectionFactoryNames' = 'JmsQueueConnectionFactory', 
        'java.naming.factory.initial' = 'org.apache.activemq.jndi.ActiveMQInitialContextFactory', 
        'transport.jms.ConnectionFactoryJNDIName' = 'JmsQueueConnectionFactory', 
        'java.naming.provider.url' = 'tcp://data-server:8161', 
        'connection.JmsQueueConnectionFactory.brokerURL' = 'tcp://data-server:61616', 
        'queue.denodo_queue_training' = 'denodo_queue_training', 
        'queue.denodo_response_queue' = 'denodo_response_queue')
;

# #######################################
# DATASOURCES of labs_advance
# #######################################
# No data sources in database labs_advance
# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE labs_advance
  CHARSET DEFAULT;

# #######################################
# WRAPPERS of labs_advance
# #######################################
# No wrappers in database labs_advance
# #######################################
# STORED PROCEDURES of labs_advance
# #######################################
# No stored procedures in database labs_advance
# #######################################
# TYPES of labs_advance
# #######################################
# No types in database labs_advance
# #######################################
# MAPS of labs_advance
# #######################################
# No maps in database labs_advance
# #######################################
# BASE VIEWS of labs_advance
# #######################################
# No base views in database labs_advance
# #######################################
# VIEWS of labs_advance
# #######################################
# No views in database labs_advance
# #######################################
# ASSOCIATIONS of labs_advance
# #######################################
# No associations in database labs_advance
# #######################################
# WEBSERVICES of labs_advance
# #######################################
# No web services in database labs_advance
# #######################################
# WIDGETS of labs_advance
# #######################################
# No widgets in database labs_advance
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of labs_advance
# #######################################
# No deployed web services in database labs_advance
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of labs_advance
# #######################################
# No deployed widgets in database labs_advance
# #######################################
# Closing connection with database labs_advance
# #######################################
CLOSE;


# 9 ====================================================================

# #######################################
# DATABASE of admin
# #######################################
CONNECT DATABASE admin;

# #######################################
# FOLDERS of admin
# #######################################
CREATE OR REPLACE FOLDER '/base views' ;

CHOWN admin FOLDER '/base views';

CREATE OR REPLACE FOLDER '/data_sources' ;

CHOWN admin FOLDER '/data_sources';

CREATE OR REPLACE FOLDER '/derived_views' ;

CHOWN admin FOLDER '/derived_views';

# #######################################
# LISTENERS JMS of admin
# #######################################
# No listeners jms in database admin
# #######################################
# DATASOURCES of admin
# #######################################
DROP DATASOURCE DF IF EXISTS ds_connections CASCADE;

CREATE DATASOURCE DF ds_connections
    FOLDER = '/data_sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Users/Sarthak Garg/Desktop/labs 2/DEN60EDU0112LAB01/' FILENAMEPATTERN = '(.*)\.log'
    TUPLEPATTERN = '\[(.+)Z\]\t([0-9\.]+)\t([a-zA-Z ]+)\t([^,]+),([0-2]+) \(Apache-Coyote/1.1: (.+)\) size:(.+)'
    ENDOFLINEDELIMITER = '\n'
    HEADER = FALSE;

CHOWN admin DATASOURCE DF ds_connections LASTMODIFICATIONUSER admin;

DROP DATASOURCE DF IF EXISTS ds_connections_date CASCADE;

CREATE DATASOURCE DF ds_connections_date
    FOLDER = '/data_sources'
    ROUTE LOCAL 'LocalConnection' 'C:/Users/Sarthak Garg/Desktop/labs 2/DEN60EDU0112LAB01/^DateRange("yyyy/MM/dd",@start_date,@end_date,"yyyyMMdd").log'
    TUPLEPATTERN = '\[(.+)Z\]\t([0-9\.]+)\t([a-zA-Z ]+)\t([^,]+),([0-2]+) \(Apache-Coyote/1.1: (.+)\) size:(.+)'
    ENDOFLINEDELIMITER = '\n'
    HEADER = FALSE;

CHOWN admin DATASOURCE DF ds_connections_date LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS dd CASCADE;

CREATE DATASOURCE JDBC dd
    DRIVERCLASSNAME = 'com.dremio.jdbc.Driver'
    DATABASEURI = 'jdbc:dremio:direct=localhost:31010;schema=ds'
    USERNAME = 'admin'
    USERPASSWORD = 'SaBDKJ/sIvGBOoxAc9+ML6MzWchHTZCYb6n4g47gIK4isgNrzWyB9toIyQ4fs76lie0BGhO90KUxchmqonYTE4WBxCbR691ksGIhpCt4k5qL0rCCHbGa6opwxJAZ2HUJ' ENCRYPTED
    CLASSPATH = 'C:\Denodo\DenodoPlatform7.0\lib-external\jdbc-drivers\dremio\jdbc-driver\dremio-jdbc-driver-3.1.1-201901281837360699-30c9d74.jar'
    DATABASENAME = 'Generic'
    DATABASEVERSION = ''
    FETCHSIZE = 1000
    VALIDATIONQUERY = ''
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    );

CHOWN admin DATASOURCE JDBC dd LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS vdpcachedatasource CASCADE;

CREATE DATASOURCE JDBC vdpcachedatasource
    FOLDER = '/data_sources'
    DRIVERCLASSNAME = 'org.postgresql.Driver'
    DATABASEURI = 'jdbc:postgresql://localhost:5432/for_cache'
    USERNAME = 'admin'
    USERPASSWORD = 'JoqPMLSMOHtm6PN/TkDVDKo/W+UVwF7TGzv5/q6MP1OL0hEY7OiaZQD6sfQdjwThO36pA/iJL8IJ2aFcNG+c1hidiToqzIZYElYKRMTbcrc5E0ArNdF/YptjSa978ANk' ENCRYPTED
    CLASSPATH = 'postgresql-10'
    DATABASENAME = 'postgresql'
    DATABASEVERSION = '10'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 200
    );

CHOWN admin DATASOURCE JDBC vdpcachedatasource LASTMODIFICATIONUSER admin;

DROP DATASOURCE ODBC IF EXISTS ds__call_center CASCADE;

CREATE DATASOURCE ODBC ds__call_center
    FOLDER = '/data_sources'
    DSN = 'sarthak_dsn'
    USERNAME = 'phone'
    USERPASSWORD = '1HG+TfJF18Y6AeQWIz2N9lDFf2jFzl4w4jJN4ITtkjiChUqWvrKRB7XETd+oXjCbuE9GwhcbFeU8HzRU2EmQ/roxzy09Lryqp/x+J2195FGGEcSAGM413kD7CR8fA+Mq' ENCRYPTED
    CLASSPATH = 'jdbc-odbc'
    DATABASENAME = 'access'
    DATABASEVERSION = '4'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'Select 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8;

CHOWN admin DATASOURCE ODBC ds__call_center LASTMODIFICATIONUSER admin;

DROP DATASOURCE WS IF EXISTS ds_products CASCADE;

CREATE DATASOURCE WS ds_products
    FOLDER = '/data_sources'
    WSDLURI = 'http://localhost:8081/services/products-ws?wsdl'
    CHECKCERTIFICATES 
    MAXCONNECTIONS 50
    CONNECTIONPOOLTIMEOUT 0
    AUTHENTICATION WSS BASIC( 
      USER 'product'
      PASSWORD 'i61juPBhuoBp4UDa/jYNqWVQpoK6L3z4Zuk4VKd+JJF0/zWlE6/0qUOOctapcGMOsSB+ej0LOf3wICq1jVYcLBYFXzfuwWx7+KfZnHiLxyA6rGwV0W9zdnA+L1OKMwA+' ENCRYPTED )
    PROXY OFF;

CHOWN admin DATASOURCE WS ds_products LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE admin
  CHARSET DEFAULT;

ALTER DATABASE admin
  CACHE ON (
    MAINTAINERPERIOD 21600
    TIMETOLIVE 3600
    DATASOURCE vdpcachedatasource DATABASE admin
  );

# #######################################
# WRAPPERS of admin
# #######################################
DROP WRAPPER DF IF EXISTS ds_connections_6693 CASCADE;

CREATE WRAPPER DF ds_connections_6693
    FOLDER = '/derived_views'
    DATASOURCENAME=ds_connections
    OUTPUTSCHEMA (
        date = 'Column0' (OPT),
        source_ip = 'Column1' (OPT),
        device = 'Column2' (OPT),
        path = 'Column3' (OPT),
        code = 'Column4' (OPT),
        content_type = 'Column5' (OPT),
        size = 'Column6' (OPT)
    );

CHOWN admin WRAPPER DF ds_connections_6693 LASTMODIFICATIONUSER admin;

DROP WRAPPER DF IF EXISTS ds_connections_date CASCADE;

CREATE WRAPPER DF ds_connections_date
    FOLDER = '/derived_views'
    DATASOURCENAME=ds_connections_date
    OUTPUTSCHEMA (
        end_date = 'end_date' (OBL) (DEFAULTVALUE='2016/01/02') EXTERN,
        start_date = 'start_date' (OBL) (DEFAULTVALUE='2016/01/02') EXTERN,
        column0 = 'Column0' (OPT),
        column1 = 'Column1' (OPT),
        column2 = 'Column2' (OPT),
        column3 = 'Column3' (OPT),
        column4 = 'Column4' (OPT),
        column5 = 'Column5' (OPT),
        column6 = 'Column6' (OPT)
    );

CHOWN admin WRAPPER DF ds_connections_date LASTMODIFICATIONUSER admin;

DROP WRAPPER JDBC IF EXISTS c_bv_hr_departments CASCADE;

CREATE WRAPPER JDBC c_bv_hr_departments
    FOLDER = '/data_sources'
    DATASOURCENAME=vdpcachedatasource
    SCHEMANAME='public' ESCAPE
    RELATIONNAME='c_bv_hr_departments0119234128440404572926931564726913126151464' 
    OUTPUTSCHEMA (
        department_id = 'department_id' :'java.lang.Double' (OPT) (sourcetypedecimals='17', sourcetyperadix='10', sourcetypesize='17', sourcetypeid='8', sourcetypename='float8')  SORTABLE,
        department_name = 'department_name' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='2147483647', sourcetypeid='12', sourcetypename='text')  SORTABLE,
        location_id = 'location_id' :'java.lang.Double' (OPT) (sourcetypedecimals='17', sourcetyperadix='10', sourcetypesize='17', sourcetypeid='8', sourcetypename='float8')  SORTABLE,
        manager_id = 'manager_id' :'java.lang.Double' (OPT) (sourcetypedecimals='17', sourcetyperadix='10', sourcetypesize='17', sourcetypeid='8', sourcetypename='float8')  SORTABLE,
        expirationdate = 'expirationdate' :'java.math.BigDecimal' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='131089', sourcetypeid='2', sourcetypename='numeric')  SORTABLE,
        rowstatus = 'rowstatus' :'java.lang.String' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='255', sourcetypeid='12', sourcetypename='varchar')  SORTABLE
    );

CHOWN admin WRAPPER JDBC c_bv_hr_departments LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS agent CASCADE;

CREATE WRAPPER ODBC agent
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='agent' 
    OUTPUTSCHEMA (
    agent_id = 'agent_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    agent_code = 'agent_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
    agent_name = 'agent_name' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='150')  SORTABLE
    );

CHOWN admin WRAPPER ODBC agent LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS bv_cc_service_call CASCADE;

CREATE WRAPPER ODBC bv_cc_service_call
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='service_call' 
    OUTPUTSCHEMA (
    call_id = 'call_id' :'java.lang.Integer' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='10', sourcetypeid='4', sourcetypename='COUNTER')  NOT NULL NOT SORTABLE,
    location_id = 'location_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    problem_code = 'problem_code' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    status_code = 'status_code' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    date_ticket_issued = 'date_ticket_issued' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='0', sourcetypesize='19', sourcetypeid='93', sourcetypename='DATETIME')  NOT SORTABLE,
    date_call_received = 'date_call_received' :'java.time.LocalDateTime' (OPT) (sourcetypedecimals='0', sourcetypesize='19', sourcetypeid='93', sourcetypename='DATETIME')  NOT SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypesize='250', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    caller_phone = 'caller_phone' :'java.lang.String' (OPT) (sourcetypesize='20', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE,
    case_id = 'case_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    agent_id = 'agent_id' :'java.lang.Long' (OPT) (sourcetypedecimals='0', sourcetyperadix='10', sourcetypesize='18', sourcetypeid='2', sourcetypename='DECIMAL')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypesize='30', sourcetypeid='12', sourcetypename='VARCHAR')  SORTABLE
    );

CHOWN admin WRAPPER ODBC bv_cc_service_call LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS case_definition CASCADE;

CREATE WRAPPER ODBC case_definition
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='case_definition' 
    OUTPUTSCHEMA (
    case_id = 'case_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    date_raised = 'date_raised' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    date_closed = 'date_closed' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    case_status = 'case_status' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    case_summary = 'case_summary' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    case_comments = 'case_comments' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE
    );

CHOWN admin WRAPPER ODBC case_definition LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS customer CASCADE;

CREATE WRAPPER ODBC customer
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='customer' 
    OUTPUTSCHEMA (
    customer_id = 'customer_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    customer_name = 'customer_name' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='150')  SORTABLE,
    customer_address = 'customer_address' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    phone_number = 'phone_number' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
    job_title = 'job_title' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC customer LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS problem CASCADE;

CREATE WRAPPER ODBC problem
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='problem' 
    OUTPUTSCHEMA (
    problem_code = 'problem_code' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    problem_description = 'problem_description' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC problem LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS service_call CASCADE;

CREATE WRAPPER ODBC service_call
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='service_call' 
    OUTPUTSCHEMA (
    call_id = 'call_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    location_id = 'location_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    problem_code = 'problem_code' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    status_code = 'status_code' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    date_ticket_issued = 'date_ticket_issued' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    date_call_received = 'date_call_received' :'java.sql.Timestamp' (OPT) (sourcetypename='DATETIME', sourcetypeid='93', sourcetypedecimals='0', sourcetypesize='19')  NOT SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE,
    caller_phone = 'caller_phone' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='20')  SORTABLE,
    case_id = 'case_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    agent_id = 'agent_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    customer_code = 'customer_code' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='30')  SORTABLE
    );

CHOWN admin WRAPPER ODBC service_call LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS service_location CASCADE;

CREATE WRAPPER ODBC service_location
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='service_location' 
    OUTPUTSCHEMA (
    id = 'id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    location_id = 'location_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    customer_id = 'customer_id' :'java.lang.Long' (OPT) (sourcetyperadix='10', sourcetypename='DECIMAL', sourcetypeid='2', sourcetypedecimals='0', sourcetypesize='18')  SORTABLE,
    business_name = 'business_name' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
    service_location = 'service_location' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='50')  SORTABLE,
    other_details = 'other_details' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC service_location LASTMODIFICATIONUSER admin;

DROP WRAPPER ODBC IF EXISTS status_code CASCADE;

CREATE WRAPPER ODBC status_code
    FOLDER = '/base views'
    DATASOURCENAME=ds__call_center
    SCHEMANAME='calltracking.mdb'  ESCAPE
    RELATIONNAME='status_code' 
    OUTPUTSCHEMA (
    code_id = 'code_id' :'java.lang.Integer' (OPT) (sourcetyperadix='10', sourcetypename='COUNTER', sourcetypeid='4', sourcetypedecimals='0', sourcetypesize='10')  NOT NULL NOT SORTABLE,
    code_description = 'code_description' :'java.lang.String' (OPT) (sourcetypename='VARCHAR', sourcetypeid='12', sourcetypesize='250')  SORTABLE
    );

CHOWN admin WRAPPER ODBC status_code LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bc_get_all_product_details CASCADE;

CREATE WRAPPER WS bc_get_all_product_details
    FOLDER = '/base views'
    DATASOURCENAME=ds_products
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProductDetails'
    INPUTMESSAGE='getAllProductDetails'
    OUTPUTMESSAGE='getAllProductDetailsResponse'
    TUPLEROOT='/Envelope/Body/getAllProductDetailsResponse/product/productDetails/productDetail'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    code='Envelope.Body.getAllProductDetailsResponse.product.code',
    description='Envelope.Body.getAllProductDetailsResponse.product.description',
    warnings='Envelope.Body.getAllProductDetailsResponse.product.warnings',
    numresults='Envelope.Body.getAllProductDetailsResponse.product.numResults',
    productid='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productId',
    productname='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productName',
    productprice='Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.productPrice',
    category = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.category': REGISTER OF (
        categoryid='categoryId',
        categoryname='categoryName'
    ),
    characteristics = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.characteristics': REGISTER OF (
        characteristic_dimensions='characteristic_dimensions',
        characteristic_weight='characteristic_weight',
        characteristic_details='characteristic_details',
        characteristic_color='characteristic_color'
    ),
    accessories = 'Envelope.Body.getAllProductDetailsResponse.product.productDetails.productDetail.accessories': ARRAY OF (
        productdata = 'accessories': REGISTER OF (
            productid='productId',
            productname='productName',
            productprice='productPrice'
        )
    )
    );

CHOWN admin WRAPPER WS bc_get_all_product_details LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_getallproducts CASCADE;

CREATE WRAPPER WS bv_getallproducts
    FOLDER = '/base views'
    DATASOURCENAME=ds_products
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProducts'
    INPUTMESSAGE='getAllProducts'
    OUTPUTMESSAGE='getAllProductsResponse'
    TUPLEROOT='/Envelope/Body/getAllProductsResponse/products/product'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    productid='Envelope.Body.getAllProductsResponse.products.product.productId',
    productname='Envelope.Body.getAllProductsResponse.products.product.productName',
    productprice='Envelope.Body.getAllProductsResponse.products.product.productPrice'
    );

CHOWN admin WRAPPER WS bv_getallproducts LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_by_catagory CASCADE;

CREATE WRAPPER WS bv_product_by_catagory
    FOLDER = '/base views'
    DATASOURCENAME=ds_products
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getProductsByCategory'
    INPUTMESSAGE='getProductsByCategory'
    OUTPUTMESSAGE='getProductsByCategoryResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        categoryname='categoryName' (OBL)
    ),
    return = '$$': REGISTER OF (
        products = 'products': ARRAY OF (
            productdata = 'ProductData': REGISTER OF (
                productid='productId',
                productname='productName',
                productprice='productPrice'
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_by_catagory LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_product_details CASCADE;

CREATE WRAPPER WS bv_product_details
    FOLDER = '/base views'
    DATASOURCENAME=ds_products
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllProductDetails'
    INPUTMESSAGE='getAllProductDetails'
    OUTPUTMESSAGE='getAllProductDetailsResponse'
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
    ),
    return = '$$': REGISTER OF (
        product = 'product': REGISTER OF (
            code='code',
            description='description',
            warnings='warnings',
            numresults='numResults',
            productdetails = 'productDetails': ARRAY OF (
                productdetaildata = 'ProductDetailData': REGISTER OF (
                    productid='productId',
                    productname='productName',
                    productprice='productPrice',
                    category = 'category': REGISTER OF (
                        categoryid='categoryId',
                        categoryname='categoryName'
                    ),
                    characteristics = 'characteristics': REGISTER OF (
                        characteristic_dimensions='characteristic_dimensions',
                        characteristic_weight='characteristic_weight',
                        characteristic_details='characteristic_details',
                        characteristic_color='characteristic_color'
                    ),
                    accessories = 'accessories': ARRAY OF (
                        productdata = 'ProductData': REGISTER OF (
                            productid='productId',
                            productname='productName',
                            productprice='productPrice'
                        )
                    )
                )
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_product_details LASTMODIFICATIONUSER admin;

DROP WRAPPER WS IF EXISTS bv_products_catagories CASCADE;

CREATE WRAPPER WS bv_products_catagories
    FOLDER = '/base views'
    DATASOURCENAME=ds_products
    SERVICENAME='products-ws'
    PORTNAME='ProductImplPort'
    OPERATIONNAME='getAllCategories'
    INPUTMESSAGE='getAllCategories'
    OUTPUTMESSAGE='getAllCategoriesResponse'
    TUPLEROOT='/Envelope/Body/getAllCategoriesResponse'
    FROMEXAMPLE
    OUTPUTSCHEMA (
    parameters = '$0': REGISTER OF (
        mode='mode' (OBL)
    ),
    categories = 'Envelope.Body.getAllCategoriesResponse.categories': REGISTER OF (
        category = 'category': ARRAY OF (
            category = 'category': REGISTER OF (
                categoryid='categoryId',
                categoryname='categoryName'
            )
        )
    )
    );

CHOWN admin WRAPPER WS bv_products_catagories LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of admin
# #######################################
# No stored procedures in database admin
# #######################################
# TYPES of admin
# #######################################
DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_register AS REGISTER OF (custompermissions:text);

DROP TYPE IF EXISTS _procedure_catalog_permissions_restriction_register CASCADE;

CREATE TYPE _procedure_catalog_permissions_restriction_register AS REGISTER OF (sensitivefields:text, condition:text, action:text);

DROP TYPE IF EXISTS _register_boolean CASCADE;

CREATE TYPE _register_boolean AS REGISTER OF (value:boolean);

DROP TYPE IF EXISTS _register_text CASCADE;

CREATE TYPE _register_text AS REGISTER OF (value:text);

DROP TYPE IF EXISTS getallcategories_categories_category_category CASCADE;

CREATE TYPE getallcategories_categories_category_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallcategories_parameters CASCADE;

CREATE TYPE getallcategories_parameters AS REGISTER OF (mode:text);

DROP TYPE IF EXISTS getallproductdetails_accessories_productdata CASCADE;

CREATE TYPE getallproductdetails_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getallproductdetails_category CASCADE;

CREATE TYPE getallproductdetails_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallproductdetails_characteristics CASCADE;

CREATE TYPE getallproductdetails_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_category CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_category AS REGISTER OF (categoryid:int, categoryname:text);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_characteristics CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_characteristics AS REGISTER OF (characteristic_dimensions:text, characteristic_weight:text, characteristic_details:text, characteristic_color:text);

DROP TYPE IF EXISTS getproductsbycategory_parameters CASCADE;

CREATE TYPE getproductsbycategory_parameters AS REGISTER OF (categoryname:text);

DROP TYPE IF EXISTS getproductsbycategory_return_products_productdata CASCADE;

CREATE TYPE getproductsbycategory_return_products_productdata AS REGISTER OF (productid:int, productname:text, productprice:float);

DROP TYPE IF EXISTS _array_register_boolean CASCADE;

CREATE TYPE _array_register_boolean AS ARRAY OF _register_boolean;

DROP TYPE IF EXISTS _array_register_text CASCADE;

CREATE TYPE _array_register_text AS ARRAY OF _register_text;

DROP TYPE IF EXISTS _procedure_catalog_permissions_custompermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_custompermissions_array AS ARRAY OF _procedure_catalog_permissions_custompermissions_register;

DROP TYPE IF EXISTS _procedure_catalog_permissions_rowpermissions_array CASCADE;

CREATE TYPE _procedure_catalog_permissions_rowpermissions_array AS ARRAY OF _procedure_catalog_permissions_restriction_register;

DROP TYPE IF EXISTS getallcategories_categories_category CASCADE;

CREATE TYPE getallcategories_categories_category AS ARRAY OF getallcategories_categories_category_category;

DROP TYPE IF EXISTS getallproductdetails_accessories CASCADE;

CREATE TYPE getallproductdetails_accessories AS ARRAY OF getallproductdetails_accessories_productdata;

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata_accessories CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata_accessories AS ARRAY OF getallproductdetails_return_product_productdetails_productdetaildata_accessories_productdata;

DROP TYPE IF EXISTS getproductsbycategory_return_products CASCADE;

CREATE TYPE getproductsbycategory_return_products AS ARRAY OF getproductsbycategory_return_products_productdata;

DROP TYPE IF EXISTS getallcategories_categories CASCADE;

CREATE TYPE getallcategories_categories AS REGISTER OF (category:getallcategories_categories_category);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails_productdetaildata CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails_productdetaildata AS REGISTER OF (productid:int, productname:text, productprice:float, category:getallproductdetails_return_product_productdetails_productdetaildata_category, characteristics:getallproductdetails_return_product_productdetails_productdetaildata_characteristics, accessories:getallproductdetails_return_product_productdetails_productdetaildata_accessories);

DROP TYPE IF EXISTS getproductsbycategory_return CASCADE;

CREATE TYPE getproductsbycategory_return AS REGISTER OF (products:getproductsbycategory_return_products);

DROP TYPE IF EXISTS getallproductdetails_return_product_productdetails CASCADE;

CREATE TYPE getallproductdetails_return_product_productdetails AS ARRAY OF getallproductdetails_return_product_productdetails_productdetaildata;

DROP TYPE IF EXISTS getallproductdetails_return_product CASCADE;

CREATE TYPE getallproductdetails_return_product AS REGISTER OF (code:text, description:text, warnings:text, numresults:text, productdetails:getallproductdetails_return_product_productdetails);

DROP TYPE IF EXISTS getallproductdetails_return CASCADE;

CREATE TYPE getallproductdetails_return AS REGISTER OF (product:getallproductdetails_return_product);

# #######################################
# MAPS of admin
# #######################################
# No maps in database admin
# #######################################
# BASE VIEWS of admin
# #######################################
DROP VIEW IF EXISTS bv_cc_agent CASCADE;

CREATE TABLE bv_cc_agent I18N au_cst (
        agent_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        agent_code:text (sourcetypesize = '20', sourcetypeid = '12'), 
        agent_name:text (sourcetypesize = '150', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE FULL
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD agent(
        I18N au_cst
        CONSTRAINTS (
             ADD agent_id (any) OPT ANY
             ADD agent_code (any) OPT ANY
             ADD agent_name (any) OPT ANY
        )
        OUTPUTLIST (agent_code, agent_id, agent_name
        )
        WRAPPER (odbc agent)
    );

CHOWN admin VIEW bv_cc_agent LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_case_definition CASCADE;

CREATE TABLE bv_cc_case_definition I18N au_cst (
        case_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        date_raised:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        date_closed:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        case_status:long (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '-5'), 
        case_summary:text (sourcetypesize = '250', sourcetypeid = '12'), 
        case_comments:text (sourcetypesize = '250', sourcetypeid = '12'), 
        customer_code:text (sourcetypesize = '20', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD case_definition(
        I18N au_cst
        CONSTRAINTS (
             ADD case_id (any) OPT ANY
             ADD date_raised (any) OPT ANY
             ADD date_closed (any) OPT ANY
             ADD case_status (any) OPT ANY
             ADD case_summary (any) OPT ANY
             ADD case_comments (any) OPT ANY
             ADD customer_code (any) OPT ANY
        )
        OUTPUTLIST (case_comments, case_id, case_status, case_summary, customer_code, date_closed, date_raised
        )
        WRAPPER (odbc case_definition)
    );

CHOWN admin VIEW bv_cc_case_definition LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_customer CASCADE;

CREATE TABLE bv_cc_customer I18N au_cst (
        customer_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        customer_name:text (sourcetypesize = '150', sourcetypeid = '12'), 
        customer_address:text (sourcetypesize = '250', sourcetypeid = '12'), 
        phone_number:text (sourcetypesize = '20', sourcetypeid = '12'), 
        customer_code:text (sourcetypesize = '20', sourcetypeid = '12'), 
        job_title:text (sourcetypesize = '50', sourcetypeid = '12'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD customer(
        I18N au_cst
        CONSTRAINTS (
             ADD customer_id (any) OPT ANY
             ADD customer_name (any) OPT ANY
             ADD customer_address (any) OPT ANY
             ADD phone_number (any) OPT ANY
             ADD customer_code (any) OPT ANY
             ADD job_title (any) OPT ANY
             ADD other_details (any) OPT ANY
        )
        OUTPUTLIST (customer_address, customer_code, customer_id, customer_name, job_title, other_details, phone_number
        )
        WRAPPER (odbc customer)
    );

CHOWN admin VIEW bv_cc_customer LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_problem CASCADE;

CREATE TABLE bv_cc_problem I18N au_cst (
        problem_code:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        problem_description:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD problem(
        I18N au_cst
        CONSTRAINTS (
             ADD problem_code (any) OPT ANY
             ADD problem_description (any) OPT ANY
        )
        OUTPUTLIST (problem_code, problem_description
        )
        WRAPPER (odbc problem)
    );

CHOWN admin VIEW bv_cc_problem LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_service_call CASCADE;

CREATE TABLE bv_cc_service_call I18N au_cst (
        call_id:int (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '10', sourcetypeid = '4'), 
        location_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        problem_code:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        status_code:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        date_ticket_issued:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        date_call_received:date (sourcetypedecimals = '0', sourcetypesize = '19', sourcetypeid = '93'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12'), 
        caller_phone:text (sourcetypesize = '20', sourcetypeid = '12'), 
        case_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        agent_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        customer_code:text (sourcetypesize = '30', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_cc_service_call(
        I18N au_cst
        CONSTRAINTS (
             ADD call_id (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD problem_code (any) OPT ANY
             ADD status_code (any) OPT ANY
             ADD date_ticket_issued (any) OPT ANY
             ADD date_call_received (any) OPT ANY
             ADD other_details (any) OPT ANY
             ADD caller_phone (any) OPT ANY
             ADD case_id (any) OPT ANY
             ADD agent_id (any) OPT ANY
             ADD customer_code (any) OPT ANY
        )
        OUTPUTLIST (agent_id, call_id, caller_phone, case_id, customer_code, date_call_received, date_ticket_issued, location_id, other_details, problem_code, status_code
        )
        WRAPPER (odbc bv_cc_service_call)
    );

CHOWN admin VIEW bv_cc_service_call LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_service_location CASCADE;

CREATE TABLE bv_cc_service_location I18N au_cst (
        id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        location_id:long (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '18', sourcetypeid = '-5'), 
        customer_id:long (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '18', sourcetypeid = '-5'), 
        business_name:text (sourcetypesize = '50', sourcetypeid = '12'), 
        service_location:text (sourcetypesize = '50', sourcetypeid = '12'), 
        other_details:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD service_location(
        I18N au_cst
        CONSTRAINTS (
             ADD id (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD customer_id (any) OPT ANY
             ADD business_name (any) OPT ANY
             ADD service_location (any) OPT ANY
             ADD other_details (any) OPT ANY
        )
        OUTPUTLIST (business_name, customer_id, id, location_id, other_details, service_location
        )
        WRAPPER (odbc service_location)
    );

CHOWN admin VIEW bv_cc_service_location LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_cc_status_code CASCADE;

CREATE TABLE bv_cc_status_code I18N au_cst (
        code_id:int (sourcetyperadix = '10', sourcetypedecimals = '0', sourcetypesize = '10', sourcetypeid = '4'), 
        code_description:text (sourcetypesize = '250', sourcetypeid = '12')
    )
    FOLDER = '/base views'
    PRIMARY KEY ( 'code_id' )
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD status_code(
        I18N au_cst
        CONSTRAINTS (
             ADD code_id (any) OPT ANY
             ADD code_description (any) OPT ANY
        )
        OUTPUTLIST (code_description, code_id
        )
        WRAPPER (odbc status_code)
    );

CHOWN admin VIEW bv_cc_status_code LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_get_all_product_details CASCADE;

CREATE TABLE bv_get_all_product_details I18N au_cst (
        code:text, 
        description:text, 
        warnings:text, 
        numresults:text, 
        productid:int, 
        productname:text, 
        productprice:float, 
        category:getallproductdetails_category, 
        characteristics:getallproductdetails_characteristics, 
        accessories:getallproductdetails_accessories
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bc_get_all_product_details(
        I18N au_cst
        CONSTRAINTS (
             ADD code NOS ZERO ()
             ADD description NOS ZERO ()
             ADD warnings NOS ZERO ()
             ADD numresults NOS ZERO ()
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
             ADD category NOS ZERO ()
             ADD category.categoryid NOS ZERO ()
             ADD category.categoryname NOS ZERO ()
             ADD characteristics NOS ZERO ()
             ADD characteristics.characteristic_dimensions NOS ZERO ()
             ADD characteristics.characteristic_weight NOS ZERO ()
             ADD characteristics.characteristic_details NOS ZERO ()
             ADD characteristics.characteristic_color NOS ZERO ()
             ADD accessories NOS ZERO ()
             ADD accessories NOS ZERO ()
             ADD accessories.productid NOS ZERO ()
             ADD accessories.productname NOS ZERO ()
             ADD accessories.productprice NOS ZERO ()
        )
        OUTPUTLIST (accessories, category, characteristics, code, description, numresults, productid, productname, productprice, warnings
        )
        WRAPPER (ws bc_get_all_product_details)
    );

CHOWN admin VIEW bv_get_all_product_details LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_getallproducts CASCADE;

CREATE TABLE bv_getallproducts I18N au_cst (
        productid:int, 
        productname:text, 
        productprice:float
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_getallproducts(
        I18N au_cst
        CONSTRAINTS (
             ADD productid NOS ZERO ()
             ADD productname NOS ZERO ()
             ADD productprice NOS ZERO ()
        )
        OUTPUTLIST (productid, productname, productprice
        )
        WRAPPER (ws bv_getallproducts)
    );

CHOWN admin VIEW bv_getallproducts LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product_by_catagory CASCADE;

CREATE TABLE bv_product_by_catagory I18N au_cst (
        parameters:getproductsbycategory_parameters, 
        return:getproductsbycategory_return
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product_by_catagory(
        I18N au_cst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD parameters.categoryname (=) OBL ONE
             ADD return NOS ZERO ()
             ADD return.products NOS ZERO ()
             ADD return.products NOS ZERO ()
             ADD return.products.productid NOS ZERO ()
             ADD return.products.productname NOS ZERO ()
             ADD return.products.productprice NOS ZERO ()
        )
        OUTPUTLIST (parameters, return
        )
        WRAPPER (ws bv_product_by_catagory)
    );

CHOWN admin VIEW bv_product_by_catagory LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_product_details CASCADE;

CREATE TABLE bv_product_details I18N au_cst (
        return:getallproductdetails_return
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_product_details(
        I18N au_cst
        CONSTRAINTS (
             ADD return NOS ZERO ()
             ADD return.product NOS ZERO ()
             ADD return.product.code NOS ZERO ()
             ADD return.product.description NOS ZERO ()
             ADD return.product.warnings NOS ZERO ()
             ADD return.product.numresults NOS ZERO ()
             ADD return.product.productdetails NOS ZERO ()
             ADD return.product.productdetails NOS ZERO ()
             ADD return.product.productdetails.productid NOS ZERO ()
             ADD return.product.productdetails.productname NOS ZERO ()
             ADD return.product.productdetails.productprice NOS ZERO ()
             ADD return.product.productdetails.category NOS ZERO ()
             ADD return.product.productdetails.category.categoryid NOS ZERO ()
             ADD return.product.productdetails.category.categoryname NOS ZERO ()
             ADD return.product.productdetails.characteristics NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_dimensions NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_weight NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_details NOS ZERO ()
             ADD return.product.productdetails.characteristics.characteristic_color NOS ZERO ()
             ADD return.product.productdetails.accessories NOS ZERO ()
             ADD return.product.productdetails.accessories NOS ZERO ()
             ADD return.product.productdetails.accessories.productid NOS ZERO ()
             ADD return.product.productdetails.accessories.productname NOS ZERO ()
             ADD return.product.productdetails.accessories.productprice NOS ZERO ()
        )
        OUTPUTLIST (return
        )
        WRAPPER (ws bv_product_details)
    );

CHOWN admin VIEW bv_product_details LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS bv_products_catagories CASCADE;

CREATE TABLE bv_products_catagories I18N au_cst (
        parameters:getallcategories_parameters, 
        categories:getallcategories_categories
    )
    FOLDER = '/base views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD bv_products_catagories(
        I18N au_cst
        CONSTRAINTS (
             ADD parameters (=,is null) OPT ONE
             ADD parameters.mode (=) OBL ONE
             ADD categories NOS ZERO ()
             ADD categories.category NOS ZERO ()
             ADD categories.category NOS ZERO ()
             ADD categories.category.categoryid NOS ZERO ()
             ADD categories.category.categoryname NOS ZERO ()
        )
        OUTPUTLIST (categories, parameters
        )
        WRAPPER (ws bv_products_catagories)
    );

CHOWN admin VIEW bv_products_catagories LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS c_bv_hr_departments CASCADE;

CREATE TABLE c_bv_hr_departments I18N au_cst (
        department_id:double (sourcetypedecimals = '17', sourcetyperadix = '10', sourcetypesize = '17', sourcetypeid = '8'), 
        department_name:text (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '2147483647', sourcetypeid = '12'), 
        location_id:double (sourcetypedecimals = '17', sourcetyperadix = '10', sourcetypesize = '17', sourcetypeid = '8'), 
        manager_id:double (sourcetypedecimals = '17', sourcetyperadix = '10', sourcetypesize = '17', sourcetypeid = '8'), 
        expirationdate:decimal (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '131089', sourcetypeid = '2'), 
        rowstatus:text (sourcetypedecimals = '0', sourcetyperadix = '10', sourcetypesize = '255', sourcetypeid = '12')
    )
    FOLDER = '/data_sources'
    CACHE OFF
    BATCHSIZEINCACHE DEFAULT
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD c_bv_hr_departments(
        I18N au_cst
        CONSTRAINTS (
             ADD department_id (any) OPT ANY
             ADD department_name (any) OPT ANY
             ADD location_id (any) OPT ANY
             ADD manager_id (any) OPT ANY
             ADD expirationdate (any) OPT ANY
             ADD rowstatus (any) OPT ANY
        )
        OUTPUTLIST (department_id, department_name, expirationdate, location_id, manager_id, rowstatus
        )
        WRAPPER (jdbc c_bv_hr_departments)
    )
    SMART_ONLY;

CHOWN admin VIEW c_bv_hr_departments LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_conn_events CASCADE;

CREATE TABLE ds_conn_events I18N au_cst (
        date:text, 
        source_ip:text, 
        device:text, 
        path:text, 
        code:text, 
        content_type:text, 
        size:text
    )
    FOLDER = '/derived_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_connections(
        I18N au_cst
        CONSTRAINTS (
             ADD date (=,in) OPT ANY
             ADD source_ip (=,in) OPT ANY
             ADD device (=,in) OPT ANY
             ADD path (=,in) OPT ANY
             ADD code (=,in) OPT ANY
             ADD content_type (=,in) OPT ANY
             ADD size (=,in) OPT ANY
        )
        OUTPUTLIST (code, content_type, date, device, path, size, source_ip
        )
        WRAPPER (df ds_connections_6693)
    );

CHOWN admin VIEW ds_conn_events LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS ds_connections_date CASCADE;

CREATE TABLE ds_connections_date I18N au_cst (
        end_date:text (defaultvalue = '2016/01/02'), 
        start_date:text (defaultvalue = '2016/01/02'), 
        column0:text, 
        column1:text, 
        column2:text, 
        column3:text, 
        column4:text, 
        column5:text, 
        column6:text
    )
    FOLDER = '/derived_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD ds_connections_date(
        I18N au_cst
        CONSTRAINTS (
             ADD end_date (=) OBL ONE
             ADD start_date (=) OBL ONE
             ADD column0 (=,in) OPT ANY
             ADD column1 (=,in) OPT ANY
             ADD column2 (=,in) OPT ANY
             ADD column3 (=,in) OPT ANY
             ADD column4 (=,in) OPT ANY
             ADD column5 (=,in) OPT ANY
             ADD column6 (=,in) OPT ANY
        )
        OUTPUTLIST (column0, column1, column2, column3, column4, column5, column6
        )
        WRAPPER (df ds_connections_date)
    );

CHOWN admin VIEW ds_connections_date LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of admin
# #######################################
DROP VIEW IF EXISTS dv_employees_department_manager CASCADE;

CREATE VIEW dv_employees_department_manager FOLDER = '/derived_views' AS SELECT employees.employee_id AS employee_id, employees.first_name AS employee_first_name, employees.last_name AS employee_last_name, employees.email AS employee_email, employees.department_id AS department_id, departments.department_name AS department_name, employees1.employee_id AS manager_id, employees1.first_name AS manager_first_name, employees1.last_name AS manager_last_name, employees1.email AS manager_email FROM (ob_dvdeveloper_intro.bv_employees AS employees INNER JOIN ob_dvdeveloper_intro.bv_departments AS departments ON employees.department_id = departments.department_id ) INNER JOIN ob_dvdeveloper_intro.bv_employees AS employees1 ON employees.manager_id = employees1.employee_id  CONTEXT ('I18N' = 'au_cst');

ALTER VIEW dv_employees_department_manager
 LAYOUT (employees = [100, 70, 310, 246], departments = [650, 80, 200, 106], employees = [580, 270, 390, 246]);

CHOWN admin VIEW dv_employees_department_manager LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_test CASCADE;

CREATE VIEW dv_test AS SELECT 'test1' AS test_text, current_date() AS today FROM dual() CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_test LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_test2 CASCADE;

CREATE VIEW dv_test2 AS SELECT 'test1' AS test_text, current_date() AS today FROM dual() CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_test2 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS dv_product_by_catagory CASCADE;

CREATE VIEW dv_product_by_catagory FOLDER = '/derived_views' AS SELECT bv_product_by_catagory.parameters AS parameters, bv_product_by_catagory.return AS return, input FROM bv_product_by_catagory WHERE (parameters).categoryname = 'smartphone ' USING PARAMETERS ( input : text) CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW dv_product_by_catagory LASTMODIFICATIONUSER admin;

ALTER VIEW dv_product_by_catagory
 LAYOUT (bv_product_by_catagory = [20, 20, 325, 66]);

DROP VIEW IF EXISTS p_c_bv_hr_departments CASCADE;

CREATE VIEW p_c_bv_hr_departments FOLDER = '/data_sources' AS SELECT rowstatus AS rowstatus, count(rowstatus) AS x FROM c_bv_hr_departments GROUP BY rowstatus CONTEXT ('I18N' = 'au_cst');

CHOWN admin VIEW p_c_bv_hr_departments LASTMODIFICATIONUSER admin;

ALTER VIEW p_c_bv_hr_departments
 LAYOUT (c_bv_hr_departments = [20, 20, 213, 146]);

# #######################################
# ASSOCIATIONS of admin
# #######################################
# No associations in database admin
# #######################################
# WEBSERVICES of admin
# #######################################
# No web services in database admin
# #######################################
# WIDGETS of admin
# #######################################
# No widgets in database admin
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of admin
# #######################################
# No deployed web services in database admin
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of admin
# #######################################
# No deployed widgets in database admin
# #######################################
# Closing connection with database admin
# #######################################
CLOSE;


# 10 ====================================================================

# #######################################
# DATABASE of diagnostic
# #######################################
DROP DATABASE IF EXISTS diagnostic;

CREATE DATABASE diagnostic 'Database managed by the Diagnostic & Monitoring Tool.';

CONNECT DATABASE diagnostic;

# #######################################
# FOLDERS of diagnostic
# #######################################
CREATE OR REPLACE FOLDER '/20181123103447929' ;

CHOWN admin FOLDER '/20181123103447929';

CREATE OR REPLACE FOLDER '/20181123103447929/cache_loads' ;

CHOWN admin FOLDER '/20181123103447929/cache_loads';

CREATE OR REPLACE FOLDER '/20181123103447929/cache_loads/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/cache_loads/intermediate_views';

CREATE OR REPLACE FOLDER '/20181123103447929/datasources' ;

CHOWN admin FOLDER '/20181123103447929/datasources';

CREATE OR REPLACE FOLDER '/20181123103447929/datasources/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/datasources/intermediate_views';

CREATE OR REPLACE FOLDER '/20181123103447929/requests' ;

CHOWN admin FOLDER '/20181123103447929/requests';

CREATE OR REPLACE FOLDER '/20181123103447929/requests/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/requests/intermediate_views';

CREATE OR REPLACE FOLDER '/20181123103447929/resources' ;

CHOWN admin FOLDER '/20181123103447929/resources';

CREATE OR REPLACE FOLDER '/20181123103447929/resources/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/resources/intermediate_views';

CREATE OR REPLACE FOLDER '/20181123103447929/sessions' ;

CHOWN admin FOLDER '/20181123103447929/sessions';

CREATE OR REPLACE FOLDER '/20181123103447929/sessions/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/sessions/intermediate_views';

CREATE OR REPLACE FOLDER '/20181123103447929/threads' ;

CHOWN admin FOLDER '/20181123103447929/threads';

CREATE OR REPLACE FOLDER '/20181123103447929/threads/intermediate_views' ;

CHOWN admin FOLDER '/20181123103447929/threads/intermediate_views';

CREATE OR REPLACE FOLDER '/20190621155120398' ;

CHOWN admin FOLDER '/20190621155120398';

CREATE OR REPLACE FOLDER '/20190621155120398/errors' ;

CHOWN admin FOLDER '/20190621155120398/errors';

CREATE OR REPLACE FOLDER '/20190621155120398/errors/intermediate_views' ;

CHOWN admin FOLDER '/20190621155120398/errors/intermediate_views';

CREATE OR REPLACE FOLDER '/20190621155120398/requests' ;

CHOWN admin FOLDER '/20190621155120398/requests';

CREATE OR REPLACE FOLDER '/20190621155120398/requests/intermediate_views' ;

CHOWN admin FOLDER '/20190621155120398/requests/intermediate_views';

CREATE OR REPLACE FOLDER '/monitor_logging_dates' ;

CHOWN admin FOLDER '/monitor_logging_dates';

CREATE OR REPLACE FOLDER '/monitor_logging_dates/intermediate_views' ;

CHOWN admin FOLDER '/monitor_logging_dates/intermediate_views';

# #######################################
# LISTENERS JMS of diagnostic
# #######################################
# No listeners jms in database diagnostic
# #######################################
# DATASOURCES of diagnostic
# #######################################
DROP DATASOURCE CUSTOM IF EXISTS log_custom_wrapper CASCADE;

CREATE DATASOURCE CUSTOM log_custom_wrapper
    CLASSNAME='com.denodo.dashboard.connect.log.LogCustomWrapper'
    CLASSPATH='C:\Denodo\DenodoPlatform7.0\lib\dmt\denodo-dmt-log-customwrapper.jar';

CHOWN admin DATASOURCE CUSTOM log_custom_wrapper LASTMODIFICATIONUSER admin;

DROP DATASOURCE JDBC IF EXISTS customvdpcachedatasource CASCADE;

CREATE DATASOURCE JDBC customvdpcachedatasource
    DRIVERCLASSNAME = 'org.apache.derby.jdbc.ClientDriver'
    DATABASEURI = 'jdbc:derby://localhost:1527/cache'
    USERNAME = 'vdpcache'
    USERPASSWORD = '2z0pQRUCmqRloKGh5oOguwcg8l+xz+KtPKel0aK/DS+kQwTQbFq9vdlD698V8mx89rHdrIIpXFYjrIEKcNScJKz0iQMfVzZEW0IxiiLpV+BgJG/MO8qf/xo9jWTvH0AO' ENCRYPTED
    CLASSPATH = 'derby-10'
    DATABASENAME = 'derby'
    DATABASEVERSION = '10'
    FETCHSIZE = 1000
    VALIDATIONQUERY = 'values 1'
    INITIALSIZE = 4
    MAXIDLE = -1
    MINIDLE = 0
    MAXACTIVE = 20
    EXHAUSTEDACTION = 1
    TESTONBORROW = true
    TESTONRETURN = false
    TESTWHILEIDLE = false
    TIMEBETWEENEVICTION = -1
    NUMTESTPEREVICTION = 3
    MINEVICTABLETIME = 1800000
    POOLPREPAREDSTATEMENTS = false
    MAXSLEEPINGPS = 4
    INITIALCAPACITYPS = 8
    DATA_LOAD_CONFIGURATION (
        BATCHINSERTSIZE = 5000
    )
    SOURCECONFIGURATION (
        delegatescalarfunctionslist = (abs, acos, asin, atan, atan2, ceil, cos, cot, current_date, degrees, div, exp, floor, getday, gethour, getminute, getmonth, getsecond, getyear, len, ln, log, lower, mod, mult, now, nullif, position, radians, round, sign, sin, sqrt, subtract, sum, tan, textconstant, to_date, trim, upper)
    );

CHOWN admin DATASOURCE JDBC customvdpcachedatasource LASTMODIFICATIONUSER admin;

# #######################################
# DATABASE CONFIGURATION
# #######################################
ALTER DATABASE diagnostic
  CHARSET RESTRICTED;

ALTER DATABASE diagnostic
  COST OPTIMIZATION OFF
  QUERY SIMPLIFICATION OFF
  CACHE ON (
    MAINTENANCE OFF
    MAINTAINERPERIOD 21600
    TIMETOLIVE NOEXPIRE
    DATASOURCE customvdpcachedatasource DATABASE diagnostic
  );

# #######################################
# WRAPPERS of diagnostic
# #######################################
DROP WRAPPER CUSTOM IF EXISTS errors_instant_log_20190621155120398 CASCADE;

CREATE WRAPPER CUSTOM errors_instant_log_20190621155120398
    FOLDER = '/20190621155120398/errors/intermediate_views'
    DATASOURCENAME=log_custom_wrapper
    PARAMETERS (
      'Date Pattern' = 'yyyy-MM-dd''T''HH:mm:ss.SSS',
      'Date Extractor Pattern' = '.*?\\s(\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d)\\s.*',
      'Log timezone' = 'GMT',
      'Content Extractor Pattern' = '(\\d+)\\s+\\[([\^\\]]+)\\]\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)\\s(\\S*)\\s-\\s(.*?)\\s*((?<=\\n)\\w+\\.\\w+\\..*\\S)?\\s*',
      'Filepath' = ROUTE LOCAL 'LocalConnection' 'C:/Denodo/DenodoPlatform7.0/logs/vdp/vdp.log',
      'Sequential Search Interval' = 1000,
      'Rolling Implementation Class Name' = 'com.denodo.dashboard.connect.log.rollingpolicy.LexicographicRollingPolicy'
    )
    OUTPUTSCHEMA (
        elapsed_milliseconds = 'out0' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        thread_name = 'out1' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        priority = 'out2' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        date_as_text = 'out3' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        category = 'out4' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        nested_diagnostic_context = 'out5' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        message = 'out6' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        error_trace = 'out7' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        date = 'Extracted Date' : 'java.util.Date' (OPT) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_start_date = 'Search Start Date' : 'java.util.Date' (OBL) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_end_date = 'Search End Date' : 'java.util.Date' (OPT) NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM errors_instant_log_20190621155120398 LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS monitor_logging_dates_aux CASCADE;

CREATE WRAPPER CUSTOM monitor_logging_dates_aux
    FOLDER = '/monitor_logging_dates/intermediate_views'
    DATASOURCENAME=log_custom_wrapper
    PARAMETERS (
      'Date Pattern' = 'yyyy-MM-dd''T''HH:mm:ss.SSS',
      'Date Extractor Pattern' = '.*[Ll]ogging started at: (\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d).*',
      'Log timezone' = 'GMT',
      'Content Extractor Pattern' = '.*[Ll]ogging started at: \\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d(?:\\. Denodo Monitor.*? started at: (\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d))?(?:\\. VDP Server.*? started at: (\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d))?.*',
      'Filepath' = ROUTE LOCAL 'LocalConnection' '@MONITOR_LOG_FILE',
      'Sequential Search Interval' = 1,
      'Rolling Implementation Class Name' = 'com.denodo.dashboard.connect.log.rollingpolicy.LexicographicRollingPolicy'
    )
    OUTPUTSCHEMA (
        monitor_start_date_as_text = 'out0' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        vdp_start_date_as_text = 'out1' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        logging_date = 'Extracted Date' : 'java.util.Date' (OPT) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_start_date = 'Search Start Date' : 'java.util.Date' (OBL) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_end_date = 'Search End Date' : 'java.util.Date' (OPT) NOT SORTABLE NOT UPDATEABLE,
        monitor_log_file = 'MONITOR_LOG_FILE' : 'java.lang.String' (OBL) EXTERN NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM monitor_logging_dates_aux LASTMODIFICATIONUSER admin;

DROP WRAPPER CUSTOM IF EXISTS requests_instant_log_20190621155120398 CASCADE;

CREATE WRAPPER CUSTOM requests_instant_log_20190621155120398
    FOLDER = '/20190621155120398/requests/intermediate_views'
    DATASOURCENAME=log_custom_wrapper
    PARAMETERS (
      'Date Pattern' = 'yyyy-MM-dd''T''HH:mm:ss.SSS',
      'Date Extractor Pattern' = '.*\\t(\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d).*',
      'Log timezone' = 'GMT',
      'Content Extractor Pattern' = '([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t]*)\\t([\^\\t\\r\\n]*)(?:\\t([\^\\r\\n]*))?\\r?\\n?.*',
      'Filepath' = ROUTE LOCAL 'LocalConnection' 'C:/Denodo/DenodoPlatform7.0/logs/vdp/vdp-queries.log',
      'Sequential Search Interval' = 1000,
      'Rolling Implementation Class Name' = 'com.denodo.dashboard.connect.log.rollingpolicy.LexicographicRollingPolicy'
    )
    OUTPUTSCHEMA (
        server_name = 'out0' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        host = 'out1' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        port = 'out2' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        id = 'out3' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        database_name = 'out4' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        user_name = 'out5' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        notification_type = 'out6' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        session_id = 'out7' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        start_time_as_text = 'out8' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        end_time_as_text = 'out9' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        duration_as_text = 'out10' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        waiting_time_as_text = 'out11' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        num_rows_as_text = 'out12' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        state = 'out13' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        completed_as_text = 'out14' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        cache_as_text = 'out15' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        query = 'out16' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        request_type = 'out17' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        elements = 'out18' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        user_agent = 'out19' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        access_interface = 'out20' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        client_ip = 'out21' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        transaction_id_as_text = 'out22' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        webservice_name = 'out23' : 'java.lang.String' NOT SORTABLE NOT UPDATEABLE,
        date = 'Extracted Date' : 'java.util.Date' (OPT) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_start_date = 'Search Start Date' : 'java.util.Date' (OBL) NOT NULL NOT SORTABLE NOT UPDATEABLE,
        cw_search_end_date = 'Search End Date' : 'java.util.Date' (OPT) NOT SORTABLE NOT UPDATEABLE
    );

CHOWN admin WRAPPER CUSTOM requests_instant_log_20190621155120398 LASTMODIFICATIONUSER admin;

# #######################################
# STORED PROCEDURES of diagnostic
# #######################################
# No stored procedures in database diagnostic
# #######################################
# TYPES of diagnostic
# #######################################
DROP TYPE IF EXISTS _cf_parse_thread_dump_text_text_text_array_record CASCADE;

CREATE TYPE _cf_parse_thread_dump_text_text_text_array_record AS REGISTER OF (name:text, id:long, lock_object:text, lock_owner_id:long, lock_owner_name:text, previous_cpu_time:long, cpu_time:long, elapsed_cpu_time:long, elapsed_time:long, cpu_usage:float, in_native:boolean, suspended:boolean, in_deadlock:boolean, state:text, stack_trace:text);

DROP TYPE IF EXISTS _register_monitor_start_date CASCADE;

CREATE TYPE _register_monitor_start_date AS REGISTER OF (monitor_start_date:date);

DROP TYPE IF EXISTS _register_vdp_start_date CASCADE;

CREATE TYPE _register_vdp_start_date AS REGISTER OF (vdp_start_date:date);

DROP TYPE IF EXISTS _array_register_monitor_start_date CASCADE;

CREATE TYPE _array_register_monitor_start_date AS ARRAY OF _register_monitor_start_date;

DROP TYPE IF EXISTS _array_register_vdp_start_date CASCADE;

CREATE TYPE _array_register_vdp_start_date AS ARRAY OF _register_vdp_start_date;

DROP TYPE IF EXISTS _cf_parse_thread_dump_text_text_text_array CASCADE;

CREATE TYPE _cf_parse_thread_dump_text_text_text_array AS ARRAY OF _cf_parse_thread_dump_text_text_text_array_record;

# #######################################
# MAPS of diagnostic
# #######################################
# No maps in database diagnostic
# #######################################
# BASE VIEWS of diagnostic
# #######################################
DROP VIEW IF EXISTS errors_instant_log_20190621155120398 CASCADE;

CREATE TABLE errors_instant_log_20190621155120398 I18N rfc_restful (
        elapsed_milliseconds:long, 
        thread_name:text, 
        priority:text, 
        date_as_text:text, 
        category:text, 
        nested_diagnostic_context:text, 
        message:text, 
        error_trace:text, 
        date:date, 
        cw_search_start_date:date, 
        cw_search_end_date:date
    )
    FOLDER = '/20190621155120398/errors/intermediate_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD errors_instant_log_20190621155120398(
        I18N rfc_restful
        CONSTRAINTS (
             ADD elapsed_milliseconds NOS ZERO ()
             ADD thread_name NOS ZERO ()
             ADD priority NOS ZERO ()
             ADD date_as_text NOS ZERO ()
             ADD category NOS ZERO ()
             ADD nested_diagnostic_context NOS ZERO ()
             ADD message NOS ZERO ()
             ADD error_trace NOS ZERO ()
             ADD date (any) OPT ANY
             ADD cw_search_start_date (any) OBL ONE
             ADD cw_search_end_date (any) OPT ANY
        )
        OUTPUTLIST (category, cw_search_end_date, cw_search_start_date, date, date_as_text, elapsed_milliseconds, error_trace, message, nested_diagnostic_context, priority, thread_name
        )
        WRAPPER (custom errors_instant_log_20190621155120398)
    );

CHOWN admin VIEW errors_instant_log_20190621155120398 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS monitor_logging_dates_aux CASCADE;

CREATE TABLE monitor_logging_dates_aux I18N rfc_restful (
        monitor_start_date_as_text:text, 
        vdp_start_date_as_text:text, 
        logging_date:date, 
        cw_search_start_date:date, 
        cw_search_end_date:date, 
        monitor_log_file:text
    )
    FOLDER = '/monitor_logging_dates/intermediate_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD monitor_logging_dates_aux(
        I18N rfc_restful
        CONSTRAINTS (
             ADD monitor_start_date_as_text NOS ZERO ()
             ADD vdp_start_date_as_text NOS ZERO ()
             ADD logging_date (any) OPT ANY
             ADD cw_search_start_date (=) OBL ONE
             ADD cw_search_end_date (any) OPT ANY
             ADD monitor_log_file (=) OBL ONE
        )
        OUTPUTLIST (cw_search_end_date, cw_search_start_date, logging_date, monitor_start_date_as_text, vdp_start_date_as_text
        )
        WRAPPER (custom monitor_logging_dates_aux)
    );

CHOWN admin VIEW monitor_logging_dates_aux LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS requests_instant_log_20190621155120398 CASCADE;

CREATE TABLE requests_instant_log_20190621155120398 I18N rfc_restful (
        server_name:text, 
        host:text, 
        port:int, 
        id:long, 
        database_name:text, 
        user_name:text, 
        notification_type:text, 
        session_id:long, 
        start_time_as_text:text, 
        end_time_as_text:text, 
        duration_as_text:text, 
        waiting_time_as_text:text, 
        num_rows_as_text:text, 
        state:text, 
        completed_as_text:text, 
        cache_as_text:text, 
        query:text, 
        request_type:text, 
        elements:text, 
        user_agent:text, 
        access_interface:text, 
        client_ip:text, 
        transaction_id_as_text:text, 
        webservice_name:text, 
        date:date, 
        cw_search_start_date:date, 
        cw_search_end_date:date
    )
    FOLDER = '/20190621155120398/requests/intermediate_views'
    CACHE OFF
    TIMETOLIVEINCACHE DEFAULT
    ADD SEARCHMETHOD requests_instant_log_20190621155120398(
        I18N rfc_restful
        CONSTRAINTS (
             ADD server_name NOS ZERO ()
             ADD host NOS ZERO ()
             ADD port NOS ZERO ()
             ADD id NOS ZERO ()
             ADD database_name NOS ZERO ()
             ADD user_name NOS ZERO ()
             ADD notification_type NOS ZERO ()
             ADD session_id NOS ZERO ()
             ADD start_time_as_text NOS ZERO ()
             ADD end_time_as_text NOS ZERO ()
             ADD duration_as_text NOS ZERO ()
             ADD waiting_time_as_text NOS ZERO ()
             ADD num_rows_as_text NOS ZERO ()
             ADD state NOS ZERO ()
             ADD completed_as_text NOS ZERO ()
             ADD cache_as_text NOS ZERO ()
             ADD query NOS ZERO ()
             ADD request_type NOS ZERO ()
             ADD elements NOS ZERO ()
             ADD user_agent NOS ZERO ()
             ADD access_interface NOS ZERO ()
             ADD client_ip NOS ZERO ()
             ADD transaction_id_as_text NOS ZERO ()
             ADD webservice_name NOS ZERO ()
             ADD date (any) OPT ANY
             ADD cw_search_start_date (any) OBL ONE
             ADD cw_search_end_date (any) OPT ANY
        )
        OUTPUTLIST (access_interface, cache_as_text, client_ip, completed_as_text, cw_search_end_date, cw_search_start_date, database_name, date, duration_as_text, elements, end_time_as_text, host, id, notification_type, num_rows_as_text, port, query, request_type, server_name, session_id, start_time_as_text, state, transaction_id_as_text, user_agent, user_name, waiting_time_as_text, webservice_name
        )
        WRAPPER (custom requests_instant_log_20190621155120398)
    );

CHOWN admin VIEW requests_instant_log_20190621155120398 LASTMODIFICATIONUSER admin;

# #######################################
# VIEWS of diagnostic
# #######################################
DROP VIEW IF EXISTS errors_log_20190621155120398 CASCADE;

CREATE VIEW errors_log_20190621155120398 FOLDER = '/20190621155120398/errors' AS SELECT elapsed_milliseconds, thread_name, priority, date, category, nullif(nested_diagnostic_context, '') AS nested_diagnostic_context, substr(message FROM 1 FOR 32672) AS message, substr(error_trace FROM 1 FOR 32672) AS error_trace FROM errors_instant_log_20190621155120398 WHERE cw_search_start_date = to_date('yyyy-MM-dd', '1970-01-01') CONTEXT ('I18N' = 'rfc_restful');

CHOWN admin VIEW errors_log_20190621155120398 LASTMODIFICATIONUSER admin;

ALTER VIEW errors_log_20190621155120398
 CACHE FULL
     BATCHSIZEINCACHE DEFAULT TIMETOLIVEINCACHE NOEXPIRE
    DECLARE CACHE INDEX errors_20190621155120398_date_idx ON (date ASC);

DROP VIEW IF EXISTS monitor_logging_dates CASCADE;

CREATE VIEW monitor_logging_dates FOLDER = '/monitor_logging_dates' AS SELECT max(monitor_logging_dates_aux.logging_date) AS last_logging_date, nest(monitor_start_date) AS monitor_start_dates, nest(vdp_start_date) AS vdp_start_dates, monitor_logging_dates_aux.monitor_log_file FROM (SELECT logging_date, case WHEN (monitor_start_date_as_text is null ) THEN NULL ELSE to_date('yyyy-MM-dd''T''HH:mm:ss.SSS', monitor_start_date_as_text) END AS monitor_start_date, case WHEN (vdp_start_date_as_text is null ) THEN NULL ELSE to_date('yyyy-MM-dd''T''HH:mm:ss.SSS', vdp_start_date_as_text) END AS vdp_start_date, monitor_log_file FROM monitor_logging_dates_aux WHERE cw_search_start_date = to_date('yyyy-MM-dd', '1970-01-01')) GROUP BY monitor_logging_dates_aux.monitor_log_file CONTEXT ('I18N' = 'rfc_restful');

CHOWN admin VIEW monitor_logging_dates LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS requests_interval_log_20190621155120398 CASCADE;

CREATE VIEW requests_interval_log_20190621155120398 FOLDER = '/20190621155120398/requests/intermediate_views' AS SELECT id, last_database_name AS database_name, last_user_name AS user_name, case WHEN (first_notification_type <> last_notification_type) THEN 'endRequest' ELSE first_notification_type END AS notification_type, last_session_id AS session_id, case WHEN (first_notification_type <> last_notification_type) THEN min_date WHEN (first_notification_type = 'startRequest') THEN min_date ELSE to_date('yyyy-MM-dd''T''HH:mm:ss.SSS', start_time_as_text) END AS start_time, case WHEN (first_notification_type <> last_notification_type) THEN max_date WHEN (first_notification_type = 'endRequest') THEN min_date ELSE NULL END AS end_time, case first_notification_type WHEN 'startRequest' THEN last_duration_as_text ELSE first_duration_as_text END AS duration_as_text, case first_notification_type WHEN 'startRequest' THEN last_waiting_time_as_text ELSE first_waiting_time_as_text END AS waiting_time_as_text, case first_notification_type WHEN 'startRequest' THEN last_num_rows_as_text ELSE first_num_rows_as_text END AS num_rows_as_text, case first_notification_type WHEN 'startRequest' THEN last_state ELSE first_state END AS state, case first_notification_type WHEN 'startRequest' THEN last_cache_as_text ELSE first_cache_as_text END AS cache_as_text, last_query AS query, last_request_type AS request_type, case first_notification_type WHEN 'startRequest' THEN last_elements ELSE first_elements END AS elements, last_user_agent AS user_agent, last_access_interface AS access_interface, last_client_ip AS client_ip, case first_notification_type WHEN 'startRequest' THEN last_transaction_id_as_text ELSE first_transaction_id_as_text END AS transaction_id_as_text, last_webservice_name AS webservice_name FROM (SELECT requests_instant_log_20190621155120398.id, last(requests_instant_log_20190621155120398.database_name) AS last_database_name, last(requests_instant_log_20190621155120398.user_name) AS last_user_name, first(requests_instant_log_20190621155120398.notification_type) AS first_notification_type, last(requests_instant_log_20190621155120398.notification_type) AS last_notification_type, last(requests_instant_log_20190621155120398.session_id) AS last_session_id, requests_instant_log_20190621155120398.start_time_as_text, min(requests_instant_log_20190621155120398.date) AS min_date, max(requests_instant_log_20190621155120398.date) AS max_date, first(requests_instant_log_20190621155120398.duration_as_text) AS first_duration_as_text, last(requests_instant_log_20190621155120398.duration_as_text) AS last_duration_as_text, first(requests_instant_log_20190621155120398.waiting_time_as_text) AS first_waiting_time_as_text, last(requests_instant_log_20190621155120398.waiting_time_as_text) AS last_waiting_time_as_text, first(requests_instant_log_20190621155120398.num_rows_as_text) AS first_num_rows_as_text, last(requests_instant_log_20190621155120398.num_rows_as_text) AS last_num_rows_as_text, first(requests_instant_log_20190621155120398.state) AS first_state, last(requests_instant_log_20190621155120398.state) AS last_state, first(requests_instant_log_20190621155120398.cache_as_text) AS first_cache_as_text, last(requests_instant_log_20190621155120398.cache_as_text) AS last_cache_as_text, last(requests_instant_log_20190621155120398.query) AS last_query, last(requests_instant_log_20190621155120398.request_type) AS last_request_type, first(requests_instant_log_20190621155120398.elements) AS first_elements, last(requests_instant_log_20190621155120398.elements) AS last_elements, last(requests_instant_log_20190621155120398.user_agent) AS last_user_agent, last(requests_instant_log_20190621155120398.access_interface) AS last_access_interface, last(requests_instant_log_20190621155120398.client_ip) AS last_client_ip, first(requests_instant_log_20190621155120398.transaction_id_as_text) AS first_transaction_id_as_text, last(requests_instant_log_20190621155120398.transaction_id_as_text) AS last_transaction_id_as_text, last(requests_instant_log_20190621155120398.webservice_name) AS last_webservice_name FROM requests_instant_log_20190621155120398 WHERE cw_search_start_date = to_date('yyyy-MM-dd', '1970-01-01') GROUP BY requests_instant_log_20190621155120398.id, requests_instant_log_20190621155120398.start_time_as_text) CONTEXT ('I18N' = 'rfc_restful');

CHOWN admin VIEW requests_interval_log_20190621155120398 LASTMODIFICATIONUSER admin;

DROP VIEW IF EXISTS requests_log_20190621155120398 CASCADE;

CREATE VIEW requests_log_20190621155120398 FOLDER = '/20190621155120398/requests' AS SELECT id, database_name, user_name, notification_type, session_id, start_time, case WHEN (end_time is not null ) THEN end_time ELSE NULL END AS end_time, case duration_as_text WHEN '-' THEN NULL ELSE cast('long', duration_as_text) END AS duration, case waiting_time_as_text WHEN '-' THEN NULL ELSE cast('long', waiting_time_as_text) END AS waiting_time, case num_rows_as_text WHEN '-' THEN NULL ELSE cast('long', num_rows_as_text) END AS num_rows, nullif(state, '-') AS state, case cache_as_text WHEN '-' THEN NULL ELSE cast('boolean', cache_as_text) END AS cache, substr(query FROM 1 FOR 32672) AS query, request_type, nullif(elements, '-') AS elements, nullif(user_agent, '-') AS user_agent, access_interface, nullif(client_ip, '-') AS client_ip, case transaction_id_as_text WHEN '-' THEN NULL ELSE cast('long', transaction_id_as_text) END AS transaction_id, nullif(webservice_name, '-') AS webservice_name FROM requests_interval_log_20190621155120398 CONTEXT ('I18N' = 'rfc_restful');

CHOWN admin VIEW requests_log_20190621155120398 LASTMODIFICATIONUSER admin;

ALTER VIEW requests_log_20190621155120398
 CACHE FULL
     BATCHSIZEINCACHE DEFAULT TIMETOLIVEINCACHE NOEXPIRE
    DECLARE CACHE INDEX requests_20190621155120398_start_time_idx ON (start_time ASC)
    DECLARE CACHE INDEX requests_20190621155120398_end_time_idx ON (end_time ASC);

# #######################################
# ASSOCIATIONS of diagnostic
# #######################################
# No associations in database diagnostic
# #######################################
# WEBSERVICES of diagnostic
# #######################################
# No web services in database diagnostic
# #######################################
# WIDGETS of diagnostic
# #######################################
# No widgets in database diagnostic
# #######################################
# WEBCONTAINER WEB SERVICE DEPLOYMENTS of diagnostic
# #######################################
# No deployed web services in database diagnostic
# #######################################
# WEBCONTAINER WIDGET DEPLOYMENTS of diagnostic
# #######################################
# No deployed widgets in database diagnostic
# #######################################
# Closing connection with database diagnostic
# #######################################
CLOSE;

# #######################################
# Connecting to database admin
# #######################################
CONNECT DATABASE ADMIN;

# #######################################
# USER PRIVILEGES
# #######################################
ALTER USER cward19
GRANT ROLE allusers;

ALTER USER ss
GRANT ROLE allusers,assignprivileges;

ALTER USER test_user
GRANT ROLE allusers,assignprivileges;

# #######################################
# ROLE PRIVILEGES
# #######################################
ALTER ROLE "Shipping"
GRANT ROLE assignprivileges
GRANT ADMIN ON denodo_training;

ALTER ROLE "data analyst"
GRANT ROLE assignprivileges
GRANT METADATA, EXECUTE ON labs_db_basics.bv_hr_employees
GRANT EXECUTE (last_name, department_id, first_name, job_id, email, employee_id) ON labs_db_basics.bv_hr_employees;

ALTER ROLE executive
GRANT ROLE serveradmin,assignprivileges;

ALTER ROLE it
GRANT ROLE assignprivileges
GRANT CONNECT, CREATE, CREATE_DATA_SOURCE, CREATE_DATA_SERVICE, CREATE_VIEW, CREATE_FOLDER, METADATA, EXECUTE, WRITE, FILE ON labs_db_basics;

ALTER ROLE test
GRANT CONNECT, METADATA, EXECUTE ON labs_db_basics;

ALTER ROLE test_role
GRANT ROLE "Accounting","Administration";

# #######################################
# RESOURCE MANAGER PLANS
# #######################################
# #######################################
# RESOURCE MANAGER RULES
# #######################################
# #######################################
# Closing connection with database admin
# #######################################
CLOSE;

